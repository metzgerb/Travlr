(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"+7AZ":function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):d(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},"+tJ4":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},"+umK":function(t,e,n){"use strict";function r(){}n.d(e,"a",function(){return r})},"/WYv":function(t,e,n){"use strict";function r(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},0:function(t,e,n){t.exports=n("zUnb")},"0/uQ":function(t,e,n){"use strict";var r=n("6blF"),i=n("/WYv"),o=n("2ePl"),a=n("xTla"),s=n("En8+"),u=n("IUTb"),c=n("pugT"),l=n("S5XQ"),h=n("u67D"),f=n("JcRv"),d=n("Fxb1");function p(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(d.a)(t));if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:Object(f.a)(t))}(t,e);if(Object(i.a)(t))return function(t,e){return new r.a(e?function(n){var r=new c.a;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:Object(l.a)(t))}(t,e);if(Object(o.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[s.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(e?function(n){var r,i=new c.a;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[s.a](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),i}:Object(h.a)(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}n.d(e,"a",function(){return p})},"15JJ":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("MGBS"),o=n("rPjj"),a=n("zotm"),s=n("67Y/"),u=n("0/uQ");function c(t,e){return"function"==typeof e?function(n){return n.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))}))}:function(e){return e.lift(new l(t))}}var l=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.d(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.a(this,void 0,void 0);this.destination.add(i),this.innerSubscription=Object(a.a)(this,t,e,n,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a)},"26FU":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("mrSG"),i=n("K9Ia"),o=n("8g8A"),a=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.d(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},"2Bdj":function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},"2ePl":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},"4ftG":function(t,e,n){var r=n("rSCU"),i=n("GMxU").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(e){return a.slice()}}(t):i(r(t))}},"4pTB":function(t,e){},"61rj":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"67Y/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(i.a)},"6CFf":function(t,e,n){var r=n("L97z");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),a=n("os0x"),s=n("x7I3"),u=n("zVF4"),c=i.SDK_VERSION,l=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function f(){return l.logLevel===o.LogLevel.DEBUG?h.DEBUG:l.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function d(t){switch(t){case h.DEBUG:l.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:l.logLevel=o.LogLevel.ERROR;break;case h.SILENT:l.logLevel=o.LogLevel.SILENT;break;default:l.error("Firestore ("+c+"): Invalid value passed to `setLogLevel`")}}function p(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(l.logLevel<=o.LogLevel.DEBUG){var i=n.map(y);l.debug.apply(l,["Firestore ("+c+") ["+t+"]: "+e].concat(i))}}function m(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var r=e.map(y);l.error.apply(l,["Firestore ("+c+"): "+t].concat(r))}}function y(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function v(t){var e="FIRESTORE ("+c+") INTERNAL ASSERTION FAILED: "+t;throw m(e),new Error(e)}function g(t,e){t||v(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&v("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||v("Platform not set"),t.platform},t}();function w(){return b.getPlatform().emptyByteString}var S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},E=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(e,t),e}(Error);function _(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new E(S.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function T(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){return void 0!==t?t:e}function C(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in g(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e,n){if(e.length!==n)throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function x(t,e,n){if(e.length<n)throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires at least "+H(n,"argument")+", but was called with "+H(e.length,"argument")+".")}function D(t,e,n,r){if(e.length<n||e.length>r)throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+H(e.length,"argument")+".")}function N(t,e,n,r){L(t,e,z(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&N(t,e,n,r)}function P(t,e,n,r){L(t,e,n+" option",r)}function j(t,e,n,r){void 0!==r&&P(t,e,n,r)}function M(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(F(u))}var c=F(r);throw new E(S.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function L(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=F(r);throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function F(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v("Unknown wrong type: "+typeof t)}function q(t,e,n){if(void 0===n)throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+z(e)+" argument, but it was undefined.")}function V(t,e,n){k(e,function(e,r){if(n.indexOf(e)<0)throw new E(S.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function B(t,e,n,r){var i=F(r);return new E(S.INVALID_ARGUMENT,"Function "+t+"() requires its "+z(n)+" argument to be a "+e+", but it was: "+i)}function z(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function H(t,e){return t+" "+e+(1===t?"":"s")}var W=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return g(20===e.length,"Invalid auto ID: "+e),e},t}();function K(t,e){return t<e?-1:t>e?1:0}function G(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Q(){if("undefined"==typeof Uint8Array)throw new E(S.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Y(){if(!b.getPlatform().base64Available)throw new E(S.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X=function(){function t(t){Y(),this._binaryString=t}return t.fromBase64String=function(e){O("Blob.fromBase64String",arguments,1),N("Blob.fromBase64String","string",1,e),Y();try{return new t(b.getPlatform().atob(e))}catch(n){throw new E(S.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+n)}},t.fromUint8Array=function(e){if(O("Blob.fromUint8Array",arguments,1),Q(),!(e instanceof Uint8Array))throw B("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return O("Blob.toBase64",arguments,0),Y(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){O("Blob.toUint8Array",arguments,0),Q();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return K(this._binaryString,t._binaryString)},t}(),Z=_(X,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),J=function(){function t(t,e){if(O("GeoPoint",arguments,2),N("GeoPoint","number",1,t),N("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new E(S.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new E(S.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return K(this._lat,t._lat)||K(this._long,t._long)},t}(),$=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new E(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new E(S.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new E(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new E(S.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?K(this.nanoseconds,t.nanoseconds):K(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),tt=function(){return function(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}}(),et="(default)",nt=function(){function t(t,e){this.projectId=t,this.database=e||et}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===et},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return K(this.projectId,t.projectId)||K(this.database,t.database)},t}(),rt=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&v("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&v("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"==typeof e?n.push(e):v("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return g(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return g(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return g(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),it=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new E(S.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(rt),ot=/^[_a-zA-Z][_a-zA-Z0-9]*$/,at=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a.__extends(e,t),e.isValidIdentifier=function(t){return ot.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new E(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new E(S.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new E(S.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new E(S.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(rt),st=function(){function t(e){this.path=e,g(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===it.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return it.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new it(e.slice()))},t.fromPathString=function(e){return new t(it.fromString(e))},t.EMPTY=new t(new it([])),t}(),ut=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)},t}(),ct=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.data=r,a.proto=o,a.hasLocalMutations=!!i.hasLocalMutations,a.hasCommittedMutations=!!i.hasCommittedMutations,a}return a.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):v("Trying to compare documents on fields that don't exist")},e}(ut),lt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ut),ht=function(t){function e(e,n){return t.call(this,e,n)||this}return a.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(ut),ft=function(){function t(t,e){this.comparator=t,this.root=e||pt.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pt.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new dt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new dt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new dt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new dt(this.root,t,this.comparator,!0)},t}(),dt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),pt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw v("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw v("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),mt=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new pt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();pt.EMPTY=new mt;var yt=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),vt=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),gt=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(vt.Estimate,n);case"previous":return new t(vt.Previous,n);case"none":case void 0:return new t(vt.Default,n);default:return v("fromSnapshotOptions() called with invalid options.")}},t}(),bt=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return g(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,t.typeOrder)},t}(),wt=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=yt.NullValue,e.internalValue=null,e}return a.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(bt),St=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.BooleanValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(bt),Et=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.NumberValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(bt);function _t(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Tt=function(t){function e(e){return t.call(this,e)||this}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&_t(this.internalValue,t.internalValue)},e}(Et),It=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return a.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&_t(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Et),Ct=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.StringValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(bt),kt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.TimestampValue,n}return a.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof At?-1:this.defaultCompareTo(t)},e}(bt),At=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=yt.TimestampValue,r}return a.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===vt.Estimate?new kt(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===vt.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof kt?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(bt),Ot=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.BlobValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),xt=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=yt.RefValue,r}return a.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:st.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(bt),Dt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.GeoPointValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(bt),Nt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.ObjectValue,n}return a.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=K(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(g(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(g(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){g(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e&&n.internalValue.get(t)||void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new ft(K)),e}(bt),Rt=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=yt.ArrayValue,n}return a.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return K(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(bt),Pt=Number,jt=Pt.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Mt=Pt.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Lt=Pt.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function Ut(t){return null==t}function Ft(t){return Lt(t)&&t<=Mt&&t>=jt}var qt=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Yt]:[new Qt(t),Yt];else{g(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Kt.ASCENDING)===Kt.ASCENDING?Yt:Xt)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){g(null==this.getInequalityFilterField()||!(e instanceof zt)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!st.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){g(!st.isDocumentKey(this.path),"No ordering allowed for document query"),g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";Ut(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Ut(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Ut(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof zt&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof zt&&t.op===Bt.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return st.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return st.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){g(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),Vt=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(wt.INSTANCE)){if(e!==Bt.EQUAL)throw new E(S.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Ht(t)}if(n.isEqual(It.NAN)){if(e!==Bt.EQUAL)throw new E(S.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Wt(t)}return new zt(t,e,n)},t}(),Bt=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return v("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),zt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return a.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){g(this.value instanceof xt,"Comparing on key, but filter value not a RefValue"),g(this.op!==Bt.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=st.comparator(t.key,this.value.key);return this.matchesComparison(e)}var n=t.field(this.field);return void 0!==n&&this.matchesValue(n)},e.prototype.matchesValue=function(t){var e=this;return this.op===Bt.ARRAY_CONTAINS?t instanceof Rt&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Bt.LESS_THAN:return t<0;case Bt.LESS_THAN_OR_EQUAL:return t<=0;case Bt.EQUAL:return 0===t;case Bt.GREATER_THAN:return t>0;case Bt.GREATER_THAN_OR_EQUAL:return t>=0;default:return v("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Bt.EQUAL&&this.op!==Bt.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(Vt),Ht=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Vt),Wt=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return a.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"==typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(Vt),Kt=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Gt=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){g(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof xt,"Bound has a non-key value where the key path is being used."),n=st.comparator(o.key,e.key);else{var a=e.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===Kt.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)return this.position[e].isEqual(t.position[e]);return!0},t}(),Qt=function(){function t(t,e){this.field=t,void 0===e&&(e=Kt.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ct.compareByKey(t,e):ct.compareByField(this.field,t,e);switch(this.dir){case Kt.ASCENDING:return n;case Kt.DESCENDING:return-1*n;default:return v("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Yt=new Qt(at.keyField(),Kt.ASCENDING),Xt=new Qt(at.keyField(),Kt.DESCENDING),Zt=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new $(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new $(0,0)),t}(),Jt=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),$t=function(){function t(t,e,n,r,i,o){void 0===i&&(i=Zt.MIN),void 0===o&&(o=w()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),te=function(){function t(t){this.comparator=t,this.data=new ft(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ee(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ee(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ee=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ne=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new te(at.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),re=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ie=function(){return function(t,e){this.version=t,this.transformResults=e}}(),oe=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ae=function(){function t(t,e){this.updateTime=t,this.exists=e,g(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ct&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ct:(g(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),se=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&g(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ct?t.version:Zt.MIN},t}(),ue=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=oe.Set,i}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by SetMutation."),new ct(this.key,e.version,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=se.getPostMutationVersion(t);return new ct(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(se),ce=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=oe.Patch,o}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new ht(this.key,e.version);var n=this.patchDocument(t);return new ct(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=se.getPostMutationVersion(t),i=this.patchDocument(t);return new ct(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){return this.patchObject(t instanceof ct?t.data:Nt.EMPTY)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=void 0!==r?t.set(n,r):t.delete(n)}}),t},e}(se),le=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=oe.Transform,r.precondition=ae.exists(!0),r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),g(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new ht(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ct(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ct(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&G(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){g(t instanceof ct,"Unknown MaybeDocument type "+t);var e=t;return g(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];g(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ct&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ct&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){g(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(se),he=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=oe.Delete,r}return a.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),g(null==e.transformResults,"Transform results received by DeleteMutation."),new lt(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&g(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new lt(this.key,Zt.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(se),fe=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new At(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),de=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}(),pe=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=me(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Rt(e)},t.prototype.isEqual=function(e){return e instanceof t&&G(e.elements,this.elements)},t}();function me(t){return t instanceof Rt?t.internalValue.slice():[]}var ye=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ve=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function ge(t){switch(t){case S.OK:return v("Treated status OK as error");case S.CANCELLED:case S.UNKNOWN:case S.DEADLINE_EXCEEDED:case S.RESOURCE_EXHAUSTED:case S.INTERNAL:case S.UNAVAILABLE:case S.UNAUTHENTICATED:return!1;case S.INVALID_ARGUMENT:case S.NOT_FOUND:case S.ALREADY_EXISTS:case S.PERMISSION_DENIED:case S.FAILED_PRECONDITION:case S.ABORTED:case S.OUT_OF_RANGE:case S.UNIMPLEMENTED:case S.DATA_LOSS:return!0;default:return v("Unknown status code: "+t)}}function be(t){if(void 0===t)return m("GRPC error has no .code"),S.UNKNOWN;switch(t){case ve.OK:return S.OK;case ve.CANCELLED:return S.CANCELLED;case ve.UNKNOWN:return S.UNKNOWN;case ve.DEADLINE_EXCEEDED:return S.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return S.RESOURCE_EXHAUSTED;case ve.INTERNAL:return S.INTERNAL;case ve.UNAVAILABLE:return S.UNAVAILABLE;case ve.UNAUTHENTICATED:return S.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return S.INVALID_ARGUMENT;case ve.NOT_FOUND:return S.NOT_FOUND;case ve.ALREADY_EXISTS:return S.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return S.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return S.FAILED_PRECONDITION;case ve.ABORTED:return S.ABORTED;case ve.OUT_OF_RANGE:return S.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return S.UNIMPLEMENTED;case ve.DATA_LOSS:return S.DATA_LOSS;default:return v("Unknown status code: "+t)}}function we(t){if(void 0===t)return ve.OK;switch(t){case S.OK:return ve.OK;case S.CANCELLED:return ve.CANCELLED;case S.UNKNOWN:return ve.UNKNOWN;case S.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case S.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case S.INTERNAL:return ve.INTERNAL;case S.UNAVAILABLE:return ve.UNAVAILABLE;case S.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case S.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case S.NOT_FOUND:return ve.NOT_FOUND;case S.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case S.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case S.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case S.ABORTED:return ve.ABORTED;case S.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case S.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case S.DATA_LOSS:return ve.DATA_LOSS;default:return v("Unknown status code: "+t)}}var Se=new ft(st.comparator);function Ee(){return Se}function _e(){return Ee()}var Te=new ft(st.comparator);function Ie(){return Te}var Ce=new ft(st.comparator);function ke(){return Ce}var Ae=new te(st.comparator);function Oe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Ae,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var xe=new te(K);function De(){return xe}var Ne=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||st.comparator(e.key,n.key)}:function(t,e){return st.comparator(t.key,e.key)},this.keyedMap=Ie(),this.sortedSet=new ft(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Re=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Pe=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),je=function(){function t(){this.changeMap=new ft(st.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Re.Added&&n.type===Re.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Re.Metadata&&n.type!==Re.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Re.Modified&&n.type===Re.Modified?this.changeMap=this.changeMap.insert(e,{type:Re.Modified,doc:t.doc}):t.type===Re.Modified&&n.type===Re.Added?this.changeMap=this.changeMap.insert(e,{type:Re.Added,doc:t.doc}):t.type===Re.Removed&&n.type===Re.Added?this.changeMap=this.changeMap.remove(e):t.type===Re.Removed&&n.type===Re.Modified?this.changeMap=this.changeMap.insert(e,{type:Re.Removed,doc:n.doc}):t.type===Re.Added&&n.type===Re.Removed?this.changeMap=this.changeMap.insert(e,{type:Re.Modified,doc:t.doc}):v("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),Me=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Re.Added,doc:t})}),new t(e,n,Ne.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Le=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Ue.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(Zt.MIN,i,De(),Ee(),Oe())},t}(),Ue=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(w(),n,Oe(),Oe(),Oe())},t}(),Fe=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),qe=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Ve=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Be=function(){return function(t,e,n,r){void 0===n&&(n=w()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),ze=function(){function t(){this.pendingResponses=0,this.documentChanges=Ke(),this._resumeToken=w(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Oe(),e=Oe(),n=Oe();return this.documentChanges.forEach(function(r,i){switch(i){case Re.Added:t=t.add(r);break;case Re.Modified:e=e.add(r);break;case Re.Removed:n=n.add(r);break;default:v("Encountered invalid change type: "+i)}}),new Ue(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Ke()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),He=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Ee(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new te(K)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ct?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof lt&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Ve.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Ve.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Ve.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),g(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Ve.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Ve.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:v("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):C(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new st(i.path);this.removeDocumentFromTarget(e,o,new lt(o,Zt.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};C(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new st(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new lt(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Oe();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===Jt.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Le(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Ee(),this.pendingDocumentTargetMapping=We(),this.pendingTargetResets=new te(K),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Re.Modified:Re.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Re.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new ze),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new te(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;g(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new ze,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function We(){return new ft(st.comparator)}function Ke(){return new ft(st.comparator)}var Ge,Qe,Ye=((Ge={})[Kt.ASCENDING.name]="ASCENDING",Ge[Kt.DESCENDING.name]="DESCENDING",Ge),Xe=((Qe={})[Bt.LESS_THAN.name]="LESS_THAN",Qe[Bt.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",Qe[Bt.GREATER_THAN.name]="GREATER_THAN",Qe[Bt.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",Qe[Bt.EQUAL.name]="EQUAL",Qe[Bt.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",Qe),Ze=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Je(t,e){g(!Ut(t),e+" is missing")}function $e(t){return"number"==typeof t?t:"string"==typeof t?Number(t):v("can't parse "+t)}var tn=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?S.UNKNOWN:be(t.code);return new E(e,t.message||"")},t.prototype.toInt32Value=function(t){return Ut(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return Ut(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);g(!!t,"Cannot deserialize null or undefined timestamp.");var e=$e(t.seconds||"0");return new $(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=Ze.exec(t);if(g(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new $(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),X.fromBase64String(t)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),X.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return g(!!t,"Trying to deserialize version that isn't set"),Zt.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=it.fromString(t);return g(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return g(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),g(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new st(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?it.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new it(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new it(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return g(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof wt)return{nullValue:"NULL_VALUE"};if(t instanceof St)return{booleanValue:t.value()};if(t instanceof Tt)return{integerValue:""+t.value()};if(t instanceof It){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof Ct?{stringValue:t.value()}:t instanceof Nt?{mapValue:this.toMapValue(t)}:t instanceof Rt?{arrayValue:this.toArrayValue(t)}:t instanceof kt?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Dt?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Ot?{bytesValue:this.toBytes(t.value())}:t instanceof xt?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:v("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(en(t,n,"nullValue"))return wt.INSTANCE;if(en(t,n,"booleanValue"))return St.of(t.booleanValue);if(en(t,n,"integerValue"))return new Tt($e(t.integerValue));if(en(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return It.NAN;if("Infinity"===t.doubleValue)return It.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return It.NEGATIVE_INFINITY}return new It(t.doubleValue)}if(en(t,n,"stringValue"))return new Ct(t.stringValue);if(en(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(en(t,n,"arrayValue"))return Je(t.arrayValue,"arrayValue"),new Rt((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if(en(t,n,"timestampValue"))return Je(t.timestampValue,"timestampValue"),new kt(this.fromTimestamp(t.timestampValue));if(en(t,n,"geoPointValue"))return Je(t.geoPointValue,"geoPointValue"),new Dt(new J(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if(en(t,n,"bytesValue")){Je(t.bytesValue,"bytesValue");var r=this.fromBlob(t.bytesValue);return new Ot(r)}if(en(t,n,"referenceValue")){Je(t.referenceValue,"referenceValue");var i=this.fromResourceName(t.referenceValue),o=new nt(i.get(1),i.get(3)),a=new st(this.extractLocalPathFromResourceName(i));return new xt(o,a)}return v("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return g(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ct(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=Nt.EMPTY;return k(t,function(t,r){n=n.set(new at([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){g(!!t.found,"Tried to deserialize a found document from a missing document."),Je(t.found.name,"doc.found.name"),Je(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ct(e,n,r,{},t.found)},t.prototype.fromMissing=function(t){g(!!t.missing,"Tried to deserialize a missing document from a found document."),g(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new lt(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return en(t,e,"found")?this.fromFound(t):en(t,e,"missing")?this.fromMissing(t):v("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Ve.Added:return"ADD";case Ve.Current:return"CURRENT";case Ve.NoChange:return"NO_CHANGE";case Ve.Removed:return"REMOVE";case Ve.Reset:return"RESET";default:return v("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof qe)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Fe){var e;if(t.newDoc instanceof ct)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof lt)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Be){var n=void 0;return t.cause&&(n={code:we(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return v("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(en(t,n,"targetChange")){Je(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new Be(r,i,o,s||null)}else if(en(t,n,"documentChange")){Je(t.documentChange,"documentChange"),Je(t.documentChange.document,"documentChange.name"),Je(t.documentChange.document.name,"documentChange.document.name"),Je(t.documentChange.document.updateTime,"documentChange.document.updateTime");var u=t.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new ct(c,l,h,{},u.document);e=new Fe(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if(en(t,n,"documentDelete")){Je(t.documentDelete,"documentDelete"),Je(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;c=this.fromName(d.document),l=d.readTime?this.fromVersion(d.readTime):Zt.forDeletedDoc(),f=new lt(c,l),e=new Fe([],d.removedTargetIds||[],f.key,f)}else if(en(t,n,"documentRemove")){Je(t.documentRemove,"documentRemove"),Je(t.documentRemove.document,"documentRemove");var p=t.documentRemove;c=this.fromName(p.document),e=new Fe([],p.removedTargetIds||[],c,null)}else{if(!en(t,n,"filter"))return v("Unknown change type "+JSON.stringify(t));Je(t.filter,"filter"),Je(t.filter.targetId,"filter.targetId");var m=t.filter,y=new ye(m.count||0);e=new qe(m.targetId,y)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Ve.NoChange:"ADD"===t?Ve.Added:"REMOVE"===t?Ve.Removed:"CURRENT"===t?Ve.Current:"RESET"===t?Ve.Reset:v("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!en(t,t.response_type,"targetChange"))return Zt.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?Zt.MIN:e.readTime?this.fromVersion(e.readTime):Zt.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof ue)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof he)e={delete:this.toName(t.key)};else if(t instanceof ce)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof le))return v("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ae.NONE;if(t.update){Je(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new ce(r,i,o,n)}return new ue(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new he(r,n);if(t.transform){r=this.fromName(t.transform.document);var a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new le(r,a)}return v("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return g(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ae.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ae.exists(t.exists):ae.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ie(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(g(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof fe)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof de)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof pe)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw v("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;en(t,n,"setToServerValue")?(g("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=fe.instance):en(t,n,"appendMissingElements")?r=new de((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)})):en(t,n,"removeAllFromArray")?r=new pe((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)})):v("Unknown transform proto: "+JSON.stringify(t));var i=at.fromServerFormat(t.fieldPath);return new re(i,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return g(1===e,"DocumentsTarget contained other than 1 document: "+e),qt.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(it.EMPTY_PATH);else{var n=t.path;g(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;r>0&&(g(1===r,"StructuredQuery.from with more than one collection is not supported."),e=e.child(n.from[0].collectionId));var i=[];n.where&&(i=this.fromFilter(n.where));var o=[];n.orderBy&&(o=this.fromOrder(n.orderBy));var a=null;n.limit&&(a=this.fromInt32Value(n.limit));var s=null;n.startAt&&(s=this.fromCursor(n.startAt));var u=null;return n.endAt&&(u=this.fromCursor(n.endAt)),new qt(e,o,i,a,s,u)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case Jt.Listen:return null;case Jt.ExistenceFilterMismatch:return"existence-filter-mismatch";case Jt.LimboResolution:return"limbo-document";default:return v("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof zt?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):v("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Gt(r,n)},t.prototype.toDirection=function(t){return Ye[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Kt.ASCENDING;case"DESCENDING":return Kt.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return Xe[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Bt.EQUAL;case"GREATER_THAN":return Bt.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Bt.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Bt.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Bt.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Bt.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return v("Unspecified relation");default:return v("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return at.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Qt(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof zt?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new zt(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof Wt?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Ht?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:v("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new Wt(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Ht(n);case"OPERATOR_UNSPECIFIED":return v("Unspecified filter");default:return v("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return at.fromServerFormat(t)});return ne.fromArray(e)},t}();function en(t,e,n){return e===n||!e&&n in t}var nn=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),rn="Connection",on={BatchGetDocuments:"batchGet",Commit:"commit"},an="gl-js/ fire/"+c,sn=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=an},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var u=new s.XhrIo;u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var e=u.getResponseJson();p(rn,"XHR received:",JSON.stringify(e)),o(e);break;case s.ErrorCode.TIMEOUT:p(rn,'RPC "'+t+'" timed out'),a(new E(S.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();p(rn,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new E(function(t){switch(t){case 200:return S.OK;case 400:return S.INVALID_ARGUMENT;case 401:return S.UNAUTHENTICATED;case 403:return S.PERMISSION_DENIED;case 404:return S.NOT_FOUND;case 409:return S.ABORTED;case 416:return S.OUT_OF_RANGE;case 429:return S.RESOURCE_EXHAUSTED;case 499:return S.CANCELLED;case 500:return S.UNKNOWN;case 501:return S.UNIMPLEMENTED;case 503:return S.UNAVAILABLE;case 504:return S.DEADLINE_EXCEEDED;default:return t>=200&&t<300?S.OK:t>=400&&t<500?S.FAILED_PRECONDITION:t>=500&&t<600?S.INTERNAL:S.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(p(rn,'RPC "'+t+'" failed'),a(new E(S.UNAVAILABLE,"Connection failed.")));break;default:v('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{p(rn,'RPC "'+t+'" completed.')}});var c=JSON.stringify(e);p(rn,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),u.send(i,"POST",c,l,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),u.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");p(rn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),c=!1,l=!1,h=new nn({sendFn:function(t){l?p(rn,"Not sending because WebChannel is closed:",t):(c||(p(rn,"Opening WebChannel transport."),a.open(),c=!0),p(rn,"WebChannel sending:",t),a.send(t))},closeFn:function(){return a.close()}}),f=function(t,e){a.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return f(s.WebChannel.EventType.OPEN,function(){l||p(rn,"WebChannel transport opened.")}),f(s.WebChannel.EventType.CLOSE,function(){l||(l=!0,p(rn,"WebChannel transport closed"),h.callOnClose())}),f(s.WebChannel.EventType.ERROR,function(t){l||(l=!0,p(rn,"WebChannel transport errored:",t),h.callOnClose(new E(S.UNAVAILABLE,"The operation could not be completed")))}),f(s.WebChannel.EventType.MESSAGE,function(t){if(!l){var e=t.data[0];g(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){p(rn,"WebChannel received error:",n);var r=n.status,i=function(t){var e=ve[r];if(void 0!==e)return be(e)}(),o=n.message;void 0===i&&(i=S.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),l=!0,h.callOnClose(new E(i,o)),a.close()}else p(rn,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=on[t];g(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new sn(t))},t.prototype.newSerializer=function(t){return new tn(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}()));var un,cn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),ln=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection"}(un||(un={}));var hn=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new E(S.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),fn=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw m("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),g(e>=0,"Attempted to schedule an operation with a negative delay of "+e),g(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=hn.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&v("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){g(t===un.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==un.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);g(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),dn="\x01",pn="\x01",mn="\x10",yn="\x11";function vn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=bn(e)),e=gn(t.get(n),e);return bn(e)}function gn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=dn+mn;break;case dn:n+=dn+yn;break;default:n+=o}}return n}function bn(t){return t+dn+pn}function wn(t){var e=t.length;if(g(e>=2,"Invalid path "+t),2===e)return g(t.charAt(0)===dn&&t.charAt(1)===pn,"Non-empty path "+t+" had length 2"),it.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(dn,o);switch((a<0||a>n)&&v('Invalid encoded resource path: "'+t+'"'),t.charAt(a+1)){case pn:var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case mn:i+=t.substring(o,a),i+="\0";break;case yn:i+=t.substring(o,a+1);break;default:v('Invalid encoded resource path: "'+t+'"')}o=a+2}return new it(r)}var Sn=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n,g(n.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&g(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&g(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=Oe(),e=0,n=this.mutations;e<n.length;e++)t=t.add(n[e].key);return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&G(this.mutations,t.mutations)},t}(),En=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){g(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=ke(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),_n=1,Tn=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),In=function(){function t(t,e){this.generatorId=t,g((t&_n)===t,"Generator ID "+t+" contains more than "+_n+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<_n,t},t.prototype.after=function(t){return this.seek(t+(1<<_n)),this.next()},t.prototype.seek=function(t){g((t&_n)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Tn.QueryCache,2)},t.forSyncEngine=function(){return new t(Tn.SyncEngine)},t}(),Cn=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),kn=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),p("SimpleDb","Opening database:",e),new Cn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){i(new t(e.target.result))},a.onblocked=function(){o(new E(S.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new E(S.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},a.onupgradeneeded=function(t){p("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new On(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,Gn).next(function(){p("SimpleDb","Database upgrade to version "+Gn+" complete")})}}).toPromise()},t.delete=function(t){return p("SimpleDb","Removing database:",t),Dn(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=On.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),Cn.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),An=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return Dn(this.dbCursor.delete())},t}(),On=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ln,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(p("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return g(!!e,"Object store not part of transaction: "+t),new xn(e)},t}(),xn=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(p("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Dn(n)},t.prototype.add=function(t){return p("SimpleDb","ADD",this.store.name,t,t),Dn(this.store.add(t))},t.prototype.get=function(t){var e=this;return Dn(this.store.get(t)).next(function(n){return void 0===n&&(n=null),p("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return p("SimpleDb","DELETE",this.store.name,t),Dn(this.store.delete(t))},t.prototype.count=function(){return p("SimpleDb","COUNT",this.store.name),Dn(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){p("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Cn(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Cn(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new An(i),a=e(i.primaryKey,i.value,o);if(a instanceof Cn){var s=a.catch(function(t){return o.done(),Cn.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Cn.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(g(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Dn(t){return new Cn(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){n(t.target.error)}})}var Nn=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=In.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return Zt.fromTimestamp(new $(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return jn(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Rn(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return g(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Rn(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Cn.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return Rn(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return Pn(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,xr.getStore(n,ar.store)).put(ar.key,e);var n},t.prototype.saveQueryData=function(t,e){return Rn(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Rn(t).iterate({range:i,index:ir.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Mn(t);return e.forEach(function(e){var a=vn(e.path);i.push(o.put(new or(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Cn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Mn(t);return Cn.forEach(e,function(e){var o=vn(e.path);return Cn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Mn(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mn(t),i=Oe();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=wn(t[1]),o=new st(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n,r=vn(e.path),i=IDBKeyRange.bound([r],[(n=r,n+"\0")],!1,!0),o=0;return Mn(t).iterate({index:or.documentTargetsIndex,keysOnly:!0,range:i},function(t,e,n){0!==t[0]&&(o++,n.done())}).next(function(){return o>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Rn(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function Rn(t){return xr.getStore(t,ir.store)}function Pn(t){return kn.getStore(t,ar.store).get(ar.key).next(function(t){return g(null!==t,"Missing metadata row."),t})}function jn(t){return Pn(t).next(function(t){return t.highestListenSequenceNumber})}function Mn(t){return xr.getStore(t,or.store)}var Ln=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(o[0].isEqual(t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return A(this.inner)},t}(),Un=function(){function t(){this.changes=Ee(),this.documentSizes=new Ln(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges().get(e);return r?Cn.resolve(r):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.getEntries=function(t,e){var n=this;return this.getAllFromCache(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Fn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",qn=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=kn.getStore(t,ur.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=zn(t),o=Oe(),a=0,s=e;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(Wn(c),l)),o=o.add(c)}this.keepDocumentChangeLog&&r.push(Hn(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Cn.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=zn(t),r=Wn(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return Kn(t)}):Cn.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return zn(t).get(Wn(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return zn(t).get(Wn(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Kn(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=_e();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=_e(),i=new ft(st.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Kn(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return Cn.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return zn(t).iterate({range:r},function(t,e,r){for(var a=st.fromSegments(t);o&&st.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=Ie(),i=e.path.length+1,o=e.path.toArray(),a=IDBKeyRange.lowerBound(o);return zn(t).iterate({range:a},function(t,o,a){if(t.length===i){var s=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(s.key.path)?s instanceof ct&&e.matches(s)&&(r=r.insert(s.key,s)):a.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Oe(),r=Ee(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Hn(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Cn.reject(new E(S.DATA_LOSS,Fn))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new lt(n,Zt.forDeletedDoc());r=r.insert(n,e)}))}),Cn.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Hn(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Bn(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Vn(t).get(rr.key).next(function(t){return g(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return Vn(t).put(rr.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}();function Vn(t){return xr.getStore(t,rr.store)}var Bn=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);g(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=Kn(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Un);function zn(t){return xr.getStore(t,nr.store)}function Hn(t){return xr.getStore(t,ur.store)}function Wn(t){return t.path.toArray()}function Kn(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var Gn=7,Qn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;g(n<r&&n>=0&&r<=Gn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(Xn.store)}(t),function(t){t.createObjectStore(Zn.store,{keyPath:Zn.keyPath}),t.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0}),t.createObjectStore($n.store)}(t),sr(t),function(t){t.createObjectStore(nr.store)}(t));var o=Cn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(or.store),t.deleteObjectStore(ir.store),t.deleteObjectStore(ar.store)}(t),sr(t)),o=o.next(function(){return function(t){var e=t.store(ar.store),n=new ar(0,0,Zt.MIN.toTimestamp(),0);return e.put(ar.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(Jn.store).loadAll().next(function(n){t.deleteObjectStore(Jn.store),t.createObjectStore(Jn.store,{keyPath:Jn.keyPath,autoIncrement:!0}).createIndex(Jn.userMutationsIndex,Jn.userMutationsKeyPath,{unique:!0});var r=e.store(Jn.store),i=n.map(function(t){return r.put(t)});return Cn.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(cr.store,{keyPath:cr.keyPath})}(t),function(t){t.createObjectStore(ur.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(rr.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(nr.store).iterate(function(t,n){e+=Kn(n)}).next(function(){var n=new rr(e);return t.store(rr.store).put(rr.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Zn.store),r=t.store(Jn.store);return n.loadAll().next(function(n){return Cn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(Jn.userMutationsIndex,i).next(function(r){return Cn.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return dr(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(or.store),n=t.store(nr.store);return jn(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new it(n),a=function(t){return[0,vn(t)]}(o);r.push(e.get(a).next(function(n){return n?Cn.resolve():function(n){return e.put(new or(0,vn(n),t))}(o)}))}).next(function(){return Cn.waitFor(r)})})},t}(),Yn=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),Xn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),Zn=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),Jn=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),$n=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vn(e)]},t.key=function(t,e,n){return[t,vn(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),tr=function(){return function(t,e){this.path=t,this.readTime=e}}(),er=function(){return function(t,e){this.path=t,this.version=e}}(),nr=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),rr=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),ir=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),or=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,g(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),ar=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}();function sr(t){t.createObjectStore(or.store,{keyPath:or.keyPath}).createIndex(or.documentTargetsIndex,or.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ir.store,{keyPath:ir.keyPath}).createIndex(ir.queryTargetsIndexName,ir.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ar.store)}var ur=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),cr=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),lr=[Zn.store,Jn.store,$n.store,nr.store,ir.store,Xn.store,ar.store,or.store].concat([cr.store,ur.store]).concat([rr.store]),hr=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){return g(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return mr(t).iterate({index:Jn.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=pr(n),vr(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=pr(e),vr(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=yr(t),o=mr(t);return o.add({}).next(function(t){g("number"==typeof t,"Auto-generated key is not a number");var a=new Sn(t,e,n),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[t]=a.keys();for(var u=[],c=0,l=n;c<l.length;c++){var h=$n.key(r.userId,l[c].key.path,t);u.push(o.put(s)),u.push(i.put(h,$n.PLACEHOLDER))}return Cn.waitFor(u).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return mr(t).get(e).next(function(t){return t?(g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Cn.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=e+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return mr(t).iterate({index:Jn.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(g(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return mr(t).loadAll(Jn.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=$n.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return yr(t).iterate({range:i},function(r,i,a){var s=r[0],u=r[2],c=wn(r[1]);if(s===n.userId&&e.path.isEqual(c))return mr(t).get(u).next(function(t){if(!t)throw v("Dangling document-mutation reference found: "+r+" which points to "+u);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+u),o.push(n.serializer.fromDbMutationBatch(t))});a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new te(K),i=[];return e.forEach(function(e){var o=$n.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=yr(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[2],u=wn(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()});i.push(s)}),Cn.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;g(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=$n.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new te(K);return yr(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[2],c=wn(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(mr(t).get(e).next(function(t){if(null===t)throw v("Dangling document-mutation reference found, which points to "+e);g(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Cn.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return dr(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Cn.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Cn.resolve();var r=IDBKeyRange.lowerBound($n.prefixForUser(e.userId)),i=[];return yr(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=wn(t[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return fr(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return vr(t).get(this.userId).next(function(t){return t||new Zn(e.userId,-1,"")})},t}();function fr(t,e,n){var r=$n.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return yr(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()}).next(function(){return a})}function dr(t,e,n){var r=t.store(Jn.store),i=t.store($n.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=$n.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Cn.waitFor(o).next(function(){return c})}function pr(t){return t instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function mr(t){return xr.getStore(t,Jn.store)}function yr(t){return xr.getStore(t,$n.store)}function vr(t){return xr.getStore(t,Zn.store)}var gr=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=st.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new lt(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=st.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new ht(e,n)):v("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ct){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new nr(null,null,e,i=t.hasCommittedMutations)}if(t instanceof lt){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new nr(null,new tr(n,r),null,i)}return t instanceof ht?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new nr(new er(n,r),null,null,!0)):v("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new Yn(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new $(t.seconds,t.nanoseconds);return Zt.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new Jn(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=$.fromMillis(t.localWriteTimeMs);return new Sn(t.batchId,r,n)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vn(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Oe(),n=0,r=t;n<r.length;n++)e=e.add(new st(wn(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new $t(e,t.targetId,Jt.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){g(Jt.Listen===t.purpose,"Only queries with purpose "+Jt.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new ir(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function br(t,e){var n=t[1],r=e[1],i=K(t[0],e[0]);return 0===i?K(n,r):i}var wr=function(){function t(t){this.maxElements=t,this.buffer=new te(br),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();br(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Sr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Er=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),_r=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.gcTask=null}return t.prototype.start=function(){g(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==Er.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;g(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;p("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(un.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Dr)})},t}(),Tr=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Cn.resolve(cn.INVALID);var r=new wr(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===Er.COLLECTION_DISABLED?(p("LruGarbageCollector","Garbage collection skipped; disabled"),Cn.resolve(Sr)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Sr):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,a,s,u,c,l=this;return o=Date.now(),this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),f()<=h.DEBUG&&p("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-o)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-o)+"ms"),Cn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ir="IndexedDbPersistence",Cr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",kr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",Ar="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Or=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return a.__extends(e,t),e}(function(){return function(){}}()),xr=function(){function t(e,n,r,i,o,a,s){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=s,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new E(S.UNIMPLEMENTED,Ar);if(this.referenceDelegate=new Pr(this,a),this.dbName=e+t.MAIN_DATABASE,this.serializer=new gr(o),this.document=r.document,this.allowTabSynchronization=void 0!==s,this.queryCache=new Nn(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new qn(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new E(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Or)return kn.getStore(t.simpleDbTransaction,e);throw v("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new t(e,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,s,u){return a.__awaiter(this,void 0,void 0,function(){var c;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(c=new t(e,n,r,i,o,s,u)).start()];case 1:return a.sent(),[2,c]}})})},t.prototype.start=function(){var t=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),kn.openOrCreate(this.dbName,Gn,new Qn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[ar.store],function(e){return jn(e).next(function(e){t.listenSequence=new cn(e,t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",lr,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",lr,function(e){return Rr(e).put(new cr(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Nr(t).get(Xn.key).next(function(t){return Cn.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Rr(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,cr.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Cn.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(un.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Nr(t).get(Xn.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new E(S.FAILED_PRECONDITION,kr);return!1}}return!(!e.networkEnabled||!e.inForeground)||Rr(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&p(Ir,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Xn.store,cr.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,kn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[cr.store],function(e){return Rr(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),hr.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return p(Ir,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",lr,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw m("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new E(S.FAILED_PRECONDITION,Cr);return n(new Or(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Or(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Nr(t).get(Xn.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new E(S.FAILED_PRECONDITION,kr)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new Xn(this.clientId,this.allowTabSynchronization,Date.now());return Nr(t).put(Xn.key,e)},t.isAvailable=function(){return kn.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Nr(t);return n.get(Xn.key).next(function(t){return e.isLocalClient(t)?(p(Ir,"Releasing primary lease."),n.delete(Xn.key)):Cn.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(m("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return p(Ir,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return m(Ir,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){m("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Dr(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){if(!function(t){return t.code===S.FAILED_PRECONDITION&&t.message===Cr}(t))throw t;return p(Ir,"Unexpectedly lost primary lease"),[2]})})}function Nr(t){return t.store(Xn.store)}function Rr(t){return t.store(cr.store)}var Pr=function(){function t(t,e){this.db=t,this.garbageCollector=new Tr(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return jr(t,e)},t.prototype.removeReference=function(t,e){return jr(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return jr(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Cn.resolve(!0):function(t,e){var n=!1;return vr(t).iterateSerial(function(r){return fr(t,r,e).next(function(t){return t&&(n=!0),Cn.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return Cn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n,r=0,i=this.db.getRemoteDocumentCache();return Cn.waitFor([Mn(t).delete((n=e,[0,vn(n.path)])),i.removeEntry(t,e).next(function(t){r+=t})]).next(function(){return r})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return jr(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Mn(t),i=cn.INVALID;return r.iterate({index:or.documentTargetsIndex},function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==cn.INVALID&&e(new st(wn(n)),i),i=a,n=o):i=cn.INVALID}).next(function(){i!==cn.INVALID&&e(new st(wn(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function jr(t,e){return Mn(t).put(function(t,e){return new or(0,vn(t.path),e)}(e,t.currentSequenceNumber))}var Mr=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=_e();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Ee();return i.forEach(function(t,e){e||(e=new lt(t,Zt.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return st.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new st(e)).next(function(t){var e=Ie();return t instanceof ct&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var l=n.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);n=h instanceof ct?n.insert(c,h):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),Lr=function(){function t(){this.refsByKey=new te(Ur.compareByKey),this.refsByTarget=new te(Ur.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ur(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Ur(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=st.EMPTY,r=new Ur(n,t),i=new Ur(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=st.EMPTY,n=new Ur(e,t),r=new Ur(e,t+1),i=Oe();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ur(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ur=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return st.comparator(t.key,e.key)||K(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return K(t.targetOrBatchId,e.targetOrBatchId)||st.comparator(t.key,e.key)},t}(),Fr=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Lr,this.queryDataByTarget={},g(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Mr(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Mr(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=Oe(),s=0,u=r;s<u.length;s++){i.push((d=u[s]).batchId);for(var c=0,l=d.mutations;c<l.length;c++)a=a.add(l[c].key)}for(var h=0,f=t;h<f.length;h++){var d;o.push((d=f[h]).batchId);for(var p=0,m=d.mutations;p<m.length;p++)a=a.add(m[p].key)}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=$.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){var i=(r=t).keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Cn.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return g(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=Oe();C(e.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(t){a=a.add(t)}),s.modifiedDocuments.forEach(function(t){a=a.add(t)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=Ee(),u=Oe();e.documentUpdates.forEach(function(t,e){u=u.add(t)}),o.push(r.getEntries(i,u).next(function(t){e.documentUpdates.forEach(function(u,c){var l=t.get(u);null==l||c.version.isEqual(Zt.MIN)||a.has(c.key)&&!l.hasPendingWrites||c.version.compareTo(l.version)>=0?(r.addEntry(c),s=s.insert(u,c)):p("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))})}));var c=e.snapshotVersion;if(!c.isEqual(Zt.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return g(c.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+c+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,c)});o.push(l)}return Cn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(i,s)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Cn.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Cn.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Cn.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new $t(t,i,Jt.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return g(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){g(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Cn.resolve():Cn.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Cn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):g(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),qr=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=w(),this.batchesByDocumentKey=new te(Ur.compareByKey)}return t.prototype.checkEmpty=function(t){return Cn.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");g(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,Cn.resolve()},t.prototype.getLastStreamToken=function(t){return Cn.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Cn.resolve()},t.prototype.addMutationBatch=function(t,e,n){g(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new Sn(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++)this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Ur(a[o].key,r));return Cn.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Cn.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return g(null!=n,"Failed to find local mutation batch."),Cn.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return Cn.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getAllMutationBatches=function(t){return Cn.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ur(e,0),i=new Ur(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){g(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Cn.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new te(K);return e.forEach(function(t){var e=new Ur(t,0),i=new Ur(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){g(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Cn.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;st.isDocumentKey(i)||(i=i.child(""));var o=new Ur(new st(i),0),a=new te(K);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Cn.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;g(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return Cn.forEach(e.mutations,function(i){var o=new Ur(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Ur(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Cn.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Cn.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return g(n.batchId===t,"If found batch must match"),n},t}(),Vr=function(){function t(t){this.persistence=t,this.queries=new Ln(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=Zt.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Lr,this.targetCount=0,this.targetIdGenerator=In.forQueryCache()}return t.prototype.getTargetCount=function(t){return Cn.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Cn.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Cn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Cn.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Cn.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Cn.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return g(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Cn.resolve()},t.prototype.updateQueryData=function(t,e){return g(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Cn.resolve()},t.prototype.removeQueryData=function(t,e){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Cn.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Cn.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Cn.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Cn.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return v("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Cn.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Cn.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Cn.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Cn.resolve(n)},t.prototype.containsKey=function(t,e){return Cn.resolve(this.references.containsKey(e))},t}(),Br=function(){function t(t){this.sizer=t,this.docs=new ft(st.comparator),this.newDocumentChanges=Oe(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a)}return this.size+=n,Cn.resolve()},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Cn.resolve(n.size)):Cn.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Cn.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Cn.resolve(this.docs.get(e))},t.prototype.getEntries=function(t,e){var n=this,r=_e();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),Cn.resolve(r)},t.prototype.getSizedEntries=function(t,e){var n=this,r=_e(),i=new ft(st.comparator);return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null),i=i.insert(t,e?e.size:0)}),Cn.resolve({maybeDocuments:r,sizeMap:i})},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=Ie(),r=new st(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;a instanceof ct&&e.matches(a)&&(n=n.insert(a.key,a))}return Cn.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Cn.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Ee();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new lt(t,Zt.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Oe(),Cn.resolve(n)},t.prototype.newChangeBuffer=function(){return new zr(this.sizer,this)},t.prototype.getSize=function(t){return Cn.resolve(this.size)},t}(),zr=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return a.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);g(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getSizedEntries(t,e)},e}(Un),Hr=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new cn(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Vr(this),this.remoteDocumentCache=new Br(function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new Gr(t,new gr(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Kr(t)})},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new qr(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;p("MemoryPersistence","Starting transaction:",t);var i=new Wr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Cn.or((n=this.mutationQueues,r=[],k(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Wr=function(){return function(t){this.currentSequenceNumber=t}}(),Kr=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Cn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Cn.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Cn.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Cn.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Cn.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Cn.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Cn.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Gr=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Ln(function(t){return vn(t.path)}),this.garbageCollector=new Tr(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Cn.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Cn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Cn.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Cn.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Cn.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Cn.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Cn.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Cn.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw v("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Cn.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Cn.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Cn.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),Qr=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&p("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),Yr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),Xr=1e3,Zr=6e4,Jr=1.5,$r=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Yr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Qr(t,e,Xr,Jr,Zr)}return t.prototype.isStarted=function(){return this.state===Yr.Starting||this.state===Yr.Open||this.state===Yr.Backoff},t.prototype.isOpen=function(){return this.state===Yr.Open},t.prototype.start=function(){this.state!==Yr.Error?(g(this.state===Yr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Yr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Yr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.isOpen()?[2,this.close(Yr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(t===Yr.Error||Ut(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Yr.Error?this.backoff.reset():e&&e.code===S.RESOURCE_EXHAUSTED?(m(e.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===S.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;g(this.state===Yr.Initial,"Must be in initial state to auth"),this.state=Yr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new E(S.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;g(this.state===Yr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return g(e.state===Yr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Yr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;g(this.state===Yr.Error,"Should only perform backoff when in Error state"),this.state=Yr.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return g(this.state===Yr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Yr.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return g(this.isStarted(),"Can't handle server close on non-started stream"),p("PersistentStream","close with error: "+t),this.stream=null,this.close(Yr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ti=function(t){function e(e,n,r,i,o){var a=t.call(this,e,un.ListenStreamConnectionBackoff,un.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}($r),ei=function(t){function e(e,n,r,i,o){var a=t.call(this,e,un.WriteStreamConnectionBackoff,un.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(g(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return g(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}($r),ni=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new ei(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new ti(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Ee();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);g(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===S.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ri=function(){function t(t){this.datastore=t,this.readVersions=ke(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ct)e=t.version;else{if(!(t instanceof lt))throw v("Document in a transaction was a "+t.constructor.name);e=Zt.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new E(S.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof lt||t instanceof ct?e.recordVersion(t):v("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new E(S.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?ae.updateTime(e):ae.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(Zt.forDeletedDoc()))throw new E(S.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?ae.updateTime(e):ae.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new he(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,Zt.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}(),ii=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),oi=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),ai=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=ii.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(ii.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(un.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,g(t.state===ii.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(ii.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===ii.Online?(this.setAndBroadcast(ii.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(ii.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===ii.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(m(e),this.shouldWarnClientIsOffline=!1):p("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),si=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new ai(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(ii.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(ii.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(p("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return p("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(ii.Unknown),[2]}})})},t.prototype.listen=function(t){g(!T(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){g(T(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),A(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(ii.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new He(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!A(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(e){return C(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return void 0===t&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(ii.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(ii.Online),t instanceof Be&&t.state===Ve.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Fe?this.watchChangeAggregator.handleDocumentChange(t):t instanceof qe?this.watchChangeAggregator.handleExistenceFilter(t):(g(t instanceof Be,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(Zt.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;g(!t.isEqual(Zt.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return C(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:w()}),e.sendUnwatchRequest(t);var r=new $t(n.query,t,Jt.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;g(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return T(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var t;return a.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Dr)},t.prototype.onMutationResult=function(t,e){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=En.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(n){return void 0===t&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return ge(t.code)?(p("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=w(),[2,this.localStore.setLastStreamToken(w()).catch(Dr)]):[2]})})},t.prototype.handleWriteError=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){return ge(i=t.code)&&i!==S.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new ri(this.datastore)},t.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(p("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(ii.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(ii.Unknown),e.label=4;case 4:return[2]}})})},t}(),ui=function(){return function(){this.listeners=[]}}(),ci=function(){function t(t){this.syncEngine=t,this.queries=new Ln(function(t){return t.canonicalId()}),this.onlineState=ii.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new ui,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return a.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=this.queries.get(r.query);if(i){for(var o=0,a=i.listeners;o<a.length;o++)a[o].onViewSnapshot(r);i.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++)i[r].applyOnlineStateChange(t)})},t}(),li=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=ii.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(g(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Re.Metadata&&e.push(i)}t=new Me(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){return g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==ii.Offline?(g(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===ii.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=Me.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),hi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Oe(),i=Oe(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Re.Added:r=r.add(s.doc.key);break;case Re.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),fi=function(){return function(t){this.key=t}}(),di=function(){return function(t){this.key=t}}(),pi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Oe(),this.mutatedKeys=Oe(),this.documentSet=new Ne(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new je,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var c=i.get(t),l=e instanceof ct?e:null;l&&(g(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),d=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(r.track({type:Re.Metadata,doc:l}),d=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:Re.Modified,doc:l}),d=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:Re.Added,doc:l}),d=!0):c&&!l&&(r.track({type:Re.Removed,doc:c}),d=!0,u&&(s=!0)),d&&(l?(a=a.add(l),o=f?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:Re.Removed,doc:c})}return g(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;g(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Re.Added:return 1;case Re.Modified:case Re.Metadata:return 2;case Re.Removed:return 0;default:return v("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Pe.Synced:Pe.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Me(this.query,t.documentSet,i,o,t.mutatedKeys,s===Pe.Local,u,!1),limboChanges:a}:{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===ii.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new je,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return g(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Oe(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new di(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new fi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Oe();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return Me.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Pe.Local)},t}(),mi=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),yi=function(){return function(t){this.key=t}}(),vi=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Ln(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new ft(st.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Lr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=In.forSyncEngine(),this.isPrimary=void 0,this.onlineState=ii.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){g(null!==t,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new pi(r,o),s=a.computeDocChanges(i),u=Ue.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==ii.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new mi(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,c.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return a.__awaiter(e,void 0,void 0,function(){var e;return a.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Dr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),g(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Ut(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(i){return Promise.reject(n.wrapUpdateFunctionError(i))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return k(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(Dr)},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===oi.RemoteStore||!this.isPrimary&&e===oi.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new ft(st.comparator)).insert(r,new lt(r,Zt.forDeletedDoc())),o=Oe().add(r),s=new Le(Zt.MIN,{},new te(K),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(Dr)];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,e),a.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(p("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):v("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(Dr)},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(Dr)},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new ft(K)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(g(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof fi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof di?(p("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):v("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){p("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=qt.atPath(e.path);this.limboResolutionsByTarget[n]=new yi(e),this.remoteStore.listen(new $t(r,n,Jt.LimboResolution,cn.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=s.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[s.targetId]);if(o.updateTrackedLimbos(s.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var a=hi.fromSnapshot(s.targetId,i.snapshot);r.push(a)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){g(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n;return a.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return a.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,s,u=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],s=Promise.resolve(),C(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?o.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;C(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new ft(st.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=function(t){n=n.then(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[t])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return g(!!(s=a.sent()),"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return e=a.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(e),[2]}})})})},s=0,u=t;s<u.length;s++)o(u[s]);return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return p("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Le.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return a.__awaiter(i,void 0,void 0,function(){var e;return a.__generator(this,function(n){switch(n.label){case 0:return function(t){return t.code===S.DATA_LOSS&&t.message===Fn}(t)?(e=[],C(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return this.removeAndCleanupQuery(r=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:v("Unexpected target state: "+e),o.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,h,f=this;return a.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(g(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return g(!!(i=d.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=d.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:d.sent(),this.remoteStore.listen(o),d.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return a.__generator(this,function(n){switch(n.label){case 0:return(e=u.queryViewsByTarget[t])?[4,u.localStore.releaseQuery(e.query,!1).then(function(){f.remoteStore.unlisten(t),f.removeAndCleanupQuery(e)}).catch(Dr)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=e,d.label=7;case 7:return c<l.length?[5,s(h=l[c])]:[3,10];case 8:d.sent(),d.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Oe().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Oe()},t}(),gi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),bi="SharedClientState",wi="firestore_clients",Si="firestore_mutations",Ei="firestore_targets",_i="firestore_online_state",Ti="firestore_sequence_number",Ii=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,g(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new E(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(m(bi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ci=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,g(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new E(r.error.code,r.error.message)),i?new t(e,r.state,o):(m(bi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),ki=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=De(),a=0;i&&a<r.activeTargetIds.length;++a)i=Ft(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(m(bi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Ai=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&void 0!==ii[n.onlineState]&&"string"==typeof n.clientId?new t(n.clientId,ii[n.onlineState]):(m(bi,"Failed to parse online state: "+e),null)},t}(),Oi=function(){function t(){this.activeTargetIds=De()}return t.prototype.addQueryTarget=function(t){g(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xi=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new E(S.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Ti+"_"+r,this.activeClients[this.localClientId]=new Oi,this.clientStateKeyRe=new RegExp("^"+wi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Si+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Ei+"_"+a+"_(\\d+)$"),this.onlineStateKey=_i+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,c,l,h=this;return a.__generator(this,function(a){switch(a.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=ki.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)this.handleWebStorageEvent(l[c]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=De();return k(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ci.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return p(bi,"READ",t,e),e},t.prototype.setItem=function(t,e){p(bi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){p(bi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(p(bi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(t){var e=cn.INVALID;if(null!=t)try{var n=JSON.parse(t);g("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){m(bi,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==cn.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Ii(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:ii[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ci(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return g(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),wi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Ei+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Si+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return g(null!==n,"Cannot parse client state key '"+t+"'"),ki.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);g(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Ii.fromWebStorageEntry(new gi(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);g(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ci.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Ai.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(p(bi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return i.has(t)||s.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Di=function(){function t(){this.localState=new Oi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Oi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Ni=function(){function t(t,e){this.cacheSizeBytes=t,this.experimentalTabSynchronization=e}return t.prototype.lruParams=function(){return Er.withCacheSize(this.cacheSizeBytes)},t}(),Ri=function(){return function(){}}(),Pi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=W.newId()}return t.prototype.start=function(t){var e=this,n=new ln,r=new ln,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Ni?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof E?t.code===S.FAILED_PRECONDITION||t.code===S.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=xr.buildStoragePrefix(this.databaseInfo),i=new tn(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!xi.isAvailable(this.platform))throw new E(S.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return o=e.lruParams(),e.experimentalTabSynchronization?(this.sharedClientState=new xi(this.asyncQueue,this.platform,r,this.clientId,t),[4,xr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n=a.sent(),[3,4];case 2:return this.sharedClientState=new Di,[4,xr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,o)];case 3:n=a.sent(),a.label=4;case 4:return this.persistence=n,[2,n.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Hr.createEagerPersistence(this.clientId),this.sharedClientState=new Di,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return p("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return a.__awaiter(n,void 0,void 0,function(){var n,i,o,s=this;return a.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Fr(this.persistence,t),e&&(this.lruScheduler=new _r(e,this.asyncQueue,this.localStore)),n=this.platform.newSerializer(this.databaseInfo.databaseId),i=new ni(this.asyncQueue,r,this.credentials,n),o=function(t){return s.syncEngine.applyOnlineStateChange(t,oi.SharedClientState)},this.remoteStore=new si(this.localStore,i,this.asyncQueue,function(t){return s.syncEngine.applyOnlineStateChange(t,oi.RemoteStore)}),this.syncEngine=new vi(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new ci(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.__awaiter(s,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new li(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ct)return t;if(t instanceof lt)return null;throw new E(S.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Oe(),r=new pi(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new ln;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),ji=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new E(S.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+H(1,"element")+".")}();for(var n=0;n<t.length;++n)if(N("FieldPath","string",n,t[n]),0===t[n].length)throw new E(S.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(at.keyField().canonicalString()),t}(),Li=new RegExp("[~\\*/\\[\\]]"),Ui=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Fi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(gi.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),qi=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new E(S.ABORTED,"getToken aborted due to token change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Ui(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return g(null===t||"string"==typeof t,"Received invalid UID: "+t),new gi(t)},t}(),Vi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=gi.FIRST_PARTY,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),Bi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Vi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(gi.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Hi=function(){function t(t){this._methodName=t}return t.delete=function(){return Wi.instance},t.serverTimestamp=function(){return Ki.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayUnion",arguments,1),new Gi(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return x("FieldValue.arrayRemove",arguments,1),new Qi(t)},t.prototype.isEqual=function(t){return this===t},t}(),Wi=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return a.__extends(e,t),e.instance=new e,e}(Hi),Ki=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(e,t),e.instance=new e,e}(Hi),Gi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return a.__extends(e,t),e}(Hi),Qi=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return a.__extends(e,t),e}(Hi),Yi=_(Hi,"Use FieldValue.<field>() instead."),Xi=/^__.*__$/,Zi=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new ce(t,this.data,this.fieldMask,e):new ue(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new le(t,this.fieldTransforms)),n},t}(),Ji=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new ce(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new le(t,this.fieldTransforms)),n},t}(),$i=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function to(t){switch(t){case $i.Set:case $i.MergeSet:case $i.Update:return!0;case $i.Argument:return!1;default:throw v("Unexpected case for UserDataSource: "+t)}}var eo=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new E(S.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(to(this.dataSource)&&Xi.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),no=function(){return function(t,e){this.databaseId=t,this.key=e}}(),ro=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new eo($i.Set,t,at.EMPTY_PATH);oo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Zi(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new eo($i.MergeSet,t,at.EMPTY_PATH);oo("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=new te(at.comparator),u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Mi)h=l._internalPath;else{if("string"!=typeof l)throw v("Expected stringOrFieldPath to be a string or a FieldPath");h=so(t,l)}if(!r.contains(h))throw new E(S.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s=s.add(h)}i=ne.fromSet(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=ne.fromArray(r.fieldMask),o=r.fieldTransforms;return new Zi(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new eo($i.Update,t,at.EMPTY_PATH);oo("Data must be an object, but it was:",r,e);var i=new te(at.comparator),o=Nt.EMPTY;k(e,function(e,a){var s=so(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Wi)i=i.add(s);else{var c=n.parseData(a,u);null!=c&&(i=i.add(s),o=o.set(s,c))}});var a=ne.fromSet(i);return new Ji(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new eo($i.Update,t,at.EMPTY_PATH),o=[ao(t,e)],a=[n];if(r.length%2!=0)throw new E(S.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(ao(t,r[s])),a.push(r[s+1]);var u=new te(at.comparator),c=Nt.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Wi)u=u.add(l);else{var d=this.parseData(f,h);null!=d&&(u=u.add(l),c=c.set(l,d))}}var p=ne.fromSet(u);return new Ji(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new eo($i.Argument,t,at.EMPTY_PATH),r=this.parseData(e,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=uo(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(io(t=this.runPreConverter(t,e)))return oo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Hi)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new ft(K);return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new Nt(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=this.parseData(o[i],e.childContextForArray(r));null==a&&(a=wt.INSTANCE),n.push(a),r++}return new Rt(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!to(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Wi){if(e.dataSource!==$i.MergeSet)throw e.dataSource===$i.Update?(g(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Ki)e.fieldTransforms.push(new re(e.path,fe.instance));else if(t instanceof Gi){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new de(n);e.fieldTransforms.push(new re(e.path,r))}else if(t instanceof Qi){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new pe(n);e.fieldTransforms.push(new re(e.path,i))}else v("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return wt.INSTANCE;if("number"==typeof t)return Ft(t)?new Tt(t):new It(t);if("boolean"==typeof t)return St.of(t);if("string"==typeof t)return new Ct(t);if(t instanceof Date)return new kt($.fromDate(t));if(t instanceof $)return new kt(new $(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof J)return new Dt(t);if(t instanceof X)return new Ot(t);if(t instanceof no)return new xt(t.databaseId,t.key);throw e.createError("Unsupported field value: "+F(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new eo($i.Argument,t,at.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function io(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $||t instanceof J||t instanceof X||t instanceof no||t instanceof Hi)}function oo(t,e,n){if(!io(n)||!U(n)){var r=F(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function ao(t,e){if(e instanceof Mi)return e._internalPath;if("string"==typeof e)return so(t,e);throw new E(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function so(t,e){try{return function(t){if(t.search(Li)>=0)throw new E(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mi.bind.apply(Mi,[void 0].concat(t.split("."))))}catch(e){throw new E(S.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=uo(r);throw new E(S.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function uo(t){return t instanceof Error?t.message:t.toString()}var co="firestore.googleapis.com",lo=!0,ho=!0,fo=Er.COLLECTION_DISABLED,po=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new E(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=co,this.ssl=lo}else P("settings","non-empty string","host",t.host),this.host=t.host,j("settings","boolean","ssl",t.ssl),this.ssl=I(t.ssl,lo);if(V("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes"]),j("settings","object","credentials",t.credentials),this.credentials=t.credentials,j("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?m("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&m("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=I(t.timestampsInSnapshots,ho),j("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=Er.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==fo&&t.cacheSizeBytes<Er.MINIMUM_CACHE_SIZE_BYTES)throw new E(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+Er.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes},t}(),mo=function(){return function(){}}(),yo=function(){function t(e){var n=this;this._queue=new fn,this.INTERNAL={delete:function(t){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new mo;if("object"==typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new qi(i)}else{var o=e;if(!o.projectId)throw new E(S.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new nt(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Fi}r.settings=new po({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(O("Firestore.settings",arguments,1),N("Firestore.settings","object",1,t),T(t,"persistence"))throw new E(S.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new po(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new E(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=function(t){if(!t)return new Fi;switch(t.type){case"gapi":return new Bi(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new E(S.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new E(S.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new Ni(this._config.settings.cacheSizeBytes,void 0!==t&&I(t.experimentalTabSynchronization,!1)))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new Ri),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),g(!this._firestoreClient,"configureClient() called multiple times");var n=new tt(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new ro(function(t){if(t instanceof bo){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new E(S.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new no(e._config.databaseId,t._key)}return t}),this._firestoreClient=new Pi(b.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!T(e,"projectId"))throw new E(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new E(S.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new nt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new E(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("Firestore.collection",arguments,1),N("Firestore.collection","non-empty string",1,t),!t)throw new E(S.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new Io(it.fromString(t),this)},t.prototype.doc=function(t){if(O("Firestore.doc",arguments,1),N("Firestore.doc","non-empty string",1,t),!t)throw new E(S.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),bo.forPath(it.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return O("Firestore.runTransaction",arguments,1),N("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new vo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new go(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(f()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return v("Unknown log level: "+f())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(O("Firestore.setLogLevel",arguments,1),N("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":d(h.DEBUG);break;case"error":d(h.ERROR);break;case"silent":d(h.SILENT);break;default:throw new E(S.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),vo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;O("Transaction.get",arguments,1);var n=Oo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof lt)return new So(e._firestore,n._key,null,!1,!1);if(r instanceof ct)return new So(e._firestore,n._key,r,!1,!1);throw v("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){D("Transaction.set",arguments,2,3);var r=Oo("Transaction.set",t,this._firestore),i=(n=Co("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof e||e instanceof Mi?(x("Transaction.update",arguments,3),r=Oo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(O("Transaction.update",arguments,2),r=Oo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){O("Transaction.delete",arguments,1);var e=Oo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),go=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){D("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Oo("WriteBatch.set",t,this._firestore),i=(n=Co("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ae.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Mi?(x("WriteBatch.update",arguments,3),r=Oo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(O("WriteBatch.update",arguments,2),r=Oo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ae.exists(!0))),this},t.prototype.delete=function(t){O("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Oo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new he(e._key,ae.NONE)),this},t.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new E(S.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),bo=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new E(S.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new st(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Io(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(O("DocumentReference.collection",arguments,1),N("DocumentReference.collection","non-empty string",1,t),!t)throw new E(S.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=it.fromString(t);return new Io(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){D("DocumentReference.set",arguments,1,2);var n=(e=Co("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ae.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Mi?(x("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(O("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ae.exists(!0)))},t.prototype.delete=function(){return O("DocumentReference.delete",arguments,0),this._firestoreClient.write([new he(this._key,ae.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||zi(t[i])||(V("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),j("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return zi(t[i])?n=t[i]:(N("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){if(e.next){g(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new So(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(qt.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return D("DocumentReference.get",arguments,0,1),Ao("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new So(e.firestore,e._key,t,!0,t instanceof ct&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new E(S.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new E(S.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),wo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),So=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return D("DocumentSnapshot.data",arguments,0,1),t=ko("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,gt.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(D("DocumentSnapshot.get",arguments,1,2),e=ko("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ao("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,gt.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new bo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new wo(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof Nt)return this.convertObject(t,e);if(t instanceof Rt)return this.convertArray(t,e);if(t instanceof xt){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||m("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new bo(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Eo=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return a.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(So),_o=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){var i;O("Query.where",arguments,3),N("Query.where","non-empty string",2,n),q("Query.where",3,r);var o=ao("Query.where",e),a=Bt.fromString(n);if(o.isKeyField()){if(a===Bt.ARRAY_CONTAINS)throw new E(S.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new E(S.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new E(S.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new it([r]));g(s.length%2==0,"Path should be a document key"),i=new xt(this.firestore._databaseId,new st(s))}else{if(!(r instanceof bo))throw new E(S.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+F(r)+".");i=new xt(this.firestore._databaseId,r._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var u=Vt.create(o,a,i);return this.validateNewFilter(u),new t(this._query.addFilter(u),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(D("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Kt.ASCENDING;else{if("desc"!==n)throw new E(S.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Kt.DESCENDING}if(null!==this._query.startAt)throw new E(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new E(S.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ao("Query.orderBy",e),o=new Qt(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(O("Query.limit",arguments,1),N("Query.limit","number",1,e),e<=0)throw new E(S.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];x("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(q(t,1,e),e instanceof So){if(n.length>0)throw new E(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new E(S.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new xt(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(s instanceof At)throw new E(S.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(void 0===s){var u=a.field.canonicalString();throw new E(S.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Gt(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new E(S.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new E(S.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new E(S.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new st(this._query.path.child(a));i.push(new xt(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new Gt(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];D("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||zi(t[i])||(V("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),j("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),zi(t[i])?n=t[i]:(N("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new ji({next:function(t){e.next&&e.next(new To(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return D("Query.get",arguments,0,1),Ao("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new To(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new E(S.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof zt)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new E(S.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Bt.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new E(S.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new E(S.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),To=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new wo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;D("QuerySnapshot.forEach",arguments,1,2),N("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new _o(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(V("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),j("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new E(S.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Eo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return g(e.type===Re.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Re.Metadata}).map(function(e){var r=new Eo(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Re.Added&&(g((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Re.Removed&&(a=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:xo(e.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw B("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Eo(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(To.prototype.docChanges,t,{get:function(){return function(){throw new E(S.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Io=function(t){function e(e,n){var r=t.call(this,qt.atPath(e),n)||this;if(e.length%2!=1)throw new E(S.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return a.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new bo(new st(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(D("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=W.newId()),N("CollectionReference.doc","non-empty string",1,t),""===t)throw new E(S.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=it.fromString(t);return bo.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){O("CollectionReference.add",arguments,1),N("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(_o);function Co(t,e){if(void 0===e)return{merge:!1};if(V(t,e,["merge","mergeFields"]),j(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+F(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new E(S.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+F(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Mi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new E(S.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function ko(t,e){return void 0===e?{}:(V(t,e,["serverTimestamps"]),M(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function Ao(t,e){R(t,"object",1,e),e&&(V(t,e,["source"]),M(t,0,"source",e.source,["default","server","cache"]))}function Oo(t,e,n){if(e instanceof bo){if(e.firestore!==n)throw new E(S.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw B(t,"DocumentReference",1,e)}function xo(t){switch(t){case Re.Added:return"added";case Re.Modified:case Re.Metadata:return"modified";case Re.Removed:return"removed";default:return v("Unknown change type: "+t)}}var Do=_(yo,"Use firebase.firestore() instead."),No=_(vo,"Use firebase.firestore().runTransaction() instead."),Ro=_(go,"Use firebase.firestore().batch() instead."),Po=_(bo,"Use firebase.firestore().doc() instead."),jo=_(So),Mo=_(Eo),Lo=_(_o),Uo=_(To),Fo=_(Io,"Use firebase.firestore().collection() instead."),qo={Firestore:Do,GeoPoint:J,Timestamp:$,Blob:Z,Transaction:No,WriteBatch:Ro,DocumentReference:Po,DocumentSnapshot:jo,Query:Lo,QueryDocumentSnapshot:Mo,QuerySnapshot:Uo,CollectionReference:Fo,FieldPath:Mi,FieldValue:Yi,setLogLevel:yo.setLogLevel,CACHE_SIZE_UNLIMITED:fo};function Vo(t){t.INTERNAL.registerService("firestore",function(t){return new yo(t)},function(t){g(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(qo))}Vo(i),e.registerFirestore=Vo},"6ahw":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("iLxQ"),i=n("DKTb"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},"6blF":function(t,e,n){"use strict";var r=n("FFOo"),i=n("L/V9"),o=n("6ahw"),a=n("xTla"),s=n("y3By"),u=n("iLxQ");n.d(e,"a",function(){return c});var c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var a=this.operator,s=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(a?a.call(s,this.source):s.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof r.a?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=l(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(s.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=l(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"6d8W":function(t,e,n){"use strict";var r=n("I1rR"),i=n("mY8+")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),r(r.P+r.F*a,"Array",{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("dNFx")(o)},"74FJ":function(t,e,n){"use strict";var r=n("9Aud"),i=n("lv+R"),o=n("UOZm"),a=n("j/6h"),s=n("H1Af"),u=Object.assign;t.exports=!u||n("61rj")(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=r})?function(t,e){for(var n=a(t),u=arguments.length,c=1,l=i.f,h=o.f;u>c;)for(var f,d=s(arguments[c++]),p=l?r(d).concat(l(d)):r(d),m=p.length,y=0;m>y;)h.call(d,f=p[y++])&&(n[f]=d[f]);return n}:u},"8L4g":function(t,e){t.exports=!1},"8g8A":function(t,e,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},"8i1V":function(t,e,n){"use strict";var r=n("qtiw"),i=n("g0Mr"),o=n("lIov"),a=n("I1rR"),s=n("TDVo"),u=n("Oyqw").KEY,c=n("61rj"),l=n("ezrC"),h=n("A+3H"),f=n("U/+K"),d=n("jZgK"),p=n("eKN1"),m=n("u00B"),y=n("GShy"),v=n("oxOc"),g=n("UFGs"),b=n("Zp05"),w=n("rSCU"),S=n("IiNp"),E=n("xGvh"),_=n("xrBK"),T=n("4ftG"),I=n("bKVB"),C=n("ytDL"),k=n("9Aud"),A=I.f,O=C.f,x=T.f,D=r.Symbol,N=r.JSON,R=N&&N.stringify,P=d("_hidden"),j=d("toPrimitive"),M={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),F=l("op-symbols"),q=Object.prototype,V="function"==typeof D,B=r.QObject,z=!B||!B.prototype||!B.prototype.findChild,H=o&&c(function(){return 7!=_(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=A(q,e);r&&delete q[e],O(t,e,n),r&&t!==q&&O(q,e,r)}:O,W=function(t){var e=U[t]=_(D.prototype);return e._k=t,e},K=V&&"symbol"==typeof D.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof D},G=function(t,e,n){return t===q&&G(F,e,n),g(t),e=S(e,!0),g(n),i(U,e)?(n.enumerable?(i(t,P)&&t[P][e]&&(t[P][e]=!1),n=_(n,{enumerable:E(0,!1)})):(i(t,P)||O(t,P,E(1,{})),t[P][e]=!0),H(t,e,n)):O(t,e,n)},Q=function(t,e){g(t);for(var n,r=y(e=w(e)),i=0,o=r.length;o>i;)G(t,n=r[i++],e[n]);return t},Y=function(t){var e=M.call(this,t=S(t,!0));return!(this===q&&i(U,t)&&!i(F,t))&&(!(e||!i(this,t)||!i(U,t)||i(this,P)&&this[P][t])||e)},X=function(t,e){if(t=w(t),e=S(e,!0),t!==q||!i(U,e)||i(F,e)){var n=A(t,e);return!n||!i(U,e)||i(t,P)&&t[P][e]||(n.enumerable=!0),n}},Z=function(t){for(var e,n=x(w(t)),r=[],o=0;n.length>o;)i(U,e=n[o++])||e==P||e==u||r.push(e);return r},J=function(t){for(var e,n=t===q,r=x(n?F:w(t)),o=[],a=0;r.length>a;)!i(U,e=r[a++])||n&&!i(q,e)||o.push(U[e]);return o};V||(s((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===q&&e.call(F,n),i(this,P)&&i(this[P],t)&&(this[P][t]=!1),H(this,t,E(1,n))};return o&&z&&H(q,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",function(){return this._k}),I.f=X,C.f=G,n("GMxU").f=T.f=Z,n("UOZm").f=Y,n("lv+R").f=J,o&&!n("8L4g")&&s(q,"propertyIsEnumerable",Y,!0),p.f=function(t){return W(d(t))}),a(a.G+a.W+a.F*!V,{Symbol:D});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),tt=0;$.length>tt;)d($[tt++]);for(var et=k(d.store),nt=0;et.length>nt;)m(et[nt++]);a(a.S+a.F*!V,"Symbol",{for:function(t){return i(L,t+="")?L[t]:L[t]=D(t)},keyFor:function(t){if(!K(t))throw TypeError(t+" is not a symbol!");for(var e in L)if(L[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!V,"Object",{create:function(t,e){return void 0===e?_(t):Q(_(t),e)},defineProperty:G,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:Z,getOwnPropertySymbols:J}),N&&a(a.S+a.F*(!V||c(function(){var t=D();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(b(e)||void 0!==t)&&!K(t))return v(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!K(e))return e}),r[1]=e,R.apply(N,r)}}),D.prototype[j]||n("GYIZ")(D.prototype,j,D.prototype.valueOf),h(D,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},"8ouO":function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},"9Aud":function(t,e,n){var r=n("Iy4/"),i=n("kSm0");t.exports=Object.keys||function(t){return r(t,i)}},"A+3H":function(t,e,n){var r=n("ytDL").f,i=n("g0Mr"),o=n("jZgK")("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},AR9Z:function(t,e,n){n("8i1V"),n("CNRE"),n("yLjp"),n("ZhmJ"),t.exports=n("Autd").Symbol},Autd:function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},CB3U:function(t,e,n){"use strict";n.r(e),n("mrSG");var r=n("6blF"),i=n("0/uQ"),o=n("F/XL"),a=n("15JJ"),s=n("ORnb"),u=function(){return function(t,e,n,u){var c=this;this.zone=u;var l=new s.e(u,n);this.auth=u.runOutsideAngular(function(){return Object(s.f)(t,e).auth()}),this.authState=l.keepUnstableUntilFirst(l.runOutsideAngular(new r.a(function(t){return{unsubscribe:c.auth.onAuthStateChanged(t)}}))),this.user=l.keepUnstableUntilFirst(l.runOutsideAngular(new r.a(function(t){return{unsubscribe:c.auth.onIdTokenChanged(t)}}))),this.idToken=this.user.pipe(Object(a.a)(function(t){return t?Object(i.a)(t.getIdToken()):Object(o.a)(null)})),this.idTokenResult=this.user.pipe(Object(a.a)(function(t){return t?Object(i.a)(t.getIdTokenResult()):Object(o.a)(null)}))}}(),c=n("wj3C"),l=n.n(c);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function i(t){return"boolean"==typeof t}function o(){}function a(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function s(t){return null===t}function u(t){return"array"==a(t)}function c(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){return"function"==a(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function m(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function v(t,e,n){return(v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:y).apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now||function(){return+new Date};function w(t,e){function n(){}n.prototype=e.prototype,t.ob=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function E(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function _(t){if(Error.captureStackTrace)Error.captureStackTrace(this,_);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function T(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");_.call(this,n+t[r])}function I(t,e){throw new T("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function C(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function k(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function A(){this.b=this.a=null}w(_,Error),_.prototype.name="CustomError",w(T,_),T.prototype.name="AssertionError",C.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var O=new C(function(){return new D},function(t){t.reset()});function x(){var t=dt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function D(){this.next=this.b=this.a=null}A.prototype.add=function(t,e){var n=O.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},R=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},P=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},j=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function M(t,e){return 0<=N(t,e)}function L(t,e){var n;return(n=0<=(e=N(t,e)))&&Array.prototype.splice.call(t,e,1),n}function U(t,e){!function(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function F(t){return Array.prototype.concat.apply([],arguments)}function q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function V(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var B=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function z(t){return Z.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(W,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(G,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Q,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Y,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(X,"&#0;")),t):t}var H,W=/&/g,K=/</g,G=/>/g,Q=/"/g,Y=/'/g,X=/\x00/g,Z=/[\x00&<>"']/;function J(t,e){return-1!=t.indexOf(e)}function $(t,e){return t<e?-1:t>e?1:0}t:{var tt=n.navigator;if(tt){var et=tt.userAgent;if(et){H=et;break t}}H=""}function nt(t){return J(H,t)}function rt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function it(t){for(var e in t)return!1;return!0}function ot(t){var e,n={};for(e in t)n[e]=t[e];return n}var at,st,ut="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ut.length;o++)n=ut[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function lt(t){n.setTimeout(function(){throw t},0)}function ht(t,e){st||function(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);st=function(){t.then(pt)}}else st=function(){var t=pt;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!nt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(at||(at=function(){var t=n.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!nt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=v(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!nt("Trident")&&!nt("MSIE")){var e=new t,r={},i=r;return e.port1.onmessage=function(){if(void 0!==r.next){var t=(r=r.next).wb;r.wb=null,t()}},function(t){i.next={wb:t},i=i.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}()),at(t)):n.setImmediate(t)}}(),ft||(st(),ft=!0),dt.add(t,e)}var ft=!1,dt=new A;function pt(){for(var t;t=x();){try{t.a.call(t.b)}catch(e){lt(e)}k(O,t)}ft=!1}function mt(t,e){if(this.a=yt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=o)try{var n=this;t.call(e,function(t){At(n,vt,t)},function(t){if(!(t instanceof jt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}At(n,gt,t)})}catch(r){At(this,gt,r)}}var yt=0,vt=2,gt=3;function bt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}bt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var wt=new C(function(){return new bt},function(t){t.reset()});function St(t,e,n){var r=wt.get();return r.g=t,r.b=e,r.f=n,r}function Et(t){if(t instanceof mt)return t;var e=new mt(o);return At(e,vt,t),e}function _t(t){return new mt(function(e,n){n(t)})}function Tt(t,e,n){Ot(t,e,n,null)||ht(g(e,t))}function It(t){return new mt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Db:!0,value:o}:{Db:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Tt(t[o],g(i,o,!0),g(i,o,!1));else e(r)})}function Ct(t,e){t.b||t.a!=vt&&t.a!=gt||xt(t),t.f?t.f.next=e:t.b=e,t.f=e}function kt(t,e,n,r){var i=St(null,null,null);return i.a=new mt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof jt?o(e):t(i)}catch(a){o(a)}}:o}),i.a.c=t,Ct(t,i),i.a}function At(t,e,n){t.a==yt&&(t===n&&(e=gt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ot(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,xt(t),e!=gt||n instanceof jt||function(t,e){t.g=!0,ht(function(){t.g&&Pt.call(null,e)})}(t,n)))}function Ot(t,e,n,r){if(t instanceof mt)return Ct(t,St(e||o,n||null,r)),!0;if(E(t))return t.then(e,n,r),!0;if(f(t))try{var i=t.then;if(h(i))return function(t,e,n,r,i){function o(t){a||(a=!0,r.call(i,t))}var a=!1;try{e.call(t,function(t){a||(a=!0,n.call(i,t))},o)}catch(s){o(s)}}(t,i,e,n,r),!0}catch(a){return n.call(r,a),!0}return!1}function xt(t){t.h||(t.h=!0,ht(t.Yb,t))}function Dt(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function Nt(t,e,n,r){if(n==gt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Rt(e,n,r);else try{e.c?e.g.call(e.f):Rt(e,n,r)}catch(i){Pt.call(null,i)}k(wt,e)}function Rt(t,e,n){e==vt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}mt.prototype.then=function(t,e,n){return kt(this,h(t)?t:null,h(e)?e:null,n)},S(mt),(t=mt.prototype).ia=function(t,e){return(t=St(t,t,e)).c=!0,Ct(this,t),this},t.s=function(t,e){return kt(this,null,t,e)},t.cancel=function(t){this.a==yt&&ht(function(){!function t(e,n){if(e.a==yt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==e&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==yt&&1==i?t(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):Dt(r),Nt(r,o,gt,n)))}e.c=null}else At(e,gt,n)}(this,new jt(t))},this)},t.Nc=function(t){this.a=yt,At(this,vt,t)},t.Oc=function(t){this.a=yt,At(this,gt,t)},t.Yb=function(){for(var t;t=Dt(this);)Nt(this,t,this.a,this.i);this.h=!1};var Pt=lt;function jt(t){_.call(this,t)}function Mt(){0!=Lt&&(Ut[this[d]||(this[d]=++p)]=this),this.qa=this.qa,this.ja=this.ja}w(jt,_),jt.prototype.name="cancel";var Lt=0,Ut={};function Ft(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Lt)){var e=t[d]||(t[d]=++p);if(0!=Lt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ut[e]}}function qt(t){return qt[" "](t),t}Mt.prototype.qa=!1,Mt.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},qt[" "]=o;var Vt,Bt,zt=nt("Opera"),Ht=nt("Trident")||nt("MSIE"),Wt=nt("Edge"),Kt=Wt||Ht,Gt=nt("Gecko")&&!(J(H.toLowerCase(),"webkit")&&!nt("Edge"))&&!(nt("Trident")||nt("MSIE"))&&!nt("Edge"),Qt=J(H.toLowerCase(),"webkit")&&!nt("Edge");function Yt(){var t=n.document;return t?t.documentMode:void 0}t:{var Xt="",Zt=(Bt=H,Gt?/rv:([^\);]+)(\)|;)/.exec(Bt):Wt?/Edge\/([\d\.]+)/.exec(Bt):Ht?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Bt):Qt?/WebKit\/(\S+)/.exec(Bt):zt?/(?:Version)[ \/]?(\S+)/.exec(Bt):void 0);if(Zt&&(Xt=Zt?Zt[1]:""),Ht){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Xt)){Vt=String(Jt);break t}}Vt=Xt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=B(String(Vt)).split("."),r=B(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=$(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||$(0==a[2].length,0==s[2].length)||$(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var ne=n.document;$t=ne&&Ht?Yt()||("CSS1Compat"==ne.compatMode?parseInt(Vt,10):5):void 0;var re=Object.freeze||function(t){return t},ie=!Ht||9<=Number($t),oe=Ht&&!ee("9"),ae=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",o,e),n.removeEventListener("test",o,e),t}();function se(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function ue(t,e){if(se.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{qt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ce[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}se.prototype.preventDefault=function(){this.Kb=!1},w(ue,se);var ce=re({2:"touch",3:"pen",4:"mouse"});ue.prototype.preventDefault=function(){ue.ob.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},ue.prototype.f=function(){return this.a};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++he,this.oa=this.Ia=!1}function de(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function pe(t){this.src=t,this.a={},this.b=0}function me(t,e){var n=e.type;n in t.a&&L(t.a[n],e)&&(de(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ye(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}pe.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ye(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):((e=new fe(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var ve="closure_lm_"+(1e6*Math.random()|0),ge={};function be(t,e,n,r,i){if(r&&r.once)Se(t,e,n,r,i);else if(u(e))for(var o=0;o<e.length;o++)be(t,e[o],n,r,i);else n=xe(n),t&&t[le]?Ne(t,e,n,f(r)?!!r.capture:!!r,i):we(t,e,n,!1,r,i)}function we(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=Ae(t);if(s||(t[ve]=s=new pe(t)),!(n=s.add(e,n,r,a,o)).proxy)if(r=function(){var t=ke,e=ie?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ae||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Te(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Se(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)Se(t,e[o],n,r,i);else n=xe(n),t&&t[le]?Re(t,e,n,f(r)?!!r.capture:!!r,i):we(t,e,n,!0,r,i)}function Ee(t,e,n,r,i){if(u(e))for(var o=0;o<e.length;o++)Ee(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=xe(n),t&&t[le]?(t=t.l,(e=String(e).toString())in t.a&&-1<(n=ye(o=t.a[e],n,r,i))&&(de(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Ae(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ye(e,n,r,i)),(n=-1<t?e[t]:null)&&_e(n))}function _e(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[le])me(e.l,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Te(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ae(e))?(me(n,t),0==n.b&&(n.src=null,e[ve]=null)):de(t)}}}function Te(t){return t in ge?ge[t]:ge[t]="on"+t}function Ie(t,e,n,r){var i=!0;if((t=Ae(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Ce(o,r),i=i&&!1!==o)}return i}function Ce(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&_e(t),n.call(r,e)}function ke(t,e){if(t.oa)return!0;if(!ie){if(!e)t:{e=["window","event"];for(var r=n,i=0;i<e.length;i++)if(null==(r=r[e[i]])){e=null;break t}e=r}if(e=new ue(i=e,this),r=!0,!(0>i.keyCode||null!=i.returnValue)){t:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break t}catch(s){o=!0}(o||null==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=e.b;o;o=o.parentNode)i.push(o);for(t=t.type,o=i.length-1;0<=o;o--){e.b=i[o];var a=Ie(i[o],t,!0,e);r=r&&a}for(o=0;o<i.length;o++)e.b=i[o],a=Ie(i[o],t,!1,e),r=r&&a}return r}return Ce(t,new ue(e,this))}function Ae(t){return(t=t[ve])instanceof pe?t:null}var Oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function xe(t){return h(t)?t:(t[Oe]||(t[Oe]=function(e){return t.handleEvent(e)}),t[Oe])}function De(){Mt.call(this),this.l=new pe(this),this.Rb=this,this.Va=null}function Ne(t,e,n,r,i){t.l.add(String(e),n,!1,r,i)}function Re(t,e,n,r,i){t.l.add(String(e),n,!0,r,i)}function Pe(t,e,n,r){if(!(e=t.l.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&me(t.l,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Kb}function je(t,e,r){if(h(t))r&&(t=v(t,r));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=v(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function Me(t){var e=null;return new mt(function(n,r){-1==(e=je(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function Le(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(c(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Ue(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(c(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Fe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Fe)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function qe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ve(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ve(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ve(t,e){return Object.prototype.hasOwnProperty.call(t,e)}w(De,Mt),De.prototype[le]=!0,De.prototype.addEventListener=function(t,e,n,r){be(this,t,e,n,r)},De.prototype.removeEventListener=function(t,e,n,r){Ee(this,t,e,n,r)},De.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Rb;var i=t.type||t;if(r(t))t=new se(t,n);else if(t instanceof se)t.target=t.target||n;else{var o=t;ct(t=new se(i,n),o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Pe(s,i,!0,t)&&o}if(o=Pe(s=t.b=n,i,!0,t)&&o,o=Pe(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)o=Pe(s=t.b=e[a],i,!1,t)&&o;return o},De.prototype.va=function(){if(De.ob.va.call(this),this.l){var t,e=this.l;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)de(n[r]);delete e.a[t],e.b--}}this.Va=null},(t=Fe.prototype).S=function(){qe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return qe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ve(this.b,t)?this.b[t]:e},t.set=function(t,e){Ve(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Be=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ze(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof ze){this.f=void 0!==e?e:t.f,He(this,t.c),this.l=t.l,this.b=t.b,We(this,t.i),this.g=t.g,e=t.a;var n=new an;n.c=e.c,e.a&&(n.a=new Fe(e.a),n.b=e.b),Ke(this,n),this.h=t.h}else t&&(n=String(t).match(Be))?(this.f=!!e,He(this,n[1]||"",!0),this.l=Ze(n[2]||""),this.b=Ze(n[3]||"",!0),We(this,n[4]),this.g=Ze(n[5]||"",!0),Ke(this,n[6]||"",!0),this.h=Ze(n[7]||"")):(this.f=!!e,this.a=new an(null,this.f))}function He(t,e,n){t.c=n?Ze(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function We(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ke(t,e,n){e instanceof an?(t.a=e,function(t,e){e&&!t.f&&(sn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(cn(this,e),hn(this,n,t))},t)),t.f=e}(t.a,t.f)):(n||(e=Je(e,rn)),t.a=new an(e,t.f))}function Ge(t,e,n){t.a.set(e,n)}function Qe(t,e){return t.a.get(e)}function Ye(t){return t instanceof ze?new ze(t):new ze(t,void 0)}function Xe(t,e){var n=new ze(null,void 0);return He(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function Ze(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Je(t,e,n){return r(t)?(t=encodeURI(t).replace(e,$e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ze.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Je(e,tn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Je(e,tn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Je(n,"/"==n.charAt(0)?nn:en,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Je(n,on)),t.join("")};var tn=/[#\/\?@]/g,en=/[#\?:]/g,nn=/[#\?]/g,rn=/[#\?@]/g,on=/#/g;function an(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function sn(t){t.a||(t.a=new Fe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function un(t){var e=Ue(t);if(void 0===e)throw Error("Keys are undefined");var n=new an(null,void 0);t=Le(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];u(o)?hn(n,i,o):n.add(i,o)}return n}function cn(t,e){sn(t),e=fn(t,e),Ve(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ve((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&qe(t)))}function ln(t,e){return sn(t),e=fn(t,e),Ve(t.a.b,e)}function hn(t,e,n){cn(t,e),0<n.length&&(t.c=null,t.a.set(fn(t,e),q(n)),t.b+=n.length)}function fn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=an.prototype).add=function(t,e){sn(this),this.c=null,t=fn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){sn(this),this.a.forEach(function(n,r){R(n,function(n){t.call(e,n,r,this)},this)},this)},t.U=function(){sn(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.S=function(t){sn(this);var e=[];if(r(t))ln(this,t)&&(e=F(e,this.a.get(fn(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=F(e,t[n])}return e},t.set=function(t,e){return sn(this),this.c=null,ln(this,t=fn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return 0<(t=t?this.S(t):[]).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var dn=!Ht||9<=Number($t);function pn(){this.a="",this.b=yn}function mn(t){return t instanceof pn&&t.constructor===pn&&t.b===yn?t.a:(I("expected object of type Const, got '"+t+"'"),"type_error:Const")}pn.prototype.na=!0,pn.prototype.ma=function(){return this.a},pn.prototype.toString=function(){return"Const{"+this.a+"}"};var yn={};function vn(t){var e=new pn;return e.a=t,e}function gn(){this.a="",this.b=_n}function bn(t){return t instanceof gn&&t.constructor===gn&&t.b===_n?t.a:(I("expected object of type TrustedResourceUrl, got '"+t+"' of type "+a(t)),"type_error:TrustedResourceUrl")}function wn(t,e){var n=mn(t);if(!En.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=new gn;return e.a=t,e}(t=n.replace(Sn,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof pn?mn(t):encodeURIComponent(String(t))}))}vn(""),gn.prototype.na=!0,gn.prototype.ma=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Sn=/%{(\w+)}/g,En=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,_n={};function Tn(){this.a="",this.b=An}function In(t){return t instanceof Tn&&t.constructor===Tn&&t.b===An?t.a:(I("expected object of type SafeUrl, got '"+t+"' of type "+a(t)),"type_error:SafeUrl")}Tn.prototype.na=!0,Tn.prototype.ma=function(){return this.a},Tn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Cn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function kn(t){return t instanceof Tn?t:(t=t.na?t.ma():String(t),Cn.test(t)||(t="about:invalid#zClosurez"),On(t))}var An={};function On(t){var e=new Tn;return e.a=t,e}function xn(){this.a="",this.b=Dn}On("about:blank"),xn.prototype.na=!0,xn.prototype.ma=function(){return this.a},xn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Dn={};function Nn(t){var e=new xn;return e.a=t,e}function Rn(t){var e=document;return r(t)?e.getElementById(t):t}function Pn(t,e){rt(e,function(e,n){e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:jn.hasOwnProperty(n)?t.setAttribute(jn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}Nn("<!DOCTYPE html>"),Nn(""),Nn("<br>");var jn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Mn(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(h(t))return"function"==typeof t.item}return!1}function Ln(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(u(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),t(e,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(a=n[i])&&(r.push(o),Vn(i,r),r.push(":"),t(e,a,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Vn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Un,t,e),e.join("")}function Un(){}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},qn=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Vn(t,e){e.push('"',t.replace(qn,function(t){var e=Fn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Fn[t]=e),e}),'"')}function Bn(){var t=sr();return Ht&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function zn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Hn(t,e){e=e||n.window;var r="about:blank";t&&(r=In(kn(t))),e.location.href=r}function Wn(t){return!!((t=(t||sr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Kn(t){t=t||n.window;try{t.close()}catch(e){}}function Gn(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=sr().toLowerCase(),r&&(e.target=r,J(n,"crios/")&&(e.target="_blank")),ir(sr())==nr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Tn?n:kn(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((nt("iPhone")&&!nt("iPod")&&!nt("iPad")||nt("iPad")||nt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(s=r.document.createElement("A"),e instanceof Tn||e instanceof Tn||(e=e.na?e.ma():String(e),Cn.test(e)||(e="about:invalid#zClosurez"),e=On(e)),s.href=In(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=In(e),s&&(Kt&&J(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,vn("b/12014412, meta tag with sanitized URL"),t=Nn(t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+z(t)+'">'),s.document.write(function(t){return t instanceof xn&&t.constructor===xn&&t.b===Dn?t.a:(I("expected object of type SafeHtml, got '"+t+"' of type "+a(t)),"type_error:SafeHtml")}(t)),s.document.close())):(s=r.open(In(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(u){}return s}var Qn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Yn=/^[^@]+@[^@]+$/;function Xn(){var t=null;return new mt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},Se(window,"load",t))}).s(function(e){throw Ee(window,"load",t),e})}function Zn(t){return t=t||sr(),!("file:"!==fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jn(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function $n(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function tr(){return l.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":l.a.INTERNAL.hasOwnProperty("node")?"Node":$n()?"Worker":"Browser"}function er(){var t=tr();return"ReactNative"===t||"Node"===t}var nr="Firefox",rr="Chrome";function ir(t){var e=t.toLowerCase();return J(e,"opera/")||J(e,"opr/")||J(e,"opios/")?"Opera":J(e,"iemobile")?"IEMobile":J(e,"msie")||J(e,"trident/")?"IE":J(e,"edge/")?"Edge":J(e,"firefox/")?nr:J(e,"silk/")?"Silk":J(e,"blackberry")?"Blackberry":J(e,"webos")?"Webos":!J(e,"safari/")||J(e,"chrome/")||J(e,"crios/")||J(e,"android")?!J(e,"chrome/")&&!J(e,"crios/")||J(e,"edge/")?J(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":rr:"Safari"}var or={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function ar(t,e){e=e||[];var n,r=[],i={};for(n in or)i[or[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=tr())?r=ir(i=sr()):"Worker"===r&&(r=ir(i=sr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function sr(){return n.navigator&&n.navigator.userAgent||""}function ur(t,e){t=t.split("."),e=e||n;for(var r=0;r<t.length&&"object"==typeof e&&null!=e;r++)e=e[t[r]];return r!=t.length&&(e=void 0),e}function cr(){try{var t=n.localStorage,e=vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!Bn()||!!n.indexedDB}catch(r){return $n()&&!!n.indexedDB}return!1}function lr(){return(hr()||"chrome-extension:"===fr()||Zn())&&!er()&&cr()&&!$n()}function hr(){return"http:"===fr()||"https:"===fr()}function fr(){return n.location&&n.location.protocol||null}function dr(t){return!Wn(t=t||sr())&&ir(t)!=nr}function pr(t){return void 0===t?null:Ln(t)}function mr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function yr(t){if(null!==t)return JSON.parse(t)}function vr(t){return t||Math.floor(1e9*Math.random()).toString()}function gr(t){return"Safari"!=ir(t=t||sr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function br(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var r=0;r<t.CP.length;r++)t.CP[r]=null}function wr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=sr(),e=tr(),this.b=Wn(t)||"ReactNative"===e}function Sr(){var t=n.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Er(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function _r(){return!(!ur("fireauth.oauthhelper",n)&&!ur("fireauth.iframe",n))}wr.prototype.get=function(){var t=n.navigator;return!t||"boolean"!=typeof t.onLine||!hr()&&"chrome-extension:"!==fr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Tr,Ir={};function Cr(t){Ir[t]||(Ir[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var kr={};Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(kr,"abcd",{configurable:!0,enumerable:!0,value:2}),Tr=2==kr.abcd}catch(Bt){Tr=!1}function Ar(t,e,n){Tr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Or(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ar(t,n,e[n])}function xr(t){var e={};return Or(e,t),e}function Dr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ar(e,n,Dr(t[n]));return e}function Nr(t){var e={},n=t[Pr],r=t[jr];if(!(t=t[Mr])||t!=Rr&&!n)throw Error("Invalid provider user info!");e[Ur]=r||null,e[Lr]=n||null,Ar(this,qr,t),Ar(this,Fr,Dr(e))}var Rr="EMAIL_SIGNIN",Pr="email",jr="newEmail",Mr="requestType",Lr="email",Ur="fromEmail",Fr="data",qr="operation";function Vr(t,e){this.code=zr+t,this.message=e||Hr[t]||""}function Br(t){var e=t&&t.code;return e?new Vr(e.substring(zr.length),t.message):null}w(Vr,Error),Vr.prototype.C=function(){return{code:this.code,message:this.message}},Vr.prototype.toJSON=function(){return this.C()};var zr="auth/",Hr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Wr(t){var e=t[Xr];if(void 0===e)throw new Vr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Vr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Kr];if(n&&"object"==typeof n){e=n[$r];var r=n[Zr];if(n=n[Jr],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Vr("argument-error",Zr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Vr("argument-error",Jr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Vr("argument-error",$r+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Vr("missing-android-pkg-name")}}else if(void 0!==n)throw new Vr("argument-error",Kr+" property must be a non null object when specified.");if(this.f=null,(e=t[Yr])&&"object"==typeof e){if("string"==typeof(e=e[ti])&&e.length)this.f=e;else if(void 0!==e)throw new Vr("argument-error",ti+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Vr("argument-error",Yr+" property must be a non null object when specified.");if(void 0!==(e=t[Qr])&&"boolean"!=typeof e)throw new Vr("argument-error",Qr+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Gr])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Vr("argument-error",Gr+" property must be a non empty string when specified.");this.i=t||null}var Kr="android",Gr="dynamicLinkDomain",Qr="handleCodeInApp",Yr="iOS",Xr="url",Zr="installApp",Jr="minimumVersion",$r="packageName",ti="bundleId";function ei(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var ni=null,ri=null;function ii(t){this.c=t.sub,b(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function oi(t){return(t=ai(t))&&t.sub&&t.iss&&t.aud&&t.exp?new ii(t):null}function ai(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=ri[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!ni){ni={},ri={};for(var t=0;65>t;t++)ni[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),ri[ni[t]]=t,62<=t&&(ri["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}ii.prototype.f=function(){return this.b};var si,ui={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ci(t){for(var e in ui)if(ui[e].id===t)return{firebaseEndpoint:(t=ui[e]).ab,secureTokenEndpoint:t.ib};return null}si=ci("__EID__")?"__EID__":void 0;var li="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),hi=["client_id","response_type","scope","redirect_uri","state"],fi={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:hi},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:hi},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:hi},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:li}};function di(t){for(var e in fi)if(fi[e].Na==t)return fi[e];return null}function pi(t){var e={};e["facebook.com"]=bi,e["google.com"]=Si,e["github.com"]=wi,e["twitter.com"]=Ei;var n=t&&t[yi];try{if(n)return e[n]?new e[n](t):new gi(t);if(void 0!==t[mi])return new vi(t)}catch(r){}return null}var mi="idToken",yi="providerId";function vi(t){var e=t[yi];if(!e&&t[mi]){var n=oi(t[mi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ar(this,"providerId",e),Ar(this,"isNewUser",n)}function gi(t){vi.call(this,t),Ar(this,"profile",Dr((t=yr(t.rawUserInfo||"{}"))||{}))}function bi(t){if(gi.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function wi(t){if(gi.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ar(this,"username",this.profile&&this.profile.login||null)}function Si(t){if(gi.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ei(t){if(gi.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ar(this,"username",t.screenName||null)}function _i(t){this.a=Ye(t)}function Ti(t){var e=Ye(t),n=Qe(e,"link"),r=Qe(Ye(n),"link");return e=Qe(e,"deep_link_id"),Qe(Ye(e),"link")||e||r||n||t}function Ii(t,e){return t.then(function(t){if(t[oa]){var n=oi(t[oa]);if(!n||e!=n.c)throw new Vr("user-mismatch");return t}throw new Vr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==zr+"user-not-found"?new Vr("user-mismatch"):t})}function Ci(t,e){if(!e)throw new Vr("internal-error","failed to construct a credential");this.a=e,Ar(this,"providerId",t),Ar(this,"signInMethod",t)}function ki(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ai(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ar(this,"idToken",e.idToken),e.accessToken&&Ar(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ar(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Vr("internal-error","failed to construct a credential");Ar(this,"accessToken",e.oauthToken),Ar(this,"secret",e.oauthTokenSecret)}Ar(this,"providerId",t),Ar(this,"signInMethod",n)}function Oi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:un(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function xi(t,e){this.Dc=e||[],Or(this,{providerId:t,isOAuthProvider:!0}),this.yb={},this.cb=(di(t)||{}).Ma||null,this.$a=null}function Di(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Vr("argument-error",'SAML provider IDs must be prefixed with "saml."');xi.call(this,t,[])}function Ni(t){xi.call(this,t,hi),this.a=[]}function Ri(){Ni.call(this,"facebook.com")}function Pi(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new Ri).credential(null,e)}function ji(){Ni.call(this,"github.com")}function Mi(t){if(!t)throw new Vr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new ji).credential(null,e)}function Li(){Ni.call(this,"google.com"),this.ua("profile")}function Ui(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new Li).credential(n,e)}function Fi(){xi.call(this,"twitter.com",li)}function qi(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Vr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Ai("twitter.com",n,"twitter.com")}function Vi(t,e,n){this.a=t,this.c=e,Ar(this,"providerId","password"),Ar(this,"signInMethod",n===Bi.EMAIL_LINK_SIGN_IN_METHOD?Bi.EMAIL_LINK_SIGN_IN_METHOD:Bi.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Bi(){Or(this,{providerId:"password",isOAuthProvider:!1})}function zi(t,e){if(!(e=Hi(e)))throw new Vr("argument-error","Invalid email link!");return new Vi(t,e,Bi.EMAIL_LINK_SIGN_IN_METHOD)}function Hi(t){var e=Qe((t=new _i(t=Ti(t))).a,"oobCode")||null;return"signIn"===(Qe(t.a,"mode")||null)&&e?e:null}function Wi(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new Vr("internal-error");this.a=t,Ar(this,"providerId","phone"),Ar(this,"signInMethod","phone")}function Ki(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function Gi(t){try{this.a=t||l.a.auth()}catch(e){throw new Vr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Or(this,{providerId:"phone",isOAuthProvider:!1})}function Qi(t,e){if(!t)throw new Vr("missing-verification-id");if(!e)throw new Vr("missing-verification-code");return new Wi({Ta:t,Sa:e})}function Yi(t){if(t.temporaryProof&&t.phoneNumber)return new Wi({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Ui(o,n);case"facebook.com":return Pi(n);case"github.com":return Mi(n);case"twitter.com":return qi(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new Ci(e,a):new Ai(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Ni(e).credential(o,n,i):null}}catch(s){return null}}function Xi(t){if(!t.isOAuthProvider)throw new Vr("invalid-oauth-provider")}function Zi(t,e,n,r,i,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.h=o||null,this.a=i||null,!this.f&&!this.a)throw new Vr("invalid-auth-event");if(this.f&&this.a)throw new Vr("invalid-auth-event");if(this.f&&!this.g)throw new Vr("invalid-auth-event")}function Ji(t){return(t=t||{}).type?new Zi(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Br(t.error),t.postBody):null}function $i(){this.b=null,this.a=[]}w(gi,vi),w(bi,gi),w(wi,gi),w(Si,gi),w(Ei,gi),Ci.prototype.la=function(t){return _a(t,ki(this))},Ci.prototype.b=function(t,e){var n=ki(this);return n.idToken=e,Ta(t,n)},Ci.prototype.f=function(t,e){return Ii(Ia(t,ki(this)),e)},Ci.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Ai.prototype.la=function(t){return _a(t,Oi(this))},Ai.prototype.b=function(t,e){var n=Oi(this);return n.idToken=e,Ta(t,n)},Ai.prototype.f=function(t,e){return Ii(Ia(t,Oi(this)),e)},Ai.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},xi.prototype.Da=function(t){return this.yb=ot(t),this},w(Di,xi),w(Ni,xi),Ni.prototype.ua=function(t){return M(this.a,t)||this.a.push(t),this},Ni.prototype.Eb=function(){return q(this.a)},Ni.prototype.credential=function(t,e,n){if(!t&&!e)throw new Vr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Ai(this.providerId,{idToken:t||null,accessToken:e||null,nonce:n||null},this.providerId)},w(Ri,Ni),Ar(Ri,"PROVIDER_ID","facebook.com"),Ar(Ri,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(ji,Ni),Ar(ji,"PROVIDER_ID","github.com"),Ar(ji,"GITHUB_SIGN_IN_METHOD","github.com"),w(Li,Ni),Ar(Li,"PROVIDER_ID","google.com"),Ar(Li,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Fi,xi),Ar(Fi,"PROVIDER_ID","twitter.com"),Ar(Fi,"TWITTER_SIGN_IN_METHOD","twitter.com"),Vi.prototype.la=function(t){return this.signInMethod==Bi.EMAIL_LINK_SIGN_IN_METHOD?ts(t,Ra,{email:this.a,oobCode:this.c}):ts(t,Xa,{email:this.a,password:this.c})},Vi.prototype.b=function(t,e){return this.signInMethod==Bi.EMAIL_LINK_SIGN_IN_METHOD?ts(t,Pa,{idToken:e,email:this.a,oobCode:this.c}):ts(t,Ha,{idToken:e,email:this.a,password:this.c})},Vi.prototype.f=function(t,e){return Ii(this.la(t),e)},Vi.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Or(Bi,{PROVIDER_ID:"password"}),Or(Bi,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Or(Bi,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Wi.prototype.la=function(t){return t.Ua(Ki(this))},Wi.prototype.b=function(t,e){var n=Ki(this);return n.idToken=e,ts(t,Ja,n)},Wi.prototype.f=function(t,e){var n=Ki(this);return n.operation="REAUTH",Ii(t=ts(t,$a,n),e)},Wi.prototype.C=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},Gi.prototype.Ua=function(t,e){var n=this.a.b;return Et(e.verify()).then(function(i){if(!r(i))throw new Vr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return ts(n,Ba,e)}(0,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Vr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Or(Gi,{PROVIDER_ID:"phone"}),Or(Gi,{PHONE_SIGN_IN_METHOD:"phone"}),Zi.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var to,eo=null;function no(t){var e="unauthorized-domain",n=void 0,r=Ye(t);t=r.b,"chrome-extension"==(r=r.c)?n=V("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=V("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Vr.call(this,e,n)}function ro(t,e,n){Vr.call(this,t,n),(t=e||{}).zb&&Ar(this,"email",t.zb),t.$&&Ar(this,"phoneNumber",t.$),t.credential&&Ar(this,"credential",t.credential)}function io(t){if(t.code){var e=t.code||"";0==e.indexOf(zr)&&(e=e.substring(zr.length));var n={credential:Yi(t)};if(t.email)n.zb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new Vr(e,t.message||void 0);return new ro(e,n,t.message)}return null}function oo(){}function ao(){}function so(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function uo(){}function co(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=v(this.ec,this),this.a.onerror=v(this.Fb,this),this.a.onprogress=v(this.fc,this),this.a.ontimeout=v(this.ic,this)}function lo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ho(t,e,n){this.reset(t,e,n,void 0,void 0)}function fo(t){this.f=t,this.b=this.c=this.a=null}function po(t,e){this.name=t,this.value=e}$i.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=ur("universalLinks.subscribe",n))&&t(null,this.b))},$i.prototype.unsubscribe=function(t){U(this.a,function(e){return e==t})},w(no,Vr),w(ro,Vr),ro.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&ct(t,e),t},ro.prototype.toJSON=function(){return this.C()},oo.prototype.c=null,w(ao,oo),ao.prototype.a=function(){var t=so(this);return t?new ActiveXObject(t):new XMLHttpRequest},ao.prototype.b=function(){var t={};return so(this)&&(t[0]=!0,t[1]=!0),t},to=new ao,w(uo,oo),uo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new co;throw Error("Unsupported browser")},uo.prototype.b=function(){return{}},(t=co.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,lo(this,4)},t.Fb=function(){this.status=500,this.responseText="",lo(this,4)},t.ic=function(){this.Fb()},t.fc=function(){this.status=200,lo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ho.prototype.a=null,ho.prototype.reset=function(t,e,n,r,i){r||b(),delete this.a},po.prototype.toString=function(){return this.name};var mo=new po("SEVERE",1e3),yo=new po("WARNING",900),vo=new po("CONFIG",700),go=new po("FINE",500);fo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(I("Root logger has no level set."),null)}(this).value)for(h(e)&&(e=e()),t=new ho(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var bo={},wo=null;function So(t){var e;if(wo||(wo=new fo(""),bo[""]=wo,wo.c=vo),!(e=bo[t])){e=new fo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=So(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,bo[t]=e}return e}function Eo(t,e){t&&t.log(go,e,void 0)}function _o(t){this.f=t}function To(t){De.call(this),this.i=t,this.readyState=Io,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=So("goog.net.FetchXmlHttp")}w(_o,oo),_o.prototype.a=function(){return new To(this.f)},_o.prototype.b=function(t){return function(){return t}}({}),w(To,De);var Io=0;function Co(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function ko(t){De.call(this),this.headers=new Fe,this.D=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Ao,this.v=this.O=!1}(t=To.prototype).open=function(t,e){if(this.readyState!=Io)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,Co(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Gb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Co(this)),this.readyState=Io},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Co(this)),this.a&&(this.readyState=3,Co(this),this.a&&t.text().then(this.gc.bind(this,t),this.Gb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Co(this))},t.Gb=function(t){var e=this.f;e&&e.log(yo,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,Co(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(yo,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(yo,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},w(ko,De);var Ao="";ko.prototype.b=So("goog.net.XhrIo");var Oo=/^https?$/i,xo=["POST","PUT"];function Do(t){return"content-type"==t.toLowerCase()}function No(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Ro(t),jo(t)}function Ro(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Po(t){if(t.c&&void 0!==e)if(t.w[1]&&4==Lo(t)&&2==Uo(t))Eo(t.b,Fo(t,"Local request error detected and ignored"));else if(t.i&&4==Lo(t))je(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==Lo(t)){Eo(t.b,Fo(t,"Request complete")),t.c=!1;try{var r,i=Uo(t);t:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(t.m).match(Be)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!Oo.test(s?s.toLowerCase():"")}r=a}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Lo(t)?t.a.statusText:""}catch(l){Eo(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Uo(t)+"]",Ro(t)}}finally{jo(t)}}}function jo(t,e){if(t.a){Mo(t);var n=t.a,r=t.w[0]?o:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(mo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Mo(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function Lo(t){return t.a?t.a.readyState:0}function Uo(t){try{return 2<Lo(t)?t.a.status:-1}catch(e){return-1}}function Fo(t,e){return e+" ["+t.N+" "+t.m+" "+Uo(t)+"]"}function qo(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Vo(t,e,n){t.a=!0,t.c=n,t.f=!e,Wo(t)}function Bo(t){if(t.a){if(!t.m)throw new Ko(t);t.m=!1}}function zo(t,e,n,r){t.g.push([e,n,r]),t.a&&Wo(t)}function Ho(t){return j(t.g,function(t){return h(t[1])})}function Wo(t){if(t.h&&t.a&&Ho(t)){var e=t.h,r=Yo[e];r&&(n.clearTimeout(r.a),delete Yo[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var i=r=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(E(e)||"function"==typeof n.Promise&&e instanceof n.Promise)&&(i=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ho(t)||(r=!0)}}t.c=e,i&&(u=v(t.o,t,!0),i=v(t.o,t,!1),e instanceof qo?(zo(e,u,i),e.w=!0):e.then(u,i)),r&&(e=new Qo(e),Yo[e.a]=e,t.h=e.a)}function Ko(){_.call(this)}function Go(){_.call(this)}function Qo(t){this.a=n.setTimeout(v(this.c,this),0),this.b=t}(t=ko.prototype).Ga=function(){void 0!==e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Eo(this.b,Fo(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Eo(this.b,Fo(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),jo(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),jo(this,!0)),ko.ob.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?Po(this):this.wc())},t.wc=function(){Po(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Ao:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(mo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return Eo(this.b,"Can not get response: "+e.message),null}},qo.prototype.cancel=function(t){if(this.a)this.c instanceof qo&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new Go(this),Bo(this),Vo(this,!1,t))}},qo.prototype.o=function(t,e){this.i=!1,Vo(this,t,e)},qo.prototype.D=function(){Bo(this),Vo(this,!0,null)},qo.prototype.then=function(t,e,n){var r,i,o=new mt(function(t,e){r=t,i=e});return zo(this,r,function(t){t instanceof Go?o.cancel():i(t)}),o.then(t,e,n)},S(qo),w(Ko,_),Ko.prototype.message="Deferred has already fired",Ko.prototype.name="AlreadyCalledError",w(Go,_),Go.prototype.message="Deferred was canceled",Go.prototype.name="CanceledError",Qo.prototype.c=function(){throw delete Yo[this.a],this.b};var Yo={};function Xo(t){var e={},n=e.document||document,r=bn(t),i=document.createElement("SCRIPT"),o={Lb:i,Ga:void 0},a=new qo(Zo,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Jo(i,!0);var t=new ea(ta,"Timeout reached for loading script "+r);Bo(a),Vo(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Jo(i,e.fd||!1,s),a.D())},i.onerror=function(){Jo(i,!0,s);var t=new ea($o,"Error while loading script "+r);Bo(a),Vo(a,!1,t)},ct(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),Pn(i,o),i.src=bn(t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Zo(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&Jo(t,!0,this.Ga)}}function Jo(t,e,r){null!=r&&n.clearTimeout(r),t.onload=o,t.onerror=o,t.onreadystatechange=o,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var $o=0,ta=1;function ea(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),_.call(this,n),this.code=t}function na(t){this.f=t}function ra(t,e,r){if(this.b=t,this.i=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||aa,this.f=ot(t.secureTokenHeaders||sa),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||ua,this.a=ot(t.firebaseHeaders||ca),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==tr(),!(r=n.XMLHttpRequest||r&&l.a.INTERNAL.node&&l.a.INTERNAL.node.XMLHttpRequest)&&!$n())throw new Vr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,this.c=$n()?new _o(self):er()?new na(r):new uo}w(ea,_),w(na,oo),na.prototype.a=function(){return new this.f},na.prototype.b=function(){return{}};var ia,oa="idToken",aa=new wr(3e4,6e4),sa={"Content-Type":"application/x-www-form-urlencoded"},ua=new wr(3e4,6e4),ca={"Content-Type":"application/json"};function la(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ha(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function fa(t,e,r,i,o,a,s){(function(){var t=sr();return!((t=ir(t)!=rr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||Ht&&$t&&!(9<$t))})()||$n()?t=v(t.o,t):(ia||(ia=new mt(function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[pa]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var r=wn(da,{onload:pa});!function(t,e){zo(Xo(r),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))})}}(t,e)})),t=v(t.m,t)),t(e,r,i,o,a,s)}ra.prototype.o=function(t,e,i,o,a,s){if($n()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Vr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var u=new ko(this.c);if(s){u.g=Math.max(0,s);var l=setTimeout(function(){u.dispatchEvent("timeout")},s)}Ne(u,"complete",function(){l&&clearTimeout(l);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Eo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),Re(u,"ready",function(){l&&clearTimeout(l),Ft(this)}),Re(u,"timeout",function(){l&&clearTimeout(l),Ft(this),e&&e(null)}),function(t,e,i,o,a){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);i=i?i.toUpperCase():"GET",t.m=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.D?t.D.a():to.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.D?t.D:to),t.a.onreadystatechange=v(t.Jb,t);try{Eo(t.b,Fo(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(u){return Eo(t.b,Fo(t,"Error opening Xhr: "+u.message)),void No(t,u)}e=o||"";var s=new Fe(t.headers);a&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(c(t)||r(t))R(t,e,void 0);else for(var n=Ue(t),i=Le(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}(a,function(t,e){s.set(e,t)}),a=function(t){t:{for(var e=Do,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}(s.U()),o=n.FormData&&e instanceof n.FormData,!M(xo,i)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Mo(t),0<t.g&&(t.v=function(t){return Ht&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Eo(t.b,Fo(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=v(t.Ga,t)):t.u=je(t.Ga,t.g,t)),Eo(t.b,Fo(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(u){Eo(t.b,Fo(t,"Send error: "+u.message)),No(t,u)}}(u,t,i,o,a)};var da=vn("https://apis.google.com/js/client.js?onload=%{onload}"),pa="__fcb"+Math.floor(1e6*Math.random()).toString();function ma(t){if(!r(t=t.email)||!Yn.test(t))throw new Vr("invalid-email")}function ya(t){"email"in t&&ma(t)}function va(t){if(!t[oa])throw new Vr("internal-error")}function ga(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Vr("internal-error")}else{if(!t.sessionInfo)throw new Vr("missing-verification-id");if(!t.code)throw new Vr("missing-verification-code")}}ra.prototype.m=function(t,e,n,r,i){var o=this;ia.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ra.prototype.Qa=function(){return ts(this,Wa,{})},ra.prototype.pb=function(t,e){return ts(this,za,{idToken:t,email:e})},ra.prototype.qb=function(t,e){return ts(this,Ha,{idToken:t,password:e})};var ba={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function wa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Vr("internal-error")}function Sa(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&ln(t=new an(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ea(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=io(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=io(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=io(t)):t.errorMessage&&(e=es(t.errorMessage)),e)throw e;if(!t[oa])throw new Vr("internal-error")}function _a(t,e){return e.returnIdpCredential=!0,ts(t,Ka,e)}function Ta(t,e){return e.returnIdpCredential=!0,ts(t,Qa,e)}function Ia(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,ts(t,Ga,e)}function Ca(t){if(!t.oobCode)throw new Vr("invalid-action-code")}(t=ra.prototype).rb=function(t,e){var n={idToken:t},r=[];return rt(ba,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),ts(this,za,n)},t.kb=function(t,e){return ct(t={requestType:"PASSWORD_RESET",email:t},e),ts(this,Ua,t)},t.lb=function(t,e){return ct(t={requestType:"EMAIL_SIGNIN",email:t},e),ts(this,Ma,t)},t.jb=function(t,e){return ct(t={requestType:"VERIFY_EMAIL",idToken:t},e),ts(this,La,t)},t.Ua=function(t){return ts(this,Za,t)},t.Za=function(t,e){return ts(this,Va,{oobCode:t,newPassword:e})},t.Ja=function(t){return ts(this,Aa,{oobCode:t})},t.Wa=function(t){return ts(this,ka,{oobCode:t})};var ka={endpoint:"setAccountInfo",B:Ca,da:"email"},Aa={endpoint:"resetPassword",B:Ca,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Vr("internal-error")}},Oa={endpoint:"signupNewUser",B:function(t){if(ma(t),!t.password)throw new Vr("weak-password")},J:va,R:!0},xa={endpoint:"createAuthUri"},Da={endpoint:"deleteAccount",T:["idToken"]},Na={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!u(t.deleteProvider))throw new Vr("internal-error")}},Ra={endpoint:"emailLinkSignin",T:["email","oobCode"],B:ma,J:va,R:!0},Pa={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:ma,J:va,R:!0},ja={endpoint:"getAccountInfo"},Ma={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Vr("internal-error");ma(t)},da:"email"},La={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Vr("internal-error")},da:"email"},Ua={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Vr("internal-error");ma(t)},da:"email"},Fa={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},qa={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new Vr("internal-error")}},Va={endpoint:"resetPassword",B:Ca,da:"email"},Ba={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},za={endpoint:"setAccountInfo",T:["idToken"],B:ya,R:!0},Ha={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(ya(t),!t.password)throw new Vr("weak-password")},J:va,R:!0},Wa={endpoint:"signupNewUser",J:va,R:!0},Ka={endpoint:"verifyAssertion",B:wa,Oa:Sa,J:Ea,R:!0},Ga={endpoint:"verifyAssertion",B:wa,Oa:Sa,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Vr("user-not-found");if(t.errorMessage)throw es(t.errorMessage);if(!t[oa])throw new Vr("internal-error")},R:!0},Qa={endpoint:"verifyAssertion",B:function(t){if(wa(t),!t.idToken)throw new Vr("internal-error")},Oa:Sa,J:Ea,R:!0},Ya={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new Vr("invalid-custom-token")},J:va,R:!0},Xa={endpoint:"verifyPassword",B:function(t){if(ma(t),!t.password)throw new Vr("wrong-password")},J:va,R:!0},Za={endpoint:"verifyPhoneNumber",B:ga,J:va},Ja={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new Vr("internal-error");ga(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",io(t);va(t)}},$a={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ga,J:va};function ts(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.T))return _t(new Vr("internal-error"));var r,i=e.Ib||"POST";return Et(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),function(t,e,n,r,i,o){var a=Ye(t.g+e);Ge(a,"key",t.b),o&&Ge(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Ge(a,u,r[u]);return new mt(function(e,o){fa(t,a.toString(),function(t){t?t.error?o(ns(t,i||{})):e(t):o(new Vr("network-request-failed"))},n,s?void 0:Ln(mr(r)),t.a,t.h.get())})}(t,e.endpoint,i,n,e.Xb,e.ub||!1)}).then(function(t){return r=t,e.Oa?e.Oa(n,r):r}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new Vr("internal-error");return r[e.da]})}function es(t){return ns({error:{errors:[{message:t}],code:400,message:t}})}function ns(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Vr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",ct(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Vr(r[i],e);return!e&&t&&(e=pr(t)),new Vr("internal-error",e)}function rs(t){this.b=t,this.a=null,this.fb=function(t){return(ss||(ss=new mt(function(t,e){function r(){br(),ur("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){br(),e(Error("Network Error"))},timeout:os.get()})}if(ur("gapi.iframes.Iframe"))t();else if(ur("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){ur("gapi.load")?r():e(Error("Network Error"))},Et(Xo(i=wn(is,{onload:i}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw ss=null,t}))).then(function(){return new mt(function(e,n){ur("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},as.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var is=vn("https://apis.google.com/js/api.js?onload=%{onload}"),os=new wr(3e4,6e4),as=new wr(5e3,15e3),ss=null;function us(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Xe(this.i,"/__/auth/iframe"),Ge(this.a,"apiKey",this.g),Ge(this.a,"appName",this.h),this.b=null,this.c=[]}function cs(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function ls(t){try{return l.a.app(t).auth().ya()}catch(e){return[]}}function hs(t,e,n,r,i){this.m=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function fs(t){var e=zn();return function(t){return ts(t,Fa,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Ye(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Ye(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Qn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new no(zn())})}function ds(t){return t.l?t.l:(t.l=Xn().then(function(){if(!t.u){var e=t.c,n=t.h,r=ls(t.b),i=new us(t.m,t.f,t.b);i.f=e,i.b=n,i.c=q(r||[]),t.u=i.toString()}t.i=new rs(t.u),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ji(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Et(n)}return n.status="ERROR",Et(n)})}(t)}),t.l)}function ps(t){return t.o||(t.v=t.c?ar(t.c,ls(t.b)):null,t.o=new ra(t.f,ci(t.h),t.v)),t.o}function ms(t,e,n,r,i,o,a,s,u,c){return(t=new cs(t,e,n,r,i)).i=o,t.g=a,t.h=s,t.b=ot(u||null),t.f=c,t.toString()}function ys(t){if(this.a=t||l.a.INTERNAL.reactNative&&l.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Vr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vs(t){this.b=t,this.a={},this.c=v(this.f,this)}us.prototype.toString=function(){return this.f?Ge(this.a,"v",this.f):cn(this.a.a,"v"),this.b?Ge(this.a,"eid",this.b):cn(this.a.a,"eid"),this.c.length?Ge(this.a,"fw",this.c.join(",")):cn(this.a.a,"fw"),this.a.toString()},cs.prototype.toString=function(){var t=Xe(this.o,"/__/auth/handler");if(Ge(t,"apiKey",this.m),Ge(t,"appName",this.c),Ge(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=l.a.app(this.c).auth().ea()}catch(s){n=null}for(var r in e.$a=n,Ge(t,"providerId",this.a.providerId),n=mr((e=this.a).yb))n[r]=n[r].toString();r=e.Dc,n=ot(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),it(n)||Ge(t,"customParameters",pr(n))}if("function"==typeof this.a.Eb&&(e=this.a.Eb()).length&&Ge(t,"scopes",e.join(",")),this.i?Ge(t,"redirectUrl",this.i):cn(t.a,"redirectUrl"),this.g?Ge(t,"eventId",this.g):cn(t.a,"eventId"),this.h?Ge(t,"v",this.h):cn(t.a,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Qe(t,a)&&Ge(t,a,this.b[a]);return this.f?Ge(t,"eid",this.f):cn(t.a,"eid"),(a=ls(this.c)).length&&Ge(t,"fw",a.join(",")),t.toString()},(t=hs.prototype).Ea=function(t,e,n){var r=new Vr("popup-closed-by-user"),i=new Vr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(t){var e={type:"webStorageSupport"};return ds(t).then(function(){return function(t,e){return t.fb.then(function(){return new mt(function(n){t.a.send(e.type,e,n,ur("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&Kn(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(t){return new mt(function(e){return function n(){Me(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!a)return Me(n).then(function(){e(r)})})},t.Mb=function(){var t=sr();return!dr(t)&&!gr(t)},t.Hb=function(){return!1},t.Cb=function(t,e,n,r,i,o,a){if(!t)return _t(new Vr("popup-blocked"));if(a&&!dr())return this.ga().s(function(e){Kn(t),i(e)}),r(),Et();this.a||(this.a=fs(ps(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw Kn(t),i(e),e});return r(),e}).then(function(){Xi(n),a||Hn(ms(s.m,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=fs(ps(this)));var r=this;return this.a.then(function(){Xi(e),Hn(ms(r.m,r.f,r.b,t,e,zn(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},t.ga=function(){var t=this;return ds(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Vr("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){U(this.g,function(e){return e==t})},(t=ys.prototype).get=function(t){return Et(this.a.getItem(t)).then(function(t){return t&&yr(t)})},t.set=function(t,e){return Et(this.a.setItem(t,pr(e)))},t.P=function(t){return Et(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var gs,bs=[];function ws(t){this.a=t}function Ss(t){this.c=t,this.b=!1,this.a=[]}function Es(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return _t(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new mt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),t.a.push(c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return _s(t,c),e}).s(function(e){throw _s(t,c),e})}function _s(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),U(t.a,function(t){return t==e})}}function Ts(){if(!Cs())throw new Vr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;$n()&&self?(this.l=function(){var t=$n()?self:null;if(R(bs,function(n){n.b==t&&(e=n)}),!e){var e=new vs(t);bs.push(e)}return e}(),this.l.subscribe("keyChanged",function(e,n){return Ds(t).then(function(e){return 0<e.length&&R(t.a,function(t){t(e)}),{keyProcessed:M(e,n.key)}})}),this.l.subscribe("ping",function(){return Et(["keyChanged"])})):function(){var t=n.navigator;return t&&t.serviceWorker?Et().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Et(null)}().then(function(e){(t.h=e)&&(t.g=new Ss(new ws(e)),Es(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&M(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Is(t){return t.o||(t.o=function t(e){return new mt(function(n,r){var i=e.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new mt(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.o}function Cs(){try{return!!n.indexedDB}catch(Bt){return!1}}function ks(t){return t.objectStore("firebaseLocalStorage")}function As(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Os(t){return new mt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function xs(t,e){return t.g&&t.h&&function(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Es(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):Et()}function Ds(t){return Is(t).then(function(t){var e=ks(As(t,!1));return e.getAll?Os(e.getAll()):new mt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function Ns(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Rs(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Et().then(function(){if(Cs()){var t=vr(),r="__sak"+t;return gs||(gs=new Ts),(n=gs).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){R(e.a,function(e){e(t)})}),t})}function Ps(){this.a={},this.type="inMemory"}function js(){if(!function(){var t="Node"==tr();if(!(t=Ms()||t&&l.a.INTERNAL.node&&l.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Vr("internal-error","The LocalStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=Ms()||l.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ms(){try{var t=n.localStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function Ls(){this.type="nullStorage"}function Us(){if(!function(){var t="Node"==tr();if(!(t=Fs()||t&&l.a.INTERNAL.node&&l.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==tr())throw new Vr("internal-error","The SessionStorage compatibility library was not found.");throw new Vr("web-storage-unsupported")}this.a=Fs()||l.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fs(){try{var t=n.sessionStorage,e=vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(r){return null}}function qs(){var t={};t.Browser=zs,t.Node=Hs,t.ReactNative=Ws,t.Worker=Ks,this.a=t[tr()]}vs.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];R(r,function(e){i.push(Et().then(function(){return e(t.origin,t.data.data)}))}),It(i).then(function(r){var i=[];R(r,function(t){i.push({fulfilled:t.Db,value:t.value,reason:t.reason?t.reason.message:void 0})}),R(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},vs.prototype.subscribe=function(t,e){it(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},vs.prototype.unsubscribe=function(t,e){void 0!==this.a[t]&&e?(U(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],it(this.a)&&this.b.removeEventListener("message",this.c)},ws.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ss.prototype.close=function(){for(;0<this.a.length;)_s(this,this.a[0]);this.b=!0},(t=Ts.prototype).set=function(t,e){var n,r=!1,i=this;return Is(this).then(function(e){return Os((e=ks(As(n=e,!0))).get(t))}).then(function(o){var a=ks(As(n,!0));return o?(o.value=e,Os(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Os(a.add(o)))}).then(function(){return i.c[t]=e,xs(i,t)}).ia(function(){r&&i.b--})},t.get=function(t){return Is(this).then(function(e){return Os(ks(As(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Is(this).then(function(r){return e=!0,n.b++,Os(ks(As(r,!0)).delete(t))}).then(function(){return delete n.c[t],xs(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&function(t){Ns(t),function e(){t.f=setTimeout(function(){t.i=Ds(t).then(function(e){0<e.length&&R(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ca=function(t){U(this.a,function(e){return e==t}),0==this.a.length&&Ns(this)},(t=Rs.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){U(this.a,function(e){return e==t})},(t=Ps.prototype).get=function(t){return Et(this.a[t])},t.set=function(t,e){return this.a[t]=e,Et()},t.P=function(t){return delete this.a[t],Et()},t.Y=function(){},t.ca=function(){},(t=js.prototype).get=function(t){var e=this;return Et().then(function(){return yr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Et().then(function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&be(n.window,"storage",t)},t.ca=function(t){n.window&&Ee(n.window,"storage",t)},(t=Ls.prototype).get=function(){return Et(null)},t.set=function(){return Et()},t.P=function(){return Et()},t.Y=function(){},t.ca=function(){},(t=Us.prototype).get=function(t){var e=this;return Et().then(function(){return yr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Et().then(function(){var r=pr(e);null===r?n.P(t):n.a.setItem(t,r)})},t.P=function(t){var e=this;return Et().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Vs,Bs,zs={A:js,Ra:Us},Hs={A:js,Ra:Us},Ws={A:ys,Ra:Ls},Ks={A:js,Ra:Ls},Gs={Zc:"local",NONE:"none",ad:"session"};function Qs(){var t=!(gr(sr())||!Jn()),e=dr(),r=cr();this.o=t,this.h=e,this.l=r,this.a={},Vs||(Vs=new qs),t=Vs;try{this.g=!Bn()&&_r()||!n.indexedDB?new t.a.A:new Rs($n()?new Ps:new t.a.A)}catch(i){this.g=new Ps,this.h=!0}try{this.i=new t.a.Ra}catch(i){this.i=new Ps}this.m=new Ps,this.f=v(this.Pb,this),this.b={}}function Ys(){return Bs||(Bs=new Qs),Bs}function Xs(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Zs(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Js(t,e,n){return n=Zs(e,n),"local"==e.A&&(t.b[n]=null),Xs(t,e.A).P(n)}function $s(t){t.c&&(clearInterval(t.c),t.c=null)}function tu(t){this.a=t,this.b=Ys()}(t=Qs.prototype).get=function(t,e){return Xs(this,t.A).get(Zs(t,e))},t.set=function(t,e,n){var r=Zs(t,n),i=this,o=Xs(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},t.addListener=function(t,e,r){t=Zs(t,e),this.l&&(this.b[t]=n.localStorage.getItem(t)),it(this.a)&&(Xs(this,"local").Y(this.f),this.h||(Bn()||!_r())&&n.indexedDB||!this.l||function(t){$s(t),t.c=setInterval(function(){for(var e in t.a){var r=n.localStorage.getItem(e),i=t.b[e];r!=i&&(t.b[e]=r,r=new ue({type:"storage",key:e,target:window,oldValue:i,newValue:r,a:!0}),t.Pb(r))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(r)},t.removeListener=function(t,e,n){t=Zs(t,e),this.a[t]&&(U(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),it(this.a)&&(Xs(this,"local").ca(this.f),$s(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Xa(r))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Xs(this,"local").ca(this.f):$s(this),this.o)if(r=n.localStorage.getItem(e),(i=t.a.newValue)!==r)null!==i?n.localStorage.setItem(e,i):n.localStorage.removeItem(e);else if(this.b[e]===i&&void 0===t.a.a)return;var a=this;r=function(){void 0===t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Xa(e))},Ht&&$t&&10==$t&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(r,10):r()}}else R(t,v(this.Xa,this))},t.Xa=function(t){this.a[t]&&R(this.a[t],function(t){t()})};var eu,nu={name:"authEvent",A:"local"};function ru(){this.a=Ys()}function iu(t,e){this.b=ou,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==eu||(eu=n.Int32Array?new Int32Array(fu):fu),this.reset()}w(iu,function(){this.b=-1});for(var ou=64,au=ou-1,su=[],uu=0;uu<au;uu++)su[uu]=0;var cu=F(128,su);function lu(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|eu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function hu(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(lu(t),o=0);else{if(!c(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(lu(t),o=0)}}t.c=o,t.g+=n}iu.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):q(this.h)};var fu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function du(){iu.call(this,8,pu)}w(du,iu);var pu=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function mu(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new ru,this.g=new tu(this.h),this.f=null,this.b=[],this.a=this.c=null}function yu(t){return new Vr("invalid-cordova-configuration",t)}function vu(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function gu(t){return t.f||(t.f=t.ga().then(function(){return new mt(function(e){t.wa(function n(r){return e(r),t.Ka(n),!1}),function(t){function e(e){i=!0,o&&o.cancel(),bu(t).then(function(n){var i=r;if(n&&e&&e.url){var o=null;-1!=(i=Ti(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=yr(Qe(o=Ye(i),"firebaseError")||null))?Br(o):null)?new Zi(n.b,n.c,null,null,o):new Zi(n.b,n.c,i,n.g)),i=o||r}vu(t,i)})}var r=new Zi("unknown",null,null,null,new Vr("no-auth-event")),i=!1,o=Me(500).then(function(){return bu(t).then(function(){i||vu(t,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ur("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"==typeof a)try{a(t)}catch(r){console.error(r)}},eo||(eo=new $i),eo.subscribe(e)}(t)})})),t.f}function bu(t){var e=null;return function(t){return t.b.get(nu,t.a).then(function(t){return Ji(t)})}(t.g).then(function(n){return e=n,Js((n=t.g).b,nu,n.a)}).then(function(){return e})}function wu(t){this.a=t,this.b=Ys()}(t=mu.prototype).ga=function(){return this.za?this.za:this.za=(Zn(void 0)?Xn().then(function(){return new mt(function(t,e){var r=n.document,i=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),t()},!1)})}):_t(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof ur("universalLinks.subscribe",n))throw yu("cordova-universal-links-plugin-fix is not installed");if(void 0===ur("BuildInfo.packageName",n))throw yu("cordova-plugin-buildinfo is not installed");if("function"!=typeof ur("cordova.plugins.browsertab.openUrl",n))throw yu("cordova-plugin-browsertab is not installed");if("function"!=typeof ur("cordova.InAppBrowser.open",n))throw yu("cordova-plugin-inappbrowser is not installed")},function(){throw new Vr("cordova-not-ready")})},t.Ea=function(t,e){return e(new Vr("operation-not-supported-in-this-environment")),Et()},t.Cb=function(){return _t(new Vr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,r){if(this.c)return _t(new Vr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=Et().then(function(){return Xi(e),gu(i)}).then(function(){return function(t,e,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Zi(e,i,null,o,new Vr("no-auth-event")),s=ur("BuildInfo.packageName",n);if("string"!=typeof s)throw new Vr("invalid-cordova-configuration");var u=ur("BuildInfo.displayName",n),c={};if(sr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!sr().toLowerCase().match(/android/))return _t(new Vr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=function(t){var e=new du;hu(e,t),t=[];var n=8*e.g;hu(e,cu,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(lu(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return P(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var l=ms(t.m,t.i,t.l,e,r,null,i,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(nu,a.C(),e)}).then(function(){var e=ur("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof e)throw new Vr("invalid-cordova-configuration");var r=null;e(function(e){if(e){if("function"!=typeof(r=ur("cordova.plugins.browsertab.openUrl",n)))throw new Vr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=ur("cordova.InAppBrowser.open",n)))throw new Vr("invalid-cordova-configuration");e=!(!(e=sr()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=r(l,e?"_blank":"_system","location=yes")}})})}(i,t,e,r)}).then(function(){return new mt(function(t,e){s=function(){var e=ur("cordova.plugins.browsertab.close",n);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.wa(s),c=function(){Sr()&&u()},o.addEventListener("resume",u=function(){a||(a=Me(2e3).then(function(){e(new Vr("redirect-cancelled-by-user"))}))},!1),sr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return bu(i).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},t.wa=function(t){this.b.push(t),gu(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Zi("unknown",null,null,null,new Vr("no-auth-event")),t(e))})},t.Ka=function(t){U(this.b,function(e){return e==t})};var Su={name:"pendingRedirect",A:"session"};function Eu(t){return Js(t.b,Su,t.a)}function _u(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=v(this.bb,this),this.b=new Ru,this.o=new Lu,this.g=new wu(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Tu(this.u,this.l,this.m,si)}function Tu(t,e,n,r){var i=l.a.SDK_VERSION||null;return Zn()?new mu(t,e,n,i,r):new hs(t,e,n,i,r)}function Iu(t){t.f||(t.f=!0,t.a.wa(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Cu(t){t.a.Mb()&&Iu(t).s(function(e){var n=new Zi("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));xu(e)&&t.bb(n)}),t.a.Hb()||Pu(t.b)}(t=_u.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Tu(this.u,this.l,this.m)},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(M(this.h,t)||this.h.push(t),!this.f){var e=this;(function(t){return t.b.get(Su,t.a).then(function(t){return"pending"==t})})(this.g).then(function(t){t?Eu(e.g).then(function(){Iu(e).s(function(t){var n=new Zi("unknown",null,null,null,new Vr("operation-not-supported-in-this-environment"));xu(t)&&e.bb(n)})}):Cu(e)}).s(function(){Cu(e)})}},t.unsubscribe=function(t){U(this.h,function(e){return e==t})},t.bb=function(t){if(!t)throw new Vr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.vb(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return Pu(this.b),e};var ku=new wr(2e3,1e4),Au=new wr(3e4,6e4);function Ou(t,e,n,r,i,o){return t.a.Cb(e,n,r,function(){t.f||(t.f=!0,t.a.wa(t.i))},function(){t.reset()},i,o)}function xu(t){return!(!t||"auth/cordova-not-ready"!=t.code)}_u.prototype.fa=function(){return this.b.fa()},_u.prototype.Ca=function(t,e,n){var r,i=this;return function(t){return t.b.set(Su,"pending",t.a)}(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(xu(t))throw new Vr("operation-not-supported-in-this-environment");return r=t,Eu(i.g).then(function(){throw r})}).then(function(){return i.a.Qb()?new mt(function(){}):Eu(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},_u.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},ku.get())};var Du={};function Nu(t,e,n){var r=e+":"+n;return Du[r]||(Du[r]=new _u(t,e,n)),Du[r]}function Ru(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pu(t){t.g||(t.g=!0,Mu(t,!1,null,null))}function ju(t,e){if(t.b=function(){return Et(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Mu(t,e,n,r){e?r?function(t,e){if(t.b=function(){return _t(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):ju(t,n):ju(t,{user:null}),t.f=[],t.c=[]}function Lu(){}function Uu(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(t){this.sb=t},enumerable:!1})}function Fu(t,e){this.a=e,Ar(this,"verificationId",t)}function qu(t,e,n,r){return new Gi(t).Ua(e,n).then(function(t){return new Fu(t,r)})}function Vu(t){var e=ai(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Vr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Or(this,{token:t,expirationTime:Er(1e3*e.exp),authTime:Er(1e3*e.auth_time),issuedAtTime:Er(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function Bu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function zu(t){this.f=t,this.b=this.a=null,this.c=0}function Hu(t,e){var n=e[oa],r=e.refreshToken;e=Wu(e.expiresIn),t.b=n,t.c=e,t.a=r}function Wu(t){return b()+1e3*parseInt(t,10)}function Ku(t,e){this.a=t||null,this.b=e||null,Or(this,{lastSignInTime:Er(e||null),creationTime:Er(t||null)})}function Gu(t,e,n,r,i,o){Or(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Qu(t,e){for(var n in se.call(this,t),e)this[n]=e[n]}function Yu(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=l.a.SDK_VERSION?ar(l.a.SDK_VERSION):null,this.b=new ra(this.m,ci(si),t),this.h=new zu(this.b),nc(this,e[oa]),Hu(this.h,e),Ar(this,"refreshToken",this.h.a),oc(this,n||{}),De.call(this),this.I=!1,this.u&&lr()&&(this.a=Nu(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(t){return new Bu(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-b()-3e5;return 0<e?e:0})}(this),this.V=v(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){Zu(r,t.c)},this.W=null}function Xu(t,e){t.X&&Ee(t.X,"languageCodeChanged",t.ta),(t.X=e)&&be(e,"languageCodeChanged",t.ta)}function Zu(t,e){t.O=e,ha(t.b,l.a.SDK_VERSION?ar(l.a.SDK_VERSION,t.O):null)}function Ju(t,e){t.W&&Ee(t.W,"frameworkChanged",t.sa),(t.W=e)&&be(e,"frameworkChanged",t.sa)}function $u(t){try{return l.a.app(t.o).auth()}catch(e){throw new Vr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function tc(t){t.D||t.w.b||(t.w.start(),Ee(t,"tokenChanged",t.V),be(t,"tokenChanged",t.V))}function ec(t){Ee(t,"tokenChanged",t.V),t.w.stop()}function nc(t,e){t.ra=e,Ar(t,"_lat",e)}function rc(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return It(e).then(function(){return t})}function ic(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function oc(t,e){Or(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Ku(e.createdAt,e.lastLoginAt),providerData:[]})}function ac(){}function sc(t){return Et().then(function(){if(t.D)throw new Vr("app-deleted")})}function uc(t){return P(t.providerData,function(t){return t.providerId})}function cc(t,e){e&&(lc(t,e.providerId),t.providerData.push(e))}function lc(t,e){U(t.providerData,function(t){return t.providerId==e})}function hc(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ar(t,e,n)}function fc(t,e){t!=e&&(Or(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),Ar(t,"metadata",e.metadata?function(t){return new Ku(t.a,t.b)}(e.metadata):new Ku),R(e.providerData,function(e){cc(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),Ar(t,"refreshToken",t.h.a))}function dc(t){return t.F().then(function(e){var n=t.isAnonymous;return function(t,e){return ts(t.b,ja,{idToken:e}).then(v(t.xc,t))}(t,e).then(function(){return n||hc(t,"isAnonymous",!1),e})})}function pc(t,e){e[oa]&&t.ra!=e[oa]&&(Hu(t.h,e),t.dispatchEvent(new Qu("tokenChanged")),nc(t,e[oa]),hc(t,"refreshToken",t.h.a))}function mc(t,e){return dc(t).then(function(){if(M(uc(t),e))return rc(t).then(function(){throw new Vr("provider-already-linked")})})}function yc(t,e,n){return xr({user:t,credential:Yi(e),additionalUserInfo:e=pi(e),operationType:n})}function vc(t,e){return pc(t,e),t.reload().then(function(){return t})}function gc(t,e,n,r,i){if(!lr())return _t(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return _t(t.i);var o=di(n.providerId),a=vr(t.uid+":::"),s=null;(!dr()||Jn())&&t.u&&n.isOAuthProvider&&(s=ms(t.u,t.m,t.o,e,n,null,a,l.a.SDK_VERSION||null));var u=Gn(s,o&&o.Ba,o&&o.Aa);return r=r().then(function(){if(wc(t),!i)return t.F().then(function(){})}).then(function(){return Ou(t.a,u,e,n,a,!!s)}).then(function(){return new mt(function(n,r){t.ha(e,null,new Vr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=a,t.c=t.a.Ea(t,e,u,a)})}).then(function(t){return u&&Kn(u),t?xr(t):null}).s(function(t){throw u&&Kn(u),t}),Sc(t,r,i)}function bc(t,e,n,r,i){if(!lr())return _t(new Vr("operation-not-supported-in-this-environment"));if(t.i&&!i)return _t(t.i);var o=null,a=vr(t.uid+":::");return r=r().then(function(){if(wc(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,rc(t)}).then(function(e){return t.ba&&(e=(e=t.ba).b.set(Tc,t.C(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Ic(t.ba);throw o}).then(function(){if(o)throw o}),Sc(t,r,i)}function wc(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new Vr("internal-error");throw new Vr("auth-domain-config-required")}}function Sc(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),_t(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Qu("userInvalidated")),t.i=e),e})}(t,e,n);return t.G.push(r),r.ia(function(){L(t.G,r)}),r}function Ec(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[oa]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-b())/1e3;var r=new Yu(e,n,t);return t.providerData&&R(t.providerData,function(t){t&&cc(r,xr(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function _c(t){this.a=t,this.b=Ys()}Ru.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Ru.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Mu(this,!0,null,t.a),Et()):e.xa(n,r)?function(t,e,n){n=n.xa(e.b,e.c);var r=e.f,i=e.g,o=e.h,a=!!e.b.match(/Redirect$/);n(r,i,o).then(function(e){Mu(t,a,e,null)}).s(function(e){Mu(t,a,null,e)})}(this,t,e):_t(new Vr("invalid-auth-event")):(Mu(this,!1,null,null),Et())}else _t(new Vr("invalid-auth-event"))},Ru.prototype.Ya=function(){this.g&&!this.i&&Mu(this,!1,null,null)},Ru.prototype.fa=function(){var t=this;return new mt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Vr("timeout");t.a&&t.a.cancel(),t.a=Me(Au.get()).then(function(){t.b||(t.g=!0,Mu(t,!0,null,e))})}(t))})},Lu.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),Et()):e.xa(n,r)?function(t,e){var n=t.c,r=t.b;e.xa(r,n)(t.f,t.g,t.h).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}(t,e):_t(new Vr("invalid-auth-event"))}else _t(new Vr("invalid-auth-event"))},Fu.prototype.confirm=function(t){return t=Qi(this.verificationId,t),this.a(t)},Bu.prototype.start=function(){this.a=this.c,function t(e,r){e.stop(),e.b=Me(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,r)).then(function(){return t=n.document,e=null,Sr()||!t?Et():new mt(function(n){e=function(){Sr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n});var t,e}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},Bu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},zu.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},zu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?_t(new Vr("user-token-expired")):t||!this.b||b()>this.c-3e4?this.a?function(t,e){return function(t,e){return new mt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?fa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(ns(t)):t.access_token&&t.refresh_token?n(t):r(new Vr("internal-error")):r(new Vr("network-request-failed"))},"POST",un(e).toString(),t.f,t.l.get()):r(new Vr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=Wu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Et(null):Et({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Ku.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(Qu,se),w(Yu,De),Yu.prototype.pa=function(t){this.ka=t,la(this.b,t)},Yu.prototype.ea=function(){return this.ka},Yu.prototype.ya=function(){return q(this.O)},Yu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Ar(Yu.prototype,"providerId","firebase"),(t=Yu.prototype).reload=function(){var t=this;return Sc(this,sc(this).then(function(){return dc(t).then(function(){return rc(t)}).then(ac)}))},t.dc=function(t){return this.F(t).then(function(t){return new Vu(t)})},t.F=function(t){var e=this;return Sc(this,sc(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new Vr("internal-error");return t.accessToken!=e.ra&&(nc(e,t.accessToken),e.dispatchEvent(new Qu("tokenChanged"))),hc(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(!(t=t.users)||!t.length)throw new Vr("internal-error");oc(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?P(t,function(t){return new Gu(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)cc(this,e[n]);hc(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.gb=function(t){var e=this,n=null;return Sc(this,t.f(this.b,this.uid).then(function(t){return pc(e,t),n=yc(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return Cr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(t).then(function(){})},t.eb=function(t){var e=this,n=null;return Sc(this,mc(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=yc(e,t,"link"),vc(e,t)}).then(function(){return n}))},t.pc=function(t){return Cr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return Sc(this,mc(this,"phone").then(function(){return qu($u(n),t,e,v(n.eb,n))}))},t.zc=function(t,e){var n=this;return Sc(this,Et().then(function(){return qu($u(n),t,e,v(n.gb,n))}),!0)},t.pb=function(t){var e=this;return Sc(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return pc(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Sc(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return pc(e,t),e.reload()}))},t.qb=function(t){var e=this;return Sc(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return pc(e,t),e.reload()}))},t.rb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return sc(this);var e=this;return Sc(this,this.F().then(function(n){return e.b.rb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return pc(e,t),hc(e,"displayName",t.displayName||null),hc(e,"photoURL",t.photoUrl||null),R(e.providerData,function(t){"password"===t.providerId&&(Ar(t,"displayName",e.displayName),Ar(t,"photoURL",e.photoURL))}),rc(e)}).then(ac))},t.Pc=function(t){var e=this;return Sc(this,dc(this).then(function(n){return M(uc(e),t)?function(t,e,n){return ts(t,Na,{idToken:e,deleteProvider:n})}(e.b,n,[t]).then(function(t){var n={};return R(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),R(uc(e),function(t){n[t]||lc(e,t)}),n[Gi.PROVIDER_ID]||Ar(e,"phoneNumber",null),rc(e)}):rc(e).then(function(){throw new Vr("no-such-provider")})}))},t.delete=function(){var t=this;return Sc(this,this.F().then(function(e){return ts(t.b,Da,{idToken:e})}).then(function(){t.dispatchEvent(new Qu("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");Xu(t,null),Ju(t,null),t.G=[],t.D=!0,ec(t),Ar(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.vb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?v(this.Ab,this):"reauthViaPopup"==t&&e==(this.g||null)?v(this.Bb,this):"linkViaRedirect"==t&&(this.aa||null)==e?v(this.Ab,this):"reauthViaRedirect"==t&&(this.aa||null)==e?v(this.Bb,this):null},t.rc=function(t){var e=this;return gc(this,"linkViaPopup",t,function(){return mc(e,t.providerId).then(function(){return rc(e)})},!1)},t.Ac=function(t){return gc(this,"reauthViaPopup",t,function(){return Et()},!0)},t.sc=function(t){var e=this;return bc(this,"linkViaRedirect",t,function(){return mc(e,t.providerId)},!1)},t.Bc=function(t){return bc(this,"reauthViaRedirect",t,function(){return Et()},!0)},t.Ab=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Sc(this,this.F().then(function(i){return Ta(r.b,{requestUri:t,postBody:n,sessionId:e,idToken:i})}).then(function(t){return i=yc(r,t,"link"),vc(r,t)}).then(function(){return i}))},t.Bb=function(t,e,n){var r=this;this.c&&(this.c.cancel(),this.c=null);var i=null;return Sc(this,Et().then(function(){return Ii(Ia(r.b,{requestUri:t,sessionId:e,postBody:n}),r.uid)}).then(function(t){return i=yc(r,t,"reauthenticate"),pc(r,t),r.i=null,r.reload()}).then(function(){return i}),!0)},t.jb=function(t){var e=this,n=null;return Sc(this,this.F().then(function(e){return n=e,void 0===t||it(t)?{}:ei(new Wr(t))}).then(function(t){return e.b.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&ct(t,this.metadata.C()),R(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var Tc={name:"redirectUser",A:"session"};function Ic(t){return Js(t.b,Tc,t.a)}function Cc(t){this.a=t,this.b=Ys(),this.c=null,this.f=function(t){var e=Oc("local"),r=Oc("session"),i=Oc("none");return function(t,e,r){var i=Zs(e,r),o=Xs(t,e.A);return t.get(e,r).then(function(a){var s=null;try{s=yr(n.localStorage.getItem(i))}catch(u){}if(s&&!a)return n.localStorage.removeItem(i),t.set(e,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(t.b,e,t.a).then(function(){return t.b.get(r,t.a)}).then(function(n){return n?r:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(Ac,t.a).then(function(t){return t?Oc(t):e})})})}).then(function(e){return t.c=e,kc(t,e.A)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(Oc("local"),this.a,v(this.g,this))}function kc(t,e){var n,r=[];for(n in Gs)Gs[n]!==e&&r.push(Js(t.b,Oc(Gs[n]),t.a));return r.push(Js(t.b,Ac,t.a)),function(t){return new mt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Tt(t[s],g(o,s),a);else e(i)})}(r)}Cc.prototype.g=function(){var t=this,e=Oc("local");Rc(this,function(){return Et().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return kc(t,"local").then(function(){t.c=e})})})};var Ac={name:"persistence",A:"session"};function Oc(t){return{name:"authUser",A:t}}function xc(t,e){return Rc(t,function(){return t.b.set(t.c,e.C(),t.a)})}function Dc(t){return Rc(t,function(){return Js(t.b,t.c,t.a)})}function Nc(t,e){return Rc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ec(t||{})})})}function Rc(t,e){return t.f=t.f.then(e,e),t.f}function Pc(t){if(this.m=!1,Ar(this,"settings",new Uu),Ar(this,"app",t),!Vc(this).options||!Vc(this).options.apiKey)throw new Vr("invalid-api-key");t=l.a.SDK_VERSION?ar(l.a.SDK_VERSION):null,this.b=new ra(Vc(this).options&&Vc(this).options.apiKey,ci(si),t),this.N=[],this.o=[],this.I=[],this.Tb=l.a.INTERNAL.createSubscribe(v(this.mc,this)),this.O=void 0,this.Ub=l.a.INTERNAL.createSubscribe(v(this.nc,this)),Fc(this,null),this.h=new Cc(Vc(this).options.apiKey+":"+Vc(this).name),this.w=new _c(Vc(this).options.apiKey+":"+Vc(this).name),this.V=Wc(this,function(t){var e=Vc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Tc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Ec(t||{})})}(t.w,Vc(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.w),Ic(t.w)});return Wc(t,e)}(t).then(function(){return Nc(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return xc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Dc(t.h)})):null}).then(function(e){Fc(t,e||null)});return Wc(t,n)}(this)),this.i=Wc(this,function(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(Oc("local"),e.a,t.ka)}})}(this)),this.X=!1,this.ka=v(this.Mc,this),this.Ha=v(this.Z,this),this.ra=v(this.bc,this),this.sa=v(this.jc,this),this.ta=v(this.kc,this),function(t){var e=Vc(t).options.authDomain,n=Vc(t).options.apiKey;e&&lr()&&(t.Sb=t.V.then(function(){if(!t.m){if(t.a=Nu(e,n,Vc(t).name),t.a.subscribe(t),Bc(t)&&ic(Bc(t)),t.D){ic(t.D);var r=t.D;r.pa(t.ea()),Xu(r,t),Zu(r=t.D,t.G),Ju(r,t),t.D=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=v(this.delete,this),this.INTERNAL.logFramework=v(this.tc,this),this.u=0,De.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}(this),this.G=[]}function jc(t){se.call(this,"languageCodeChanged"),this.g=t}function Mc(t){se.call(this,"frameworkChanged"),this.c=t}function Lc(t){return t.Sb||_t(new Vr("auth-domain-config-required"))}function Uc(t,e){var n={};return n.apiKey=Vc(t).options.apiKey,n.authDomain=Vc(t).options.authDomain,n.appName=Vc(t).name,t.V.then(function(){return function(t,e,n,r){var i=new Yu(t,e);return n&&(i.ba=n),r&&Zu(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.ya())}).then(function(e){return Bc(t)&&e.uid==Bc(t).uid?(fc(Bc(t),e),t.Z(e)):(Fc(t,e),ic(e),t.Z(e))}).then(function(){Hc(t)})}function Fc(t,e){Bc(t)&&(function(t,e){U(t.N,function(t){return t==e})}(Bc(t),t.Ha),Ee(Bc(t),"tokenChanged",t.ra),Ee(Bc(t),"userDeleted",t.sa),Ee(Bc(t),"userInvalidated",t.ta),ec(Bc(t))),e&&(e.N.push(t.Ha),be(e,"tokenChanged",t.ra),be(e,"userDeleted",t.sa),be(e,"userInvalidated",t.ta),0<t.u&&tc(e)),Ar(t,"currentUser",e),e&&(e.pa(t.ea()),Xu(e,t),Zu(e,t.G),Ju(e,t))}function qc(t,e){var n=null,r=null;return Wc(t,e.then(function(e){return n=Yi(e),r=pi(e),Uc(t,e)}).then(function(){return xr({user:Bc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Vc(t){return t.app}function Bc(t){return t.currentUser}function zc(t){return Bc(t)&&Bc(t)._lat||null}function Hc(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](zc(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](zc(t))}}function Wc(t,e){return t.N.push(e),e.ia(function(){L(t.N,e)}),e}function Kc(){}function Gc(){this.a={},this.b=1e12}Cc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Vr("invalid-persistence-type"),n=new Vr("unsupported-persistence-type");t:{for(r in Gs)if(Gs[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(tr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!cr()&&"none"!==t)throw n}}(t),Rc(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,kc(n,t)}).then(function(){if(n.c=Oc(t),e)return n.b.set(n.c,e,n.a)}):Et()})},w(Pc,De),w(jc,se),w(Mc,se),(t=Pc.prototype).mb=function(t){return Wc(this,t=this.h.mb(t))},t.pa=function(t){this.W===t||this.m||(this.W=t,la(this.b,this.W),this.dispatchEvent(new jc(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),ha(this.b,l.a.SDK_VERSION?ar(l.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Mc(this.G))},t.ya=function(){return q(this.G)},t.toJSON=function(){return{apiKey:Vc(this).options.apiKey,authDomain:Vc(this).options.authDomain,appName:Vc(this).name,currentUser:Bc(this)&&Bc(this).C()}},t.vb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?v(this.ac,this):null},t.ac=function(t,e,n){var r=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var i=null,o=null,a=_a(r.b,t).then(function(t){return i=Yi(t),o=pi(t),t});return Wc(this,t=r.V.then(function(){return a}).then(function(t){return Uc(r,t)}).then(function(){return xr({user:Bc(r),credential:i,additionalUserInfo:o,operationType:"signIn"})}))},t.Kc=function(t){if(!lr())return _t(new Vr("operation-not-supported-in-this-environment"));var e=this,n=di(t.providerId),r=vr(),i=null;(!dr()||Jn())&&Vc(this).options.authDomain&&t.isOAuthProvider&&(i=ms(Vc(this).options.authDomain,Vc(this).options.apiKey,Vc(this).name,"signInViaPopup",t,null,r,l.a.SDK_VERSION||null));var o=Gn(i,n&&n.Ba,n&&n.Aa);return Wc(this,n=Lc(this).then(function(e){return Ou(e,o,"signInViaPopup",t,r,!!i)}).then(function(){return new mt(function(t,n){e.ha("signInViaPopup",null,new Vr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",o,r)})}).then(function(t){return o&&Kn(o),t?xr(t):null}).s(function(t){throw o&&Kn(o),t}))},t.Lc=function(t){if(!lr())return _t(new Vr("operation-not-supported-in-this-environment"));var e=this;return Wc(this,Lc(this).then(function(){return Rc(t=e.h,function(){return t.b.set(Ac,t.c.A,t.a)});var t}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},t.fa=function(){if(!lr())return _t(new Vr("operation-not-supported-in-this-environment"));var t=this;return Wc(this,Lc(this).then(function(){return t.a.fa()}).then(function(t){return t?xr(t):null}))},t.Qc=function(t){if(!t)return _t(new Vr("null-user"));var e=this,n={};n.apiKey=Vc(this).options.apiKey,n.authDomain=Vc(this).options.authDomain,n.appName=Vc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[oa]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-b())/1e3,e=new Yu(e,o),n&&(e.ba=n),r&&Zu(e,r),fc(e,t),e}(t,n,e.w,e.ya());return Wc(this,this.i.then(function(){if(Vc(e).options.apiKey!=t.m)return r.reload()}).then(function(){return Bc(e)&&t.uid==Bc(e).uid?(fc(Bc(e),t),e.Z(t)):(Fc(e,r),ic(r),e.Z(r))}).then(function(){Hc(e)}))},t.nb=function(){var t=this;return Wc(this,this.i.then(function(){return Bc(t)?(Fc(t,null),Dc(t.h).then(function(){Hc(t)})):Et()}))},t.Mc=function(){var t=this;return Nc(this.h,Vc(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Bc(t)&&e){n=Bc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return fc(Bc(t),e),Bc(t).F();(Bc(t)||e)&&(Fc(t,e),e&&(ic(e),e.ba=t.w),t.a&&t.a.subscribe(t),Hc(t))}})},t.Z=function(t){return xc(this.h,t)},t.bc=function(){Hc(this),this.Z(Bc(this))},t.jc=function(){this.nb()},t.kc=function(){this.nb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Bc(e))})},t.nc=function(t){var e=this;!function(t,e){t.I.push(e),Wc(t,t.i.then(function(){!t.m&&M(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(zc(t)))}))}(this,function(){t.next(Bc(e))})},t.vc=function(t,e,n){var r=this;return this.X&&l.a.Promise.resolve().then(function(){h(t)?t(Bc(r)):h(t.next)&&t.next(Bc(r))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&l.a.Promise.resolve().then(function(){r.O=r.getUid(),h(t)?t(Bc(r)):h(t.next)&&t.next(Bc(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this;return Wc(this,this.i.then(function(){return Bc(e)?Bc(e).F(t).then(function(t){return{accessToken:t}}):null}))},t.Nb=function(t){var e=this;return this.i.then(function(){return qc(e,ts(e.b,Ya,{token:t}))}).then(function(t){var n=t.user;return hc(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Fc=function(t,e){return Cr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return qc(n,ts(n.b,Xa,{email:t,password:e}))})},t.xb=function(t,e){var n=this;return this.i.then(function(){return qc(n,ts(n.b,Oa,{email:t,password:e}))})},t.Wb=function(t,e){return Cr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(t,e)},t.Hc=function(t){return Cr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(t).then(function(t){return t.user})},t.Pa=function(t){var e=this;return this.i.then(function(){return qc(e,t.la(e.b))})},t.Qa=function(){var t=this;return this.i.then(function(){var e=Bc(t);if(e&&e.isAnonymous){var n=xr({providerId:null,isNewUser:!1});return xr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return qc(t,t.b.Qa()).then(function(e){var n=e.user;return hc(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return Cr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},t.getUid=function(){return Bc(this)&&Bc(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Bc(this)&&tc(Bc(this))},t.Cc=function(t){var e=this;R(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Bc(this)&&ec(Bc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Wc(this,this.i.then(function(){e.m||M(e.o,t)&&t(zc(e))}))},t.removeAuthTokenListener=function(t){U(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h).b.removeListener(Oc("local"),t.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Ya()),l.a.Promise.resolve()},t.Zb=function(t){return Cr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Wc(this,function(t,e){return ts(t,xa,{identifier:e,continueUri:hr()?zn():"http://localhost"}).then(function(t){return t.allProviders||[]})}(this.b,t))},t.$b=function(t){return Wc(this,function(t,e){return ts(t,xa,{identifier:e,continueUri:hr()?zn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.oc=function(t){return!!Hi(t)},t.lb=function(t,e){var n=this;return Wc(this,Et().then(function(){var t=new Wr(e);if(!t.c)throw new Vr("argument-error",Qr+" must be true when sending sign in link to email");return ei(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Za=function(t,e){return Wc(this,this.b.Za(t,e).then(function(){}))},t.Ja=function(t){return Wc(this,this.b.Ja(t).then(function(t){return new Nr(t)}))},t.Wa=function(t){return Wc(this,this.b.Wa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Wc(this,Et().then(function(){return void 0===e||it(e)?{}:ei(new Wr(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Jc=function(t,e){return Wc(this,qu(this,t,e,v(this.Pa,this)))},t.Ic=function(t,e){var n=this;return Wc(this,Et().then(function(){var r=zi(t,e||zn());return n.Pa(r)}))},Kc.prototype.render=function(){},Kc.prototype.reset=function(){},Kc.prototype.getResponse=function(){},Kc.prototype.execute=function(){};var Qc=null;function Yc(t,e){return(e=Xc(e))&&t.a[e]||null}function Xc(t){return(t=void 0===t?1e12:t)?t.toString():null}function Zc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Rn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():be(this.f,"click",this.i)}function Jc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function $c(){}Gc.prototype.render=function(t,e){return this.a[this.b.toString()]=new Zc(t,e),this.b++},Gc.prototype.reset=function(t){var e=Yc(this,t);t=Xc(t),e&&t&&(e.delete(),delete this.a[t])},Gc.prototype.getResponse=function(t){return(t=Yc(this,t))?t.getResponse():null},Gc.prototype.execute=function(t){(t=Yc(this,t))&&t.execute()},Zc.prototype.getResponse=function(){return Jc(this),this.b},Zc.prototype.execute=function(){Jc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},Zc.prototype.delete=function(){Jc(this),this.g=!0,clearTimeout(this.a),this.a=null,Ee(this.f,"click",this.i)},$c.prototype.g=function(){return Qc||(Qc=new Gc),Et(Qc)},$c.prototype.c=function(){};var tl=null;function el(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var nl=vn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),rl=new wr(3e4,6e4);el.prototype.g=function(t){var e=this;return new mt(function(r,i){var o=setTimeout(function(){i(new Vr("network-request-failed"))},rl.get());!n.grecaptcha||t!==e.f&&!e.b?(n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Vr("internal-error"));delete n[e.a]},Et(Xo(wn(nl,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(o),i(new Vr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},el.prototype.c=function(){this.b--};var il=null;function ol(t,e,r,i,o,a,s){if(Ar(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=e,this.g=null,s?(tl||(tl=new $c),s=tl):(il||(il=new el),s=il),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[ul])throw new Vr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[cl],!n.document)throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Rn(e)||!this.i&&Rn(e).hasChildNodes())throw new Vr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new ra(t,a||null,o||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[al];this.a[al]=function(t){if(ll(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=ur(c,n);"function"==typeof e&&e(t)}};var l=this.a[sl];this.a[sl]=function(){if(ll(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=ur(l,n);"function"==typeof t&&t()}}}var al="callback",sl="expired-callback",ul="sitekey",cl="size";function ll(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function hl(t,e){return t.h.push(e),e.ia(function(){L(t.h,e)}),e}function fl(t){if(t.D)throw new Vr("internal-error","RecaptchaVerifier instance has been destroyed.")}function dl(t,e,n){var r=!1;try{this.b=n||l.a.app()}catch(a){throw new Vr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Vr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().ya()}catch(a){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(a){}o=l.a.SDK_VERSION?ar(l.a.SDK_VERSION,o):null,ol.call(this,n,t,e,function(){try{var t=i.b.auth().ea()}catch(e){t=null}return t},o,ci(si),r)}function pl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new Vr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=ml.length)throw new Vr("internal-error","Argument validator received an unsupported number of arguments.");n=ml[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new Vr("argument-error",t+" failed: "+r)}(t=ol.prototype).za=function(){var t=this;return this.f?this.f:this.f=hl(this,Et().then(function(){if(hr()&&!$n())return Xn();throw new Vr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,ts(t.u,qa,{})}).then(function(e){t.a[ul]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){fl(this);var t=this;return hl(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=Rn(e);e=function(t,e,n){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!dn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',z(s.name),'"'),s.type){a.push(' type="',z(s.type),'"');var l={};ct(l,s),delete l.type,s=l}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(r(s)?a.className=s:u(s)?a.className=s.join(" "):Pn(a,s)),2<i.length&&function(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!c(a)||f(a)&&0<a.nodeType?i(a):R(Mn(a)?q(a):a,i)}}(o,a,i),a}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){fl(this);var t=this;return hl(this,this.render().then(function(e){return new mt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){U(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){fl(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){fl(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Rn(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},w(dl,ol);var ml="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function yl(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function vl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:i}}function gl(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:f}}function bl(t,e){return{name:t||"",K:"a function",optional:!!e,M:h}}function wl(t,e){return{name:t||"",K:"null",optional:!!e,M:s}}function Sl(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){return!!e&&!(!e.la||t&&e.providerId!==t)}}}function El(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&h(t.verify))}}}function _l(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Tl(t,e){for(var n in e){var r=e[n].name;t[r]=kl(r,t[n],e[n].j)}}function Il(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:g(function(t){return this[t]},n),set:g(function(t,e,n,r){pl(t,[n],[r],!0),this[e]=r},r,n,e[n].tb),enumerable:!0})}}function Cl(t,e,n,r){t[e]=kl(e,n,r)}function kl(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return pl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Tl(Pc.prototype,{Wa:{name:"applyActionCode",j:[yl("code")]},Ja:{name:"checkActionCode",j:[yl("code")]},Za:{name:"confirmPasswordReset",j:[yl("code"),yl("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[yl("email"),yl("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[yl("email"),yl("password")]},Zb:{name:"fetchProvidersForEmail",j:[yl("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[yl("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[yl("emailLink")]},uc:{name:"onAuthStateChanged",j:[_l(gl(),bl(),"nextOrObserver"),bl("opt_error",!0),bl("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[_l(gl(),bl(),"nextOrObserver"),bl("opt_error",!0),bl("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[yl("email"),_l(gl("opt_actionCodeSettings",!0),wl(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[yl("email"),gl("actionCodeSettings")]},mb:{name:"setPersistence",j:[yl("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[Sl()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[Sl()]},Nb:{name:"signInWithCustomToken",j:[yl("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[yl("token")]},Ob:{name:"signInWithEmailAndPassword",j:[yl("email"),yl("password")]},Ic:{name:"signInWithEmailLink",j:[yl("email"),yl("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[yl("email"),yl("password")]},Jc:{name:"signInWithPhoneNumber",j:[yl("phoneNumber"),El()]},Kc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Qc:{name:"updateCurrentUser",j:[_l({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Yu)}},wl(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[yl(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[yl("code")]}}),Il(Pc.prototype,{lc:{name:"languageCode",tb:_l(yl(),wl(),"languageCode")}}),(Pc.Persistence=Gs).LOCAL="local",Pc.Persistence.SESSION="session",Pc.Persistence.NONE="none",Tl(Yu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[vl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[vl("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[Sl()]},pc:{name:"linkWithCredential",j:[Sl()]},qc:{name:"linkWithPhoneNumber",j:[yl("phoneNumber"),El()]},rc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},sc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Sl()]},yc:{name:"reauthenticateWithCredential",j:[Sl()]},zc:{name:"reauthenticateWithPhoneNumber",j:[yl("phoneNumber"),El()]},Ac:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Bc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[_l(gl("opt_actionCodeSettings",!0),wl(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[yl(null,!0)]},Pc:{name:"unlink",j:[yl("provider")]},pb:{name:"updateEmail",j:[yl("email")]},qb:{name:"updatePassword",j:[yl("password")]},Rc:{name:"updatePhoneNumber",j:[Sl("phone")]},rb:{name:"updateProfile",j:[gl("profile")]}}),Tl(Gc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tl(Kc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Tl(mt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Il(Uu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:vl("appVerificationDisabledForTesting")}}),Tl(Fu.prototype,{confirm:{name:"confirm",j:[yl("verificationCode")]}}),Cl(Bi,"credential",function(t,e){return new Vi(t,e)},[yl("email"),yl("password")]),Tl(Ri.prototype,{ua:{name:"addScope",j:[yl("scope")]},Da:{name:"setCustomParameters",j:[gl("customOAuthParameters")]}}),Cl(Ri,"credential",Pi,[_l(yl(),gl(),"token")]),Cl(Bi,"credentialWithLink",zi,[yl("email"),yl("emailLink")]),Tl(ji.prototype,{ua:{name:"addScope",j:[yl("scope")]},Da:{name:"setCustomParameters",j:[gl("customOAuthParameters")]}}),Cl(ji,"credential",Mi,[_l(yl(),gl(),"token")]),Tl(Li.prototype,{ua:{name:"addScope",j:[yl("scope")]},Da:{name:"setCustomParameters",j:[gl("customOAuthParameters")]}}),Cl(Li,"credential",Ui,[_l(yl(),_l(gl(),wl()),"idToken"),_l(yl(),wl(),"accessToken",!0)]),Tl(Fi.prototype,{Da:{name:"setCustomParameters",j:[gl("customOAuthParameters")]}}),Cl(Fi,"credential",qi,[_l(yl(),gl(),"token"),yl("secret",!0)]),Tl(Ni.prototype,{ua:{name:"addScope",j:[yl("scope")]},credential:{name:"credential",j:[_l(yl(),wl(),"idToken",!0),_l(yl(),wl(),"accessToken",!0),_l(yl(),wl(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[gl("customOAuthParameters")]}}),Cl(Gi,"credential",Qi,[yl("verificationId"),yl("verificationCode")]),Tl(Gi.prototype,{Ua:{name:"verifyPhoneNumber",j:[yl("phoneNumber"),El()]}}),Tl(Vr.prototype,{toJSON:{name:"toJSON",j:[yl(null,!0)]}}),Tl(ro.prototype,{toJSON:{name:"toJSON",j:[yl(null,!0)]}}),Tl(no.prototype,{toJSON:{name:"toJSON",j:[yl(null,!0)]}}),Tl(dl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===l.a||!l.a.INTERNAL||!l.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:Pc,Error:Vr};Cl(t,"EmailAuthProvider",Bi,[]),Cl(t,"FacebookAuthProvider",Ri,[]),Cl(t,"GithubAuthProvider",ji,[]),Cl(t,"GoogleAuthProvider",Li,[]),Cl(t,"TwitterAuthProvider",Fi,[]),Cl(t,"OAuthProvider",Ni,[yl("providerId")]),Cl(t,"SAMLAuthProvider",Di,[yl("providerId")]),Cl(t,"PhoneAuthProvider",Gi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Pc)}}]),Cl(t,"RecaptchaVerifier",dl,[_l(yl(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),gl("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof l.a.app.App)}}]),l.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:v((t=new Pc(t)).getUid,t),getToken:v(t.cc,t),addAuthTokenListener:v(t.Vb,t),removeAuthTokenListener:v(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),l.a.INTERNAL.extendNamespace({User:Yu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var h=function(){return function(){}}();n.d(e,"AngularFireAuth",function(){return u}),n.d(e,"AngularFireAuthModule",function(){return h})},CNRE:function(t,e,n){"use strict";var r=n("QEVv"),i={};i[n("jZgK")("toStringTag")]="z",i+""!="[object z]"&&n("TDVo")(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},CcnG:function(t,e,n){"use strict";var r=n("mrSG"),i=n("pugT"),o=n("K9Ia"),a=n("6blF"),s=n("nkY7"),u=n("Zn8D"),c=n("IUTb"),l=n("S1nX");function h(t){for(var e in t)if(t[e]===h)return e;throw Error("Could not find renamed property on target object.")}function f(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}n.d(e,"ib",function(){return Jn}),n.d(e,"jb",function(){return $n}),n.d(e,"kb",function(){return tr}),n.d(e,"hb",function(){return Re}),n.d(e,"g",function(){return gn}),n.d(e,"R",function(){return pn}),n.d(e,"y",function(){return dn}),n.d(e,"T",function(){return zt}),n.d(e,"X",function(){return Bt}),n.d(e,"c",function(){return Ne}),n.d(e,"C",function(){return je}),n.d(e,"B",function(){return Me}),n.d(e,"b",function(){return Le}),n.d(e,"d",function(){return xe}),n.d(e,"e",function(){return De}),n.d(e,"V",function(){return Rn}),n.d(e,"M",function(){return sn}),n.d(e,"Z",function(){return cn}),n.d(e,"u",function(){return Zn}),n.d(e,"f",function(){return er}),n.d(e,"m",function(){return fe}),n.d(e,"l",function(){return ke}),n.d(e,"G",function(){return Lt}),n.d(e,"H",function(){return Mt}),n.d(e,"a",function(){return _}),n.d(e,"n",function(){return we}),n.d(e,"r",function(){return be}),n.d(e,"P",function(){return L}),n.d(e,"N",function(){return Ut}),n.d(e,"S",function(){return m}),n.d(e,"U",function(){return P}),n.d(e,"q",function(){return it}),n.d(e,"W",function(){return W}),n.d(e,"p",function(){return v}),n.d(e,"o",function(){return U}),n.d(e,"A",function(){return F}),n.d(e,"I",function(){return V}),n.d(e,"z",function(){return $e}),n.d(e,"D",function(){return Pt}),n.d(e,"E",function(){return Nt}),n.d(e,"F",function(){return Rt}),n.d(e,"i",function(){return Ke}),n.d(e,"j",function(){return Tt}),n.d(e,"k",function(){return Ot}),n.d(e,"v",function(){return At}),n.d(e,"x",function(){return kt}),n.d(e,"w",function(){return ge}),n.d(e,"J",function(){return _n}),n.d(e,"K",function(){return Sn}),n.d(e,"L",function(){return de}),n.d(e,"O",function(){return In}),n.d(e,"h",function(){return kn}),n.d(e,"s",function(){return Wn}),n.d(e,"t",function(){return Kn}),n.d(e,"Q",function(){return Y}),n.d(e,"Y",function(){return Xn}),n.d(e,"rb",function(){return Z}),n.d(e,"cb",function(){return Ue}),n.d(e,"ab",function(){return gt}),n.d(e,"bb",function(){return It}),n.d(e,"db",function(){return le}),n.d(e,"eb",function(){return ve}),n.d(e,"fb",function(){return Gt}),n.d(e,"qb",function(){return C}),n.d(e,"ub",function(){return D}),n.d(e,"Cb",function(){return N}),n.d(e,"sb",function(){return Oe}),n.d(e,"tb",function(){return Ae}),n.d(e,"gb",function(){return Wr}),n.d(e,"lb",function(){return hi}),n.d(e,"mb",function(){return pa}),n.d(e,"nb",function(){return gr}),n.d(e,"ob",function(){return ji}),n.d(e,"pb",function(){return Kr}),n.d(e,"vb",function(){return ni}),n.d(e,"wb",function(){return ei}),n.d(e,"xb",function(){return no}),n.d(e,"yb",function(){return Ei}),n.d(e,"Ab",function(){return Mi}),n.d(e,"zb",function(){return io}),n.d(e,"Bb",function(){return Zi}),n.d(e,"Db",function(){return oo}),n.d(e,"Eb",function(){return uo});var d=h({ngInjectableDef:h}),p=h({ngBaseDef:h});function m(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function y(t){return t&&t.hasOwnProperty(d)?t[d]:null}var v=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?m({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),g="__parameters__",b="__prop__metadata__";function w(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var i=t.apply(void 0,Object(r.i)(e));for(var o in i)this[o]=i[o]}}}function S(t,e,n){var i=w(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return i.apply(this,e),this;var a=new((t=o).bind.apply(t,Object(r.i)([void 0],e)));return s.annotation=a,s;function s(t,e,n){for(var r=t.hasOwnProperty(g)?t[g]:Object.defineProperty(t,g,{value:[]})[g];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}function E(t,e,n,i){var o=w(e);function a(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof a)return o.apply(this,e),this;var s=new((t=a).bind.apply(t,Object(r.i)([void 0],e)));return function(t,n){var o=t.constructor,a=o.hasOwnProperty(b)?o[b]:Object.defineProperty(o,b,{value:{}})[b];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(s),i&&i.apply(void 0,Object(r.i)([t,n],e))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=t,a.annotationCls=a,a}var _=new v("AnalyzeForEntryComponents"),T="undefined"!=typeof window&&window,I="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,C="undefined"!=typeof global&&global||T||I,k=Promise.resolve(0),A=null;function O(){if(!A){var t=C.Symbol;if(t&&t.iterator)A=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(A=r)}}return A}function x(t){"undefined"==typeof Zone?k.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function D(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function N(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(N).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}var R=h({__forward_ref__:h});function P(t){return t.__forward_ref__=P,t.toString=function(){return N(this())},t}function j(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(R)&&e.__forward_ref__===P?e():t}var M,L=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),U=S("Inject",function(t){return{token:t}}),F=S("Optional"),q=S("Self"),V=S("SkipSelf"),B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),z=void 0;function H(t){var e=z;return z=t,e}function W(t,e){return void 0===e&&(e=B.Default),(M||function(t,e){if(void 0===e&&(e=B.Default),void 0===z)throw new Error("inject() must be called from an injection context");return null===z?function(t,e,n){var r=y(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&B.Optional)return null;throw new Error("Injector: NOT_FOUND ["+N(t)+"]")}(t,0,e):z.get(t,e&B.Optional?null:void 0,e)})(t,e)}var K=/([A-Z])/g;function G(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Q(t,e){var n=Z(t),r=Z(e);return n&&r?function(t,e,n){for(var r=t[O()](),i=e[O()]();;){var o=r.next(),a=i.next();if(o.done&&a.done)return!0;if(o.done||a.done)return!1;if(!n(o.value,a.value))return!1}}(t,e,Q):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||D(t,e)}var Y=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),X=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Z(t){return!!J(t)&&(Array.isArray(t)||!(t instanceof Map)&&O()in t)}function J(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function $(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var tt="__source",et=new Object,nt=new v("INJECTOR"),rt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=et),e===et)throw new Error("NullInjectorError: No provider for "+N(t)+"!");return e},t}(),it=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new pt(t,e):new pt(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=et,t.NULL=new rt,t.ngInjectableDef=m({providedIn:"any",factory:function(){return W(nt)}}),t.__NG_ELEMENT_ID__=function(){return ot()},t}(),ot=$,at=function(t){return t},st=[],ut=at,ct=function(){return Array.prototype.slice.call(arguments)},lt=h({provide:String,useValue:h}),ht=it.NULL,ft=/\n/gm,dt="\u0275",pt=function(){function t(t,e,n){void 0===e&&(e=ht),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(it,{token:it,fn:at,deps:st,value:this,useNew:!1}),r.set(nt,{token:nt,fn:at,deps:st,value:this,useNew:!1}),function t(e,n){if(n)if((n=j(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw vt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw vt("Unexpected provider",n);var i=j(n.provide),o=function(t){var e=function(t){var e=st,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var i=6;if((u=j(n[r]))instanceof Array)for(var o=0,a=u;o<a.length;o++){var s=a[o];s instanceof F||s==F?i|=1:s instanceof V||s==V?i&=-3:s instanceof q||s==q?i&=-5:u=s instanceof U?s.token:j(s)}e.push({token:u,options:i})}}else if(t.useExisting){var u;e=[{token:u=j(t.useExisting),options:6}]}else if(!(n||lt in t))throw vt("'deps' required",t);return e}(t),n=at,r=st,i=!1,o=j(t.provide);if(lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=j(t.useClass);else{if("function"!=typeof o)throw vt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var a=e.get(i);if(a){if(a.fn!==ct)throw mt(i)}else e.set(i,a={token:n.provide,deps:[],useNew:!1,fn:ct,value:st});a.deps.push({token:i=n,options:6})}var s=e.get(i);if(s&&s.fn==ct)throw mt(i);e.set(i,o)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=B.Default);var i=this._records.get(t);try{return function t(e,n,i,o,a,s){try{return function(e,n,i,o,a,s){var u,c;if(!n||s&B.SkipSelf)s&B.Self||(c=o.get(e,a,B.Default));else{if((c=n.value)==ut)throw Error(dt+"Circular dependency");if(c===st){n.value=ut;var l=n.useNew,h=n.fn,f=n.deps,d=st;if(f.length){d=[];for(var p=0;p<f.length;p++){var m=f[p],y=m.options,v=2&y?i.get(m.token):void 0;d.push(t(m.token,v,i,v||4&y?o:ht,1&y?null:it.THROW_IF_NOT_FOUND,B.Default))}}n.value=c=l?new((u=h).bind.apply(u,Object(r.i)([void 0],d))):h.apply(void 0,d)}}return c}(e,n,i,o,a,s)}catch(u){throw u instanceof Error||(u=new Error(u)),(u.ngTempTokenPath=u.ngTempTokenPath||[]).unshift(e),n&&n.value==ut&&(n.value=st),u}}(t,i,this._records,this.parent,e,n)}catch(a){var o=a.ngTempTokenPath;throw t[tt]&&o.unshift(t[tt]),a.message=yt("\n"+a.message,o,this.source),a.ngTokenPath=o,a.ngTempTokenPath=null,a}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(N(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function mt(t){return vt("Cannot mix multi providers and regular providers",t)}function yt(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==dt?t.substr(2):t;var r=N(e);if(e instanceof Array)r=e.map(N).join(" -> ");else if("object"==typeof e){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var a=e[o];i.push(o+":"+("string"==typeof a?JSON.stringify(a):N(a)))}r="{"+i.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(ft,"\n  ")}function vt(t,e){return new Error(yt(t,e))}var gt=new v("The presence of this token marks an injector as being the root injector."),bt=function(){return function(){}}(),wt=function(){return function(){}}();function St(t){var e=Error("No component factory found for "+N(t)+". Did you add it to @NgModule.entryComponents?");return e[Et]=t,e}var Et="ngComponent",_t=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw St(t)},t}(),Tt=function(){function t(){}return t.NULL=new _t,t}(),It=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var i=t[r];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw St(t);return new Ct(e,this._ngModule)},t}(),Ct=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return Object(r.d)(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(wt),kt=function(){return function(){}}(),At=function(){return function(){}}(),Ot=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return xt(t)},t}(),xt=$,Dt=function(){return function(){}}(),Nt=function(){return function(){}}(),Rt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Pt=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return jt()},t}(),jt=$,Mt=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),Lt=function(){return function(){}}(),Ut=function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}(),Ft=new Ut("7.2.8"),qt=!0,Vt=!1;function Bt(){return Vt=!0,qt}function zt(){if(Vt)throw new Error("Cannot enable prod mode after platform setup.");qt=!1}var Ht=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),Wt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Kt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gt(t){return(t=String(t)).match(Wt)||t.match(Kt)?t:(Bt()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Qt(t){var e,n,i={};try{for(var o=Object(r.j)(t.split(",")),a=o.next();!a.done;a=o.next())i[a.value]=!0}catch(s){e={error:s}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function Yt(){for(var t,e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var o={};try{for(var a=Object(r.j)(n),s=a.next();!s.done;s=a.next()){var u=s.value;for(var c in u)u.hasOwnProperty(c)&&(o[c]=!0)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}return o}var Xt,Zt=Qt("area,br,col,hr,img,wbr"),Jt=Qt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$t=Qt("rp,rt"),te=Yt($t,Jt),ee=Yt(Zt,Yt(Jt,Qt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yt($t,Qt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),te),ne=Qt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),re=Qt("srcset"),ie=Yt(ne,re,Qt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),oe=Qt("script,style,template"),ae=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,n=t.nodeName.toLowerCase();if(!ee.hasOwnProperty(n))return this.sanitizedSomething=!0,!oe.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);for(var r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(ie.hasOwnProperty(s)){var u=o.value;ne[s]&&(u=Gt(u)),re[s]&&(e=u,u=(e=String(e)).split(",").map(function(t){return Gt(t.trim())}).join(", ")),this.buf.push(" ",a,'="',ce(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();ee.hasOwnProperty(e)&&!Zt.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(ce(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),se=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ue=/([^\#-~ |!])/g;function ce(t){return t.replace(/&/g,"&amp;").replace(se,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ue,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function le(t,e){var n=null;try{Xt=Xt||new Ht(t);var r=e?String(e):"";n=Xt.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Xt.getInertBodyElement(r)}while(r!==o);var a=new ae,s=a.sanitizeChildren(he(n)||n);return Bt()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=he(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function he(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var fe=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return Object(r.d)(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,a=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(a=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var u=t.prototype.subscribe.call(this,o,a,s);return e instanceof i.a&&e.add(u),u},e}(o.a),de=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return pe(t,Ot)},t}(),pe=$,me=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),ye=/^url\(([^)]+)\)$/;function ve(t){if(!(t=String(t).trim()))return"";var e=t.match(ye);return e&&Gt(e[1])===e[1]||t.match(me)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Bt()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}var ge=function(){return function(){}}(),be=E("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=t.constructor;i.hasOwnProperty(p)||function(t){var e=t.constructor,n=e.ngBaseDef,r=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(f(r.inputs,n.inputs),f(r.outputs,n.outputs),f(r.declaredInputs,n.declaredInputs))}(t),(function(t){return t.inputs||{}}(i.ngBaseDef))[e]=n[0]}}()),we=E("HostBinding",function(t){return{hostPropertyName:t}}),Se="ngDebugContext",Ee="ngOriginalError",_e="ngErrorLogger";function Te(t){return t[Se]}function Ie(t){return t[Ee]}function Ce(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,Object(r.i)(e))}var ke=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[_e]||Ce}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?Te(t)?Te(t):this._findContext(Ie(t)):null},t.prototype._findOriginalError=function(t){for(var e=Ie(t);e&&Ie(e);)e=Ie(e);return e},t}();function Ae(t){return!!t&&"function"==typeof t.then}function Oe(t){return!!t&&"function"==typeof t.subscribe}var xe=new v("Application Initializer"),De=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Ae(i)&&e.push(i)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),Ne=new v("AppId");function Re(){return""+Pe()+Pe()+Pe()}function Pe(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var je=new v("Platform Initializer"),Me=new v("Platform ID"),Le=new v("appBootstrapListener"),Ue=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Fe(){throw new Error("Runtime compiler is not loaded")}var qe,Ve,Be=Fe,ze=Fe,He=Fe,We=Fe,Ke=function(){function t(){this.compileModuleSync=Be,this.compileModuleAsync=ze,this.compileModuleAndAllComponentsSync=He,this.compileModuleAndAllComponentsAsync=We}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Ge=function(){return function(){}}();function Qe(){var t=C.wtf;return!(!t||!(qe=t.trace)||(Ve=qe.events,0))}var Ye=Qe();function Xe(t,e){return null}var Ze=Ye?function(t,e){return void 0===e&&(e=null),Ve.createScope(t,e)}:function(t,e){return Xe},Je=Ye?function(t,e){return qe.leaveScope(t,e),e}:function(t,e){return e},$e=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,i,o,a){try{return rn(e),t.invokeTask(r,i,o,a)}finally{on(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return rn(e),t.invoke(r,i,o,a,s)}finally{on(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,nn(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,en,tn,tn);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function tn(){}var en={};function nn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function rn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function on(t){t._nesting--,nn(t)}var an=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),sn=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){$e.assertNotInAngularZone(),x(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())x(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==i}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),un=function(){function t(){this._applications=new Map,hn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),hn.findTestabilityInTree(this,t,e)},Object(r.c)([Object(r.f)("design:paramtypes",[])],t)}();function cn(t){hn=t}var ln,hn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),fn=new v("AllowMultipleToken"),dn=function(){return function(t,e){this.name=t,this.token=e}}();function pn(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new v(r);return function(e){void 0===e&&(e=[]);var o=mn();if(!o||o.injector.get(fn,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(ln&&!ln.destroyed&&!ln.injector.get(fn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ln=t.get(yn);var e=t.get(je,null);e&&e.forEach(function(t){return t()})}(it.create({providers:a,name:r}))}return function(t){var e=mn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function mn(){return ln&&!ln.destroyed?ln:null}var yn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,i="noop"===(n=e?e.ngZone:void 0)?new an:("zone.js"===n?void 0:n)||new $e({enableLongStackTrace:Bt()}),o=[{provide:$e,useValue:i}];return i.run(function(){var e=it.create({providers:o,parent:r.injector,name:t.moduleType.name}),n=t.create(e),a=n.injector.get(ke,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return bn(r._modules,n)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){a.handleError(t)}})}),function(t,e,i){try{var o=((a=n.injector.get(De)).runInitializers(),a.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return Ae(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(s){throw e.runOutsideAngular(function(){return t.handleError(s)}),s}var a}(a,i)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=vn({},e);return function(t,e,n){return t.get(Ge).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(gn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+N(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function vn(t,e){return Array.isArray(e)?e.reduce(vn,t):Object(r.a)({},t,e)}var gn=function(){function t(t,e,n,r,i,o){var h=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bt(),this._zone.onMicrotaskEmpty.subscribe({next:function(){h._zone.run(function(){h.tick()})}});var f=new a.a(function(t){h._stable=h._zone.isStable&&!h._zone.hasPendingMacrotasks&&!h._zone.hasPendingMicrotasks,h._zone.runOutsideAngular(function(){t.next(h._stable),t.complete()})}),d=new a.a(function(t){var e;h._zone.runOutsideAngular(function(){e=h._zone.onStable.subscribe(function(){$e.assertNotInAngularZone(),x(function(){h._stable||h._zone.hasPendingMacrotasks||h._zone.hasPendingMicrotasks||(h._stable=!0,t.next(!0))})})});var n=h._zone.onUnstable.subscribe(function(){$e.assertInAngularZone(),h._stable&&(h._stable=!1,h._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return Object(s.a)(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof a.a?t[0]:Object(u.a)(n)(Object(c.a)(t,r))}(f,d.pipe(Object(l.a)()))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof wt?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n instanceof Ct?null:this._injector.get(kt),o=n.create(it.NULL,[],e||n.selector,i);o.onDestroy(function(){r._unloadComponent(o)});var a=o.injector.get(sn,null);return a&&o.injector.get(un).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Bt()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Je(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;bn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Le,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),bn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Ze("ApplicationRef#tick()"),t}();function bn(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var wn=function(){function t(){this.dirty=!0,this._results=[],this.changes=new fe,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[O()]=function(){return this._results[O()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),Sn=function(){return function(){}}(),En={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},_n=function(){function t(t,e){this._compiler=t,this._config=e||En}return t.prototype.load=function(t){return this._compiler instanceof Ke?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,i=Object(r.h)(t.split("#"),2),o=i[0],a=i[1];return void 0===a&&(a="default"),n("crnd")(o).then(function(t){return t[a]}).then(function(t){return Tn(t,o,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=Object(r.h)(t.split("#"),2),i=e[0],o=e[1],a="NgFactory";return void 0===o&&(o="default",a=""),n("crnd")(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[o+a]}).then(function(t){return Tn(t,i,o)})},t}();function Tn(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var In=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Cn(t,Ot)},t}(),Cn=$,kn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return An()},t}(),An=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},On=function(){return function(t,e){this.name=t,this.callback=e}}(),xn=function(){function t(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof Dn&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Dn=function(t){function e(e,n,r){var i=t.call(this,e,n,r)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return Object(r.d)(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,i=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,Object(r.i)([o+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=i}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof Dn&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof Dn&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof Dn&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(xn),Nn=new Map,Rn=function(t){return Nn.get(t)||null};function Pn(t){Nn.set(t.nativeNode,t)}var jn=function(){function t(){}return t.prototype.supports=function(t){return Z(t)},t.prototype.create=function(t){return new Ln(t)},t}(),Mn=function(t,e){return e},Ln=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Vn(n,r,i)?e:n,a=Vn(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Z(t))throw new Error("Error trying to diff '"+N(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&D(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),D(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[O()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(n,t),null!==o&&D(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),D(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(D(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(D(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Un(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new qn),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Un=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Fn=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&D(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),qn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Fn,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Vn(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var Bn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||J(t)},t.prototype.create=function(){return new zn},t}(),zn=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||J(t)))throw new Error("Error trying to diff '"+N(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Hn(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){D(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Hn=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Wn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new V,new F]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=m({providedIn:"root",factory:function(){return new t([new jn])}}),t}(),Kn=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new V,new F]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=m({providedIn:"root",factory:function(){return new t([new Bn])}}),t}(),Gn=[new Bn],Qn=new Wn([new jn]),Yn=new Kn(Gn),Xn=pn(null,"core",[{provide:Me,useValue:"unknown"},{provide:yn,deps:[it]},{provide:un,deps:[]},{provide:Ue,deps:[]}]),Zn=new v("LocaleId");function Jn(){return Qn}function $n(){return Yn}function tr(t){return t||"en-US"}var er=function(){return function(t){}}();function nr(t,e,n){var r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function rr(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function ir(t,e){return t.nodes[e]}function or(t,e){return t.nodes[e]}function ar(t,e){return t.nodes[e]}function sr(t,e){return t.nodes[e]}function ur(t,e){return t.nodes[e]}var cr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function lr(t,e,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return hr(n,e),n}(i,t)}function hr(t,e){t[Se]=e,t[_e]=e.logError.bind(e)}function fr(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var dr=function(){},pr=new Map;function mr(t){var e=pr.get(t);return e||(e=N(t)+"_"+pr.size,pr.set(t,e)),e}var yr="$$undefined",vr="$$empty";function gr(t){return{id:yr,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var br=0;function wr(t,e,n,r){return!(!(2&t.state)&&D(t.oldValues[e.bindingIndex+n],r))}function Sr(t,e,n,r){return!!wr(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Er(t,e,n,r){var i=t.oldValues[e.bindingIndex+n];if(1&t.state||!Q(i,r)){var o=e.bindings[n].name;throw lr(cr.createDebugContext(t,e.nodeIndex),o+": "+i,o+": "+r,0!=(1&t.state))}}function _r(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Tr(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Ir(t,e,n,r){try{return _r(33554432&t.def.nodes[e].flags?or(t,e).componentView:t),cr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Cr(t){return t.parent?or(t.parent,t.parentNodeDef.nodeIndex):null}function kr(t){return t.parent?t.parentNodeDef.parent:null}function Ar(t,e){switch(201347067&e.flags){case 1:return or(t,e.nodeIndex).renderElement;case 2:return ir(t,e.nodeIndex).renderText}}function Or(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function xr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Dr(t){return 1<<t%32}function Nr(t){var e={},n=0,i={};return t&&t.forEach(function(t){var o=Object(r.h)(t,2),a=o[0],s=o[1];"number"==typeof a?(e[a]=s,n|=Dr(a)):i[a]=s}),{matchedQueries:e,references:i,matchedQueryIds:n}}function Rr(t,e){return t.map(function(t){var n,i,o;return Array.isArray(t)?(o=(n=Object(r.h)(t,2))[0],i=n[1]):(o=0,i=t),i&&("function"==typeof i||"object"==typeof i)&&e&&Object.defineProperty(i,tt,{value:e,configurable:!0}),{flags:o,token:i,tokenKey:mr(i)}})}function Pr(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===L.Native?or(t,n.renderParent.nodeIndex).renderElement:void 0:e}var jr=new WeakMap;function Mr(t){var e=jr.get(t);return e||((e=t(function(){return dr})).factory=t,jr.set(t,e)),e}function Lr(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Ar(t,t.def.lastRenderRootNode))),Ur(t,e,0,t.def.nodes.length-1,n,r,i)}function Ur(t,e,n,r,i,o,a){for(var s=n;s<=r;s++){var u=t.def.nodes[s];11&u.flags&&qr(t,u,e,i,o,a),s+=u.childCount}}function Fr(t,e,n,r,i,o){for(var a=t;a&&!Or(a);)a=a.parent;for(var s=a.parent,u=kr(a),c=u.nodeIndex+u.childCount,l=u.nodeIndex+1;l<=c;l++){var h=s.def.nodes[l];h.ngContentIndex===e&&qr(s,h,n,r,i,o),l+=h.childCount}if(!s.parent){var f=t.root.projectableNodes[e];if(f)for(l=0;l<f.length;l++)Vr(t,f[l],n,r,i,o)}}function qr(t,e,n,r,i,o){if(8&e.flags)Fr(t,e.ngContent.index,n,r,i,o);else{var a=Ar(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Vr(t,a,n,r,i,o),32&e.bindingFlags&&Vr(or(t,e.nodeIndex).componentView,a,n,r,i,o)):Vr(t,a,n,r,i,o),16777216&e.flags)for(var s=or(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<s.length;u++)Lr(s[u],n,r,i,o);1&e.flags&&!e.element.name&&Ur(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Vr(t,e,n,r,i,o){var a=t.renderer;switch(n){case 1:a.appendChild(r,e);break;case 2:a.insertBefore(r,e,i);break;case 3:a.removeChild(r,e);break;case 0:o.push(e)}}var Br=/^:([^:]+):(.+)$/;function zr(t){if(":"===t[0]){var e=t.match(Br);return[e[1],e[2]]}return["",t]}function Hr(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Wr(t,e,n,r,i,o){t|=1;var a=Nr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Mr(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||dr},provider:null,text:null,query:null,ngContent:null}}function Kr(t,e,n,i,o,a,s,u,c,l,h,f){var d;void 0===s&&(s=[]),l||(l=dr);var p=Nr(n),m=p.matchedQueries,y=p.references,v=p.matchedQueryIds,g=null,b=null;a&&(g=(d=Object(r.h)(zr(a),2))[0],b=d[1]),u=u||[];for(var w=new Array(u.length),S=0;S<u.length;S++){var E=Object(r.h)(u[S],3),_=E[0],T=E[1],I=E[2],C=Object(r.h)(zr(T),2),k=C[0],A=C[1],O=void 0,x=void 0;switch(15&_){case 4:x=I;break;case 1:case 8:O=I}w[S]={flags:_,ns:k,name:A,nonMinifiedName:A,securityContext:O,suffix:x}}c=c||[];var D=new Array(c.length);for(S=0;S<c.length;S++){var N=Object(r.h)(c[S],2);D[S]={type:0,target:N[0],eventName:N[1],propName:null}}var R=(s=s||[]).map(function(t){var e=Object(r.h)(t,2),n=e[0],i=e[1],o=Object(r.h)(zr(n),2);return[o[0],o[1],i]});return f=function(t){if(t&&t.id===yr){var e=null!=t.encapsulation&&t.encapsulation!==L.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+br++:vr}return t&&t.id===vr&&(t=null),t||null}(f),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:v,references:y,ngContentIndex:i,childCount:o,bindings:w,bindingFlags:Hr(w),outputs:D,element:{ns:g,name:b,attrs:R,template:null,componentProvider:null,componentView:h||null,componentRendererType:f,publicProviders:null,allProviders:null,handleEvent:l||dr},provider:null,text:null,query:null,ngContent:null}}function Gr(t,e,n){var i,o=n.element,a=t.root.selectorOrNode,s=t.renderer;if(t.parent||!a){i=o.name?s.createElement(o.name,o.ns):s.createComment("");var u=Pr(t,e,n);u&&s.appendChild(u,i)}else i=s.selectRootElement(a,!!o.componentRendererType&&o.componentRendererType.encapsulation===L.ShadowDom);if(o.attrs)for(var c=0;c<o.attrs.length;c++){var l=Object(r.h)(o.attrs[c],3);s.setAttribute(i,l[1],l[2],l[0])}return i}function Qr(t,e,n,r){for(var i=0;i<n.outputs.length;i++){var o=n.outputs[i],a=Yr(t,n.nodeIndex,(h=o.eventName,(l=o.target)?l+":"+h:h)),s=o.target,u=t;"component"===o.target&&(s=null,u=e);var c=u.renderer.listen(s||r,o.eventName,a);t.disposables[n.outputIndex+i]=c}var l,h}function Yr(t,e,n){return function(r){return Ir(t,e,n,r)}}function Xr(t,e,n,r){if(!Sr(t,e,n,r))return!1;var i=e.bindings[n],o=or(t,e.nodeIndex),a=o.renderElement,s=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){var a=e.securityContext,s=a?t.root.sanitizer.sanitize(a,o):o;s=null!=s?s.toString():null;var u=t.renderer;null!=o?u.setAttribute(n,i,s,r):u.removeAttribute(n,i,r)}(t,i,a,i.ns,s,r);break;case 2:!function(t,e,n,r){var i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,a,s,r);break;case 4:!function(t,e,n,r,i){var o=t.root.sanitizer.sanitize(Mt.STYLE,i);if(null!=o){o=o.toString();var a=e.suffix;null!=a&&(o+=a)}else o=null;var s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,a,s,r);break;case 8:!function(t,e,n,r,i){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,a)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,a,s,r)}return!0}var Zr=new Object,Jr=mr(it),$r=mr(nt),ti=mr(kt);function ei(t,e,n,r){return n=j(n),{index:-1,deps:Rr(r,N(e)),flags:t,token:e,value:n}}function ni(t){for(var e={},n=[],r=!1,i=0;i<t.length;i++){var o=t[i];o.token===gt&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[mr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}function ri(t,e,n){void 0===n&&(n=it.THROW_IF_NOT_FOUND);var r,i,o=H(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var a=e.tokenKey;switch(a){case Jr:case $r:case ti:return t}var s,u=t._def.providersByKey[a];if(u){var c=t._providers[u.index];return void 0===c&&(c=t._providers[u.index]=ii(t,u)),c===Zr?void 0:c}if((s=y(e.token))&&(r=t,null!=(i=s).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(r)||"root"===i.providedIn&&r._def.isRoot))){var l=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:s.factory,deps:[],index:l,token:e.token},t._providers[l]=Zr,t._providers[l]=ii(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{H(o)}}function ii(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var i=n.length;switch(i){case 0:return new e;case 1:return new e(ri(t,n[0]));case 2:return new e(ri(t,n[0]),ri(t,n[1]));case 3:return new e(ri(t,n[0]),ri(t,n[1]),ri(t,n[2]));default:for(var o=new Array(i),a=0;a<i;a++)o[a]=ri(t,n[a]);return new(e.bind.apply(e,Object(r.i)([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var i=n.length;switch(i){case 0:return e();case 1:return e(ri(t,n[0]));case 2:return e(ri(t,n[0]),ri(t,n[1]));case 3:return e(ri(t,n[0]),ri(t,n[1]),ri(t,n[2]));default:for(var o=Array(i),a=0;a<i;a++)o[a]=ri(t,n[a]);return e.apply(void 0,Object(r.i)(o))}}(t,e.value,e.deps);break;case 2048:n=ri(t,e.deps[0]);break;case 256:n=e.value}return n===Zr||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Zr:n}function oi(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,ci(n,e),cr.dirtyParentQueries(r),si(r),r}function ai(t,e,n){var r=e?Ar(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Lr(n,2,i,o,void 0)}function si(t){Lr(t,3,null,null,void 0)}function ui(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ci(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var li=new Object;function hi(t,e,n,r,i,o){return new fi(t,e,n,r,i,o)}var fi=function(t){function e(e,n,r,i,o,a){var s=t.call(this)||this;return s.selector=e,s.componentType=n,s._inputs=i,s._outputs=o,s.ngContentSelectors=a,s.viewDefFactory=r,s}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var i=Mr(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,a=cr.createRootView(t,e||[],n,i,r,li),s=ar(a,o).instance;return n&&a.renderer.setAttribute(or(a,0).renderElement,"ng-version",Ft.full),new di(a,new vi(a),s)},e}(wt),di=function(t){function e(e,n,r){var i=t.call(this)||this;return i._view=e,i._viewRef=n,i._component=r,i._elDef=i._view.def.nodes[0],i.hostView=n,i.changeDetectorRef=n,i.instance=r,i}return Object(r.d)(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new Ot(or(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Si(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(bt);function pi(t,e,n){return new mi(t,e,n)}var mi=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new Ot(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Si(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=kr(t),t=t.parent;return t?new Si(t,e):new Si(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=oi(this._data,t);cr.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new vi(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;i||t instanceof Ct||(i=o.get(kt));var a=t.create(o,r,void 0,i);return this.insert(a.hostView,e),a},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,o,a=t;return o=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=o.length),(i=a._view).viewContainerParent=this._view,ui(o,r,i),function(t,e){var n=Cr(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,i),cr.dirtyParentQueries(i),ai(n,r>0?o[r-1]:null,i),a.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,o,a,s=this._embeddedViews.indexOf(t._view);return i=e,a=(o=(n=this._data).viewContainer._embeddedViews)[r=s],ci(o,r),null==i&&(i=o.length),ui(o,i,a),cr.dirtyParentQueries(a),si(a),ai(n,i>0?o[i-1]:null,a),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=oi(this._data,t);e&&cr.destroyView(e)},t.prototype.detach=function(t){var e=oi(this._data,t);return e?new vi(e):null},t}();function yi(t){return new vi(t)}var vi=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Lr(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){_r(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{cr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){cr.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),cr.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,si(this._view),cr.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function gi(t,e){return new bi(t,e)}var bi=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return Object(r.d)(e,t),e.prototype.createEmbeddedView=function(t){return new vi(cr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new Ot(or(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(de);function wi(t,e){return new Si(t,e)}var Si=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=it.THROW_IF_NOT_FOUND),cr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:mr(t)},e)},t}();function Ei(t,e){var n=t.def.nodes[e];if(1&n.flags){var r=or(t,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return ir(t,n.nodeIndex).renderText;if(20240&n.flags)return ar(t,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function _i(t){return new Ti(t.renderer)}var Ti=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=Object(r.h)(zr(e),2),i=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,i),i},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var i=Object(r.h)(zr(e),2),o=i[0],a=i[1];null!=n?this.delegate.setAttribute(t,a,n,o):this.delegate.removeAttribute(t,a,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Ii(t,e,n,r){return new Ci(t,e,n,r)}var Ci=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ii(t,i))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=it.THROW_IF_NOT_FOUND),void 0===n&&(n=B.Default);var r=0;return n&B.SkipSelf?r|=1:n&B.Self&&(r|=4),ri(this,{token:t,tokenKey:mr(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Tt)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+N(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var o=t._providers[i];if(o&&o!==Zr){var a=o.ngOnDestroy;"function"!=typeof a||r.has(o)||(a.apply(o),r.add(o))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),ki=mr(Dt),Ai=mr(Pt),Oi=mr(Ot),xi=mr(In),Di=mr(de),Ni=mr(kn),Ri=mr(it),Pi=mr(nt);function ji(t,e,n,i,o,a,s,u){var c=[];if(s)for(var l in s){var h=Object(r.h)(s[l],2);c[h[0]]={flags:8,name:l,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var f=[];if(u)for(var d in u)f.push({type:1,propName:d,target:null,eventName:u[d]});return Li(t,e|=16384,n,i,o,o,a,c,f)}function Mi(t,e,n,r,i){return Li(-1,t,e,0,n,r,i)}function Li(t,e,n,r,i,o,a,s,u){var c=Nr(n),l=c.matchedQueries,h=c.references,f=c.matchedQueryIds;u||(u=[]),s||(s=[]),o=j(o);var d=Rr(a,N(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:l,matchedQueryIds:f,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Hr(s),outputs:u,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Ui(t,e){return Bi(t,e)}function Fi(t,e){for(var n=t;n.parent&&!Or(n);)n=n.parent;return zi(n.parent,kr(n),!0,e.provider.value,e.provider.deps)}function qi(t,e){var n=zi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var i=e.outputs[r],o=n[i.propName];if(!Oe(o))throw new Error("@Output "+i.propName+" not initialized in '"+n.constructor.name+"'.");var a=o.subscribe(Vi(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=a.unsubscribe.bind(a)}return n}function Vi(t,e,n){return function(r){return Ir(t,e,n,r)}}function Bi(t,e){var n=(8192&e.flags)>0,i=e.provider;switch(201347067&e.flags){case 512:return zi(t,e.parent,n,i.value,i.deps);case 1024:return function(t,e,n,i,o){var a=o.length;switch(a){case 0:return i();case 1:return i(Wi(t,e,n,o[0]));case 2:return i(Wi(t,e,n,o[0]),Wi(t,e,n,o[1]));case 3:return i(Wi(t,e,n,o[0]),Wi(t,e,n,o[1]),Wi(t,e,n,o[2]));default:for(var s=Array(a),u=0;u<a;u++)s[u]=Wi(t,e,n,o[u]);return i.apply(void 0,Object(r.i)(s))}}(t,e.parent,n,i.value,i.deps);case 2048:return Wi(t,e.parent,n,i.deps[0]);case 256:return i.value}}function zi(t,e,n,i,o){var a=o.length;switch(a){case 0:return new i;case 1:return new i(Wi(t,e,n,o[0]));case 2:return new i(Wi(t,e,n,o[0]),Wi(t,e,n,o[1]));case 3:return new i(Wi(t,e,n,o[0]),Wi(t,e,n,o[1]),Wi(t,e,n,o[2]));default:for(var s=new Array(a),u=0;u<a;u++)s[u]=Wi(t,e,n,o[u]);return new(i.bind.apply(i,Object(r.i)([void 0],s)))}}var Hi={};function Wi(t,e,n,r,i){if(void 0===i&&(i=it.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var o=t;2&r.flags&&(i=null);var a=r.tokenKey;a===Ni&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var s=t;s;){if(e)switch(a){case ki:return _i(Ki(s,e,n));case Ai:return Ki(s,e,n).renderer;case Oi:return new Ot(or(s,e.nodeIndex).renderElement);case xi:return or(s,e.nodeIndex).viewContainer;case Di:if(e.element.template)return or(s,e.nodeIndex).template;break;case Ni:return yi(Ki(s,e,n));case Ri:case Pi:return wi(s,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[a];if(u){var c=ar(s,u.nodeIndex);return c||(c={instance:Bi(s,u)},s.nodes[u.nodeIndex]=c),c.instance}}n=Or(s),e=kr(s),s=s.parent,4&r.flags&&(s=null)}var l=o.root.injector.get(r.token,Hi);return l!==Hi||i===Hi?l:o.root.ngModule.injector.get(r.token,i)}function Ki(t,e,n){var r;if(n)r=or(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Or(r);)r=r.parent;return r}function Gi(t,e,n,r,i,o){if(32768&n.flags){var a=or(t,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};var s=Y.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new X(s,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Qi(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,i=0;i<n.length;i++){var o=n[i],a=o.parent;for(!a&&o.flags&e&&Xi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);a&&1&a.flags&&i===a.nodeIndex+a.childCount;)a.directChildFlags&e&&(r=Yi(t,a,e,r)),a=a.parent}}function Yi(t,e,n,r){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var o=t.def.nodes[i];o.flags&n&&Xi(t,i,o.flags&n,r++),i+=o.childCount}return r}function Xi(t,e,n,r){var i=ar(t,e);if(i){var o=i.instance;o&&(cr.setCurrentNode(t,e),1048576&n&&rr(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&rr(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}}function Zi(t,e,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Dr(e),bindings:r},ngContent:null}}function Ji(t){for(var e=t.def.nodeMatchedQueries;t.parent&&xr(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++)67108864&(o=t.def.nodes[i]).flags&&536870912&o.flags&&(o.query.filterId&e)===o.query.filterId&&ur(t,i).setDirty(),!(1&o.flags&&i+o.childCount<n.nodeIndex)&&67108864&o.childFlags&&536870912&o.childFlags||(i+=o.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var o;134217728&(o=t.def.nodes[i]).flags&&536870912&o.flags&&ur(t,i).setDirty(),i+=o.childCount}}function $i(t,e){var n=ur(t,e.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&e.flags){var o=e.parent.parent;i=to(t,o.nodeIndex,o.nodeIndex+o.childCount,e.query,[]),r=ar(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=to(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);for(var a=e.query.bindings,s=!1,u=0;u<a.length;u++){var c=a[u],l=void 0;switch(c.bindingType){case 0:l=n.first;break;case 1:l=n,s=!0}r[c.propName]=l}s&&n.notifyOnChanges()}}function to(t,e,n,r,i){for(var o=e;o<=n;o++){var a=t.def.nodes[o],s=a.matchedQueries[r.id];if(null!=s&&i.push(eo(t,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=or(t,o);if((a.childMatchedQueries&r.filterId)===r.filterId&&(to(t,o+1,o+a.childCount,r,i),o+=a.childCount),16777216&a.flags)for(var c=u.viewContainer._embeddedViews,l=0;l<c.length;l++){var h=c[l],f=Cr(h);f&&f===u&&to(h,0,h.def.nodes.length-1,r,i)}var d=u.template._projectedViews;if(d)for(l=0;l<d.length;l++){var p=d[l];to(p,0,p.def.nodes.length-1,r,i)}}(a.childMatchedQueries&r.filterId)!==r.filterId&&(o+=a.childCount)}return i}function eo(t,e,n){if(null!=n)switch(n){case 1:return or(t,e.nodeIndex).renderElement;case 0:return new Ot(or(t,e.nodeIndex).renderElement);case 2:return or(t,e.nodeIndex).template;case 3:return or(t,e.nodeIndex).viewContainer;case 4:return ar(t,e.nodeIndex).instance}}function no(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function ro(t,e,n){var r=Pr(t,e,n);r&&Fr(t,n.ngContent.index,1,r,null,void 0)}function io(t,e){return function(t,e,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var o=n[i];r[i]={flags:8,name:o,ns:null,nonMinifiedName:o,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:32,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Hr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,new Array(e))}function oo(t,e,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function ao(t,e,n){var r,i=t.renderer;r=i.createText(n.text.prefix);var o=Pr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function so(t,e){return(null!=t?t.toString():"")+e.suffix}function uo(t,e,n,r){for(var i=0,o=0,a=0,s=0,u=0,c=null,l=null,h=!1,f=!1,d=null,p=0;p<e.length;p++){var m=e[p];if(m.nodeIndex=p,m.parent=c,m.bindingIndex=i,m.outputIndex=o,m.renderParent=l,a|=m.flags,u|=m.matchedQueryIds,m.element){var y=m.element;y.publicProviders=c?c.element.publicProviders:Object.create(null),y.allProviders=y.publicProviders,h=!1,f=!1,m.element.template&&(u|=m.element.template.nodeMatchedQueries)}if(lo(c,m,e.length),i+=m.bindings.length,o+=m.outputs.length,!l&&3&m.flags&&(d=m),20224&m.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?c.element.publicProviders[mr(m.provider.token)]=m:(f||(f=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[mr(m.provider.token)]=m),v&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)c=m,co(m)||(l=m);else for(;c&&p===c.nodeIndex+c.childCount;){var g=c.parent;g&&(g.childFlags|=c.childFlags,g.childMatchedQueries|=c.childMatchedQueries),l=(c=g)&&co(c)?c.renderParent:c}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||dr,updateRenderer:r||dr,handleEvent:function(t,n,r,i){return e[n].element.handleEvent(t,r,i)},bindingCount:i,outputCount:o,lastRenderRootNode:d}}function co(t){return 0!=(1&t.flags)&&null===t.element.name}function lo(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function ho(t,e,n,r){var i=mo(t.root,t.renderer,t,e,n);return yo(i,t.component,r),vo(i),i}function fo(t,e,n){var r=mo(t,t.renderer,null,null,e);return yo(r,n,n),vo(r),r}function po(t,e,n,r){var i,o=e.element.componentRendererType;return i=o?t.root.rendererFactory.createRenderer(r,o):t.root.renderer,mo(t.root,i,t,e.element.componentProvider,n)}function mo(t,e,n,r,i){var o=new Array(i.nodes.length),a=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:a,initIndex:-1}}function yo(t,e,n){t.component=e,t.context=n}function vo(t){var e;Or(t)&&(e=or(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,i=0;i<n.nodes.length;i++){var o=n.nodes[i];cr.setCurrentNode(t,i);var a=void 0;switch(201347067&o.flags){case 1:var s=Gr(t,e,o),u=void 0;if(33554432&o.flags){var c=Mr(o.element.componentView);u=cr.createComponentView(t,o,c,s)}Qr(t,u,o,s),a={renderElement:s,componentView:u,viewContainer:null,template:o.element.template?gi(t,o):void 0},16777216&o.flags&&(a.viewContainer=pi(t,o,a));break;case 2:a=ao(t,e,o);break;case 512:case 1024:case 2048:case 256:(a=r[i])||4096&o.flags||(a={instance:Ui(t,o)});break;case 16:a={instance:Fi(t,o)};break;case 16384:(a=r[i])||(a={instance:qi(t,o)}),32768&o.flags&&yo(or(t,o.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new wn;break;case 8:ro(t,e,o),a=void 0}r[i]=a}Co(t,Io.CreateViewNodes),xo(t,201326592,268435456,0)}function go(t){So(t),cr.updateDirectives(t,1),ko(t,Io.CheckNoChanges),cr.updateRenderer(t,1),Co(t,Io.CheckNoChanges),t.state&=-97}function bo(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,nr(t,0,256),So(t),cr.updateDirectives(t,0),ko(t,Io.CheckAndUpdate),xo(t,67108864,536870912,0);var e=nr(t,256,512);Qi(t,2097152|(e?1048576:0)),cr.updateRenderer(t,0),Co(t,Io.CheckAndUpdate),xo(t,134217728,536870912,0),Qi(t,8388608|((e=nr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,nr(t,768,1024)}function wo(t,e,n,i,o,a,s,u,c,l,h,f,d){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length,d=!1;return f>0&&Xr(t,e,0,n)&&(d=!0),f>1&&Xr(t,e,1,r)&&(d=!0),f>2&&Xr(t,e,2,i)&&(d=!0),f>3&&Xr(t,e,3,o)&&(d=!0),f>4&&Xr(t,e,4,a)&&(d=!0),f>5&&Xr(t,e,5,s)&&(d=!0),f>6&&Xr(t,e,6,u)&&(d=!0),f>7&&Xr(t,e,7,c)&&(d=!0),f>8&&Xr(t,e,8,l)&&(d=!0),f>9&&Xr(t,e,9,h)&&(d=!0),d}(t,e,n,r,i,o,a,s,u,c,l,h);case 2:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=!1,d=e.bindings,p=d.length;if(p>0&&Sr(t,e,0,n)&&(f=!0),p>1&&Sr(t,e,1,r)&&(f=!0),p>2&&Sr(t,e,2,i)&&(f=!0),p>3&&Sr(t,e,3,o)&&(f=!0),p>4&&Sr(t,e,4,a)&&(f=!0),p>5&&Sr(t,e,5,s)&&(f=!0),p>6&&Sr(t,e,6,u)&&(f=!0),p>7&&Sr(t,e,7,c)&&(f=!0),p>8&&Sr(t,e,8,l)&&(f=!0),p>9&&Sr(t,e,9,h)&&(f=!0),f){var m=e.text.prefix;p>0&&(m+=so(n,d[0])),p>1&&(m+=so(r,d[1])),p>2&&(m+=so(i,d[2])),p>3&&(m+=so(o,d[3])),p>4&&(m+=so(a,d[4])),p>5&&(m+=so(s,d[5])),p>6&&(m+=so(u,d[6])),p>7&&(m+=so(c,d[7])),p>8&&(m+=so(l,d[8])),p>9&&(m+=so(h,d[9]));var y=ir(t,e.nodeIndex).renderText;t.renderer.setValue(y,m)}return f}(t,e,n,r,i,o,a,s,u,c,l,h);case 16384:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=ar(t,e.nodeIndex),d=f.instance,p=!1,m=void 0,y=e.bindings.length;return y>0&&wr(t,e,0,n)&&(p=!0,m=Gi(t,f,e,0,n,m)),y>1&&wr(t,e,1,r)&&(p=!0,m=Gi(t,f,e,1,r,m)),y>2&&wr(t,e,2,i)&&(p=!0,m=Gi(t,f,e,2,i,m)),y>3&&wr(t,e,3,o)&&(p=!0,m=Gi(t,f,e,3,o,m)),y>4&&wr(t,e,4,a)&&(p=!0,m=Gi(t,f,e,4,a,m)),y>5&&wr(t,e,5,s)&&(p=!0,m=Gi(t,f,e,5,s,m)),y>6&&wr(t,e,6,u)&&(p=!0,m=Gi(t,f,e,6,u,m)),y>7&&wr(t,e,7,c)&&(p=!0,m=Gi(t,f,e,7,c,m)),y>8&&wr(t,e,8,l)&&(p=!0,m=Gi(t,f,e,8,l,m)),y>9&&wr(t,e,9,h)&&(p=!0,m=Gi(t,f,e,9,h,m)),m&&d.ngOnChanges(m),65536&e.flags&&rr(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),p}(t,e,n,r,i,o,a,s,u,c,l,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings,d=!1,p=f.length;if(p>0&&Sr(t,e,0,n)&&(d=!0),p>1&&Sr(t,e,1,r)&&(d=!0),p>2&&Sr(t,e,2,i)&&(d=!0),p>3&&Sr(t,e,3,o)&&(d=!0),p>4&&Sr(t,e,4,a)&&(d=!0),p>5&&Sr(t,e,5,s)&&(d=!0),p>6&&Sr(t,e,6,u)&&(d=!0),p>7&&Sr(t,e,7,c)&&(d=!0),p>8&&Sr(t,e,8,l)&&(d=!0),p>9&&Sr(t,e,9,h)&&(d=!0),d){var m=sr(t,e.nodeIndex),y=void 0;switch(201347067&e.flags){case 32:y=new Array(f.length),p>0&&(y[0]=n),p>1&&(y[1]=r),p>2&&(y[2]=i),p>3&&(y[3]=o),p>4&&(y[4]=a),p>5&&(y[5]=s),p>6&&(y[6]=u),p>7&&(y[7]=c),p>8&&(y[8]=l),p>9&&(y[9]=h);break;case 64:y={},p>0&&(y[f[0].name]=n),p>1&&(y[f[1].name]=r),p>2&&(y[f[2].name]=i),p>3&&(y[f[3].name]=o),p>4&&(y[f[4].name]=a),p>5&&(y[f[5].name]=s),p>6&&(y[f[6].name]=u),p>7&&(y[f[7].name]=c),p>8&&(y[f[8].name]=l),p>9&&(y[f[9].name]=h);break;case 128:var v=n;switch(p){case 1:y=v.transform(n);break;case 2:y=v.transform(r);break;case 3:y=v.transform(r,i);break;case 4:y=v.transform(r,i,o);break;case 5:y=v.transform(r,i,o,a);break;case 6:y=v.transform(r,i,o,a,s);break;case 7:y=v.transform(r,i,o,a,s,u);break;case 8:y=v.transform(r,i,o,a,s,u,c);break;case 9:y=v.transform(r,i,o,a,s,u,c,l);break;case 10:y=v.transform(r,i,o,a,s,u,c,l,h)}}m.value=y}return d}(t,e,n,r,i,o,a,s,u,c,l,h);default:throw"unreachable"}}(t,e,i,o,a,s,u,c,l,h,f,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,i=0;i<n.length;i++)Xr(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,i=!1,o=0;o<n.length;o++)Sr(t,e,o,n[o])&&(i=!0);if(i){var a="";for(o=0;o<n.length;o++)a+=so(n[o],r[o]);a=e.text.prefix+a;var s=ir(t,e.nodeIndex).renderText;t.renderer.setValue(s,a)}return i}(t,e,n);case 16384:return function(t,e,n){for(var r=ar(t,e.nodeIndex),i=r.instance,o=!1,a=void 0,s=0;s<n.length;s++)wr(t,e,s,n[s])&&(o=!0,a=Gi(t,r,e,s,n[s],a));return a&&i.ngOnChanges(a),65536&e.flags&&rr(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var i=e.bindings,o=!1,a=0;a<n.length;a++)Sr(t,e,a,n[a])&&(o=!0);if(o){var s=sr(t,e.nodeIndex),u=void 0;switch(201347067&e.flags){case 32:u=n;break;case 64:for(u={},a=0;a<n.length;a++)u[i[a].name]=n[a];break;case 128:var c=n[0],l=n.slice(1);u=c.transform.apply(c,Object(r.i)(l))}s.value=u}return o}(t,e,n);default:throw"unreachable"}}(t,e,i)}function So(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var i=or(t,n).template._projectedViews;if(i)for(var o=0;o<i.length;o++){var a=i[o];a.state|=32,Tr(a,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Eo(t,e,n,r,i,o,a,s,u,c,l,h,f){return 0===n?function(t,e,n,r,i,o,a,s,u,c,l,h){var f=e.bindings.length;f>0&&Er(t,e,0,n),f>1&&Er(t,e,1,r),f>2&&Er(t,e,2,i),f>3&&Er(t,e,3,o),f>4&&Er(t,e,4,a),f>5&&Er(t,e,5,s),f>6&&Er(t,e,6,u),f>7&&Er(t,e,7,c),f>8&&Er(t,e,8,l),f>9&&Er(t,e,9,h)}(t,e,r,i,o,a,s,u,c,l,h,f):function(t,e,n){for(var r=0;r<n.length;r++)Er(t,e,r,n[r])}(t,e,r),!1}function _o(t,e){if(ur(t,e.nodeIndex).dirty)throw lr(cr.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function To(t){if(!(128&t.state)){if(ko(t,Io.Destroy),Co(t,Io.Destroy),Qi(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Cr(t);if(e){var n=e.template._projectedViews;n&&(ci(n,n.indexOf(t)),cr.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(or(t,n).renderElement):2&r.flags?t.renderer.destroyNode(ir(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&ur(t,n).destroy()}}(t),Or(t)&&t.renderer.destroy(),t.state|=128}}var Io=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Co(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Ao(or(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ko(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var o=or(t,r).viewContainer._embeddedViews,a=0;a<o.length;a++)Ao(o[a],e);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Ao(t,e){var n=t.state;switch(e){case Io.CheckNoChanges:0==(128&n)&&(12==(12&n)?go(t):64&n&&Oo(t,Io.CheckNoChangesProjectedViews));break;case Io.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?go(t):64&n&&Oo(t,e));break;case Io.CheckAndUpdate:0==(128&n)&&(12==(12&n)?bo(t):64&n&&Oo(t,Io.CheckAndUpdateProjectedViews));break;case Io.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?bo(t):64&n&&Oo(t,e));break;case Io.Destroy:To(t);break;case Io.CreateViewNodes:vo(t)}}function Oo(t,e){ko(t,e),Co(t,e)}function xo(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var i=t.def.nodes.length,o=0;o<i;o++){var a=t.def.nodes[o];if(a.flags&e&&a.flags&n)switch(cr.setCurrentNode(t,a.nodeIndex),r){case 0:$i(t,a);break;case 1:_o(t,a)}a.childFlags&e&&a.childFlags&n||(o+=a.childCount)}}var Do=!1;function No(t,e,n,r,i,o){var a=i.injector.get(Nt);return fo(Po(t,i,a,e,n),r,o)}function Ro(t,e,n,r,i,o){var a=i.injector.get(Nt),s=Po(t,i,new fa(a),e,n),u=Ho(r);return la($o.create,fo,null,[s,u,o])}function Po(t,e,n,r,i){var o=e.injector.get(Lt),a=e.injector.get(ke),s=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:s,errorHandler:a}}function jo(t,e,n,r){var i=Ho(n);return la($o.create,ho,null,[t,e,i,r])}function Mo(t,e,n,r){return n=qo.get(e.element.componentProvider.provider.token)||Ho(n),la($o.create,po,null,[t,e,n,r])}function Lo(t,e,n,r){return Ii(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===Uo.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=Uo.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){Fo.forEach(function(r,i){y(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var i=Uo.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Rr(i.deps),r.value=i.value)}if(Fo.size>0){var o=new Set(t.modules);Fo.forEach(function(e,r){if(o.has(y(r).providedIn)){var i={token:r,flags:e.flags|(n?4096:0),deps:Rr(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[mr(r)]=i}})}}(t=t.factory(function(){return dr})),t):t}(r))}var Uo=new Map,Fo=new Map,qo=new Map;function Vo(t){var e;Uo.set(t.token,t),"function"==typeof t.token&&(e=y(t.token))&&"function"==typeof e.providedIn&&Fo.set(t.token,t)}function Bo(t,e){var n=Mr(e.viewDefFactory),r=Mr(n.nodes[0].element.componentView);qo.set(t,r)}function zo(){Uo.clear(),Fo.clear(),qo.clear()}function Ho(t){if(0===Uo.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&Uo.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return dr});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,o=Uo.get(i.token);o&&(r.flags=-3841&r.flags|o.flags,i.deps=Rr(o.deps),i.value=o.value)}}}}function Wo(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return wo(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?sr(t,e).value:void 0}function Ko(t,e,n,r,i,o,a,s,u,c,l,h,f){var d=t.def.nodes[e];return Eo(t,d,n,r,i,o,a,s,u,c,l,h,f),224&d.flags?sr(t,e).value:void 0}function Go(t){return la($o.detectChanges,bo,null,[t])}function Qo(t){return la($o.checkNoChanges,go,null,[t])}function Yo(t){return la($o.destroy,To,null,[t])}var Xo,Zo,Jo,$o=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function ta(t,e){Zo=t,Jo=e}function ea(t,e,n,r){return ta(t,e),la($o.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function na(t,e){if(128&t.state)throw fr($o[Xo]);return ta(t,aa(t,0)),t.def.updateDirectives(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ia(t,a,r,i):oa(t,a,r,i),16384&a.flags&&ta(t,aa(t,n)),224&a.flags?sr(t,a.nodeIndex).value:void 0},t)}function ra(t,e){if(128&t.state)throw fr($o[Xo]);return ta(t,sa(t,0)),t.def.updateRenderer(function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=t.def.nodes[n];return 0===e?ia(t,a,r,i):oa(t,a,r,i),3&a.flags&&ta(t,sa(t,n)),224&a.flags?sr(t,a.nodeIndex).value:void 0},t)}function ia(t,e,n,i){if(wo.apply(void 0,Object(r.i)([t,e,n],i))){var o=1===n?i[0]:i;if(16384&e.flags){for(var a={},s=0;s<e.bindings.length;s++){var u=e.bindings[s],c=o[s];8&u.flags&&(a[(d=u.nonMinifiedName,"ng-reflect-"+d.replace(/[$@]/g,"_").replace(K,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=G(c))}var l=e.parent,h=or(t,l.nodeIndex).renderElement;if(l.element.name)for(var f in a)null!=(c=a[f])?t.renderer.setAttribute(h,f,c):t.renderer.removeAttribute(h,f);else t.renderer.setValue(h,"bindings="+JSON.stringify(a,null,2))}}var d}function oa(t,e,n,i){Eo.apply(void 0,Object(r.i)([t,e,n],i))}function aa(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function sa(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var ua=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=kr(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return or(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return wi(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){ca(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&ca(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Or(t);)t=t.parent;return t.parent?or(t.parent,kr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Ar(this.view,this.nodeDef):Ar(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var a=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===a?(e=t.error).bind.apply(e,Object(r.i)([t],i)):dr}),s<a&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,Object(r.i)(i)))},t}();function ca(t,e,n){for(var r in e.references)n[r]=eo(t,e,e.references[r])}function la(t,e,n,r){var i=Xo,o=Zo,a=Jo;try{Xo=t;var s=e.apply(n,r);return Zo=o,Jo=a,Xo=i,s}catch(u){if(Te(u)||!Zo)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),hr(t,e),t}(u,ha())}}function ha(){return Zo?new ua(Zo,Jo):null}var fa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new da(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),da=function(){function t(t){this.delegate=t,this.debugContextFactory=ha,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Nn.delete(t.nativeNode)}(Rn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var i=new Dn(n,null,r);i.name=t,Pn(i)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&Pn(new xn(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&Pn(new xn(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=Rn(t),r=Rn(e);n&&r&&n instanceof Dn&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=Rn(t),i=Rn(e),o=Rn(n);r&&i&&r instanceof Dn&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=Rn(t),r=Rn(e);n&&r&&n instanceof Dn&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=ha();return r&&Pn(new Dn(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var i=Rn(t);i&&i instanceof Dn&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=Rn(t);r&&r instanceof Dn&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=Rn(t);n&&n instanceof Dn&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=Rn(t);n&&n instanceof Dn&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var i=Rn(t);i&&i instanceof Dn&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=Rn(t);r&&r instanceof Dn&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=Rn(t);r&&r instanceof Dn&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=Rn(t);r&&r.listeners.push(new On(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function pa(t,e,n){return new ma(t,e,n)}var ma=function(t){function e(e,n,r){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=n,i._ngModuleDefFactory=r,i}return Object(r.d)(e,t),e.prototype.create=function(t){!function(){if(!Do){Do=!0;var t=Bt()?{setCurrentNode:ta,createRootView:Ro,createEmbeddedView:jo,createComponentView:Mo,createNgModuleRef:Lo,overrideProvider:Vo,overrideComponentView:Bo,clearOverrides:zo,checkAndUpdateView:Go,checkNoChangesView:Qo,destroyView:Yo,createDebugContext:function(t,e){return new ua(t,e)},handleEvent:ea,updateDirectives:na,updateRenderer:ra}:{setCurrentNode:function(){},createRootView:No,createEmbeddedView:ho,createComponentView:po,createNgModuleRef:Ii,overrideProvider:dr,overrideComponentView:dr,clearOverrides:dr,checkAndUpdateView:bo,checkNoChangesView:go,destroyView:To,createDebugContext:function(t,e){return new ua(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Wo:Ko,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Wo:Ko,t)}};cr.setCurrentNode=t.setCurrentNode,cr.createRootView=t.createRootView,cr.createEmbeddedView=t.createEmbeddedView,cr.createComponentView=t.createComponentView,cr.createNgModuleRef=t.createNgModuleRef,cr.overrideProvider=t.overrideProvider,cr.overrideComponentView=t.overrideComponentView,cr.clearOverrides=t.clearOverrides,cr.checkAndUpdateView=t.checkAndUpdateView,cr.checkNoChangesView=t.checkNoChangesView,cr.destroyView=t.destroyView,cr.resolveDep=Wi,cr.createDebugContext=t.createDebugContext,cr.handleEvent=t.handleEvent,cr.updateDirectives=t.updateDirectives,cr.updateRenderer=t.updateRenderer,cr.dirtyParentQueries=Ji}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Mr(this._ngModuleDefFactory));return cr.createNgModuleRef(this.moduleType,t||it.NULL,this._bootstrapComponents,e)},e}(At)},DKTb:function(t,e,n){"use strict";function r(t){setTimeout(function(){throw t})}n.d(e,"a",function(){return r})},"En8+":function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});var i=r()},"F/XL":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("nkY7"),i=n("IUTb"),o=n("G5J1"),a=n("PU8L");function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(o.b)(n);case 1:return n?Object(i.a)(t,n):Object(a.a)(t[0]);default:return Object(i.a)(t,n)}}},FFOo:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("mrSG"),i=n("2Bdj"),o=n("6ahw"),a=n("pugT"),s=n("L/V9"),u=n("iLxQ"),c=n("DKTb"),l=function(t){function e(n,r,i){var a=t.call(this)||this;switch(a.syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,a._parentSubscription=null,arguments.length){case 0:a.destination=o.a;break;case 1:if(!n){a.destination=o.a;break}if("object"==typeof n){n instanceof e?(a.syncErrorThrowable=n.syncErrorThrowable,a.destination=n,n.add(a)):(a.syncErrorThrowable=!0,a.destination=new h(a,n));break}default:a.syncErrorThrowable=!0,a.destination=new h(a,n,r,i)}return a}return r.d(e,t),e.prototype[s.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(a.a),h=function(t){function e(e,n,r,a){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?s=n:n&&(s=n.next,r=n.error,a=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=a,u}return r.d(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},FTyF:function(t,e,n){var r=n("I1rR");r(r.S+r.F,"Object",{assign:n("74FJ")})},Fxb1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var r=n("6blF"),i=n("+tJ4"),o=n("S5XQ"),a=n("u67D"),s=n("JcRv"),u=n("2ePl"),c=n("/WYv"),l=n("McSo"),h=n("En8+"),f=n("xTla"),d=function(t){if(t instanceof r.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[f.a])return Object(s.a)(t);if(Object(u.a)(t))return Object(i.a)(t);if(Object(c.a)(t))return Object(o.a)(t);if(t&&"function"==typeof t[h.a])return Object(a.a)(t);var e=Object(l.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},G5J1:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("6blF"),i=new r.a(function(t){return t.complete()});function o(t){return t?function(t){return new r.a(function(e){return t.schedule(function(){return e.complete()})})}(t):i}},GMxU:function(t,e,n){var r=n("Iy4/"),i=n("kSm0").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},GShy:function(t,e,n){var r=n("9Aud"),i=n("lv+R"),o=n("UOZm");t.exports=function(t){var e=r(t),n=i.f;if(n)for(var a,s=n(t),u=o.f,c=0;s.length>c;)u.call(t,a=s[c++])&&e.push(a);return e}},GYIZ:function(t,e,n){var r=n("ytDL"),i=n("xGvh");t.exports=n("lIov")?function(t,e,n){return r.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},H1Af:function(t,e,n){var r=n("gYfK");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},HPGL:function(t,e,n){"use strict";function r(){var t=Date.now(),e=!1;document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-t)+" ms"),e=!0}),setTimeout(function(){!e&&window.cordova&&console.warn("Ionic Native: deviceready did not fire within 5000ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")},5e3)}n.d(e,"a",function(){return r})},I1rR:function(t,e,n){var r=n("qtiw"),i=n("Autd"),o=n("GYIZ"),a=n("TDVo"),s=n("6CFf"),u=function(t,e,n){var c,l,h,f,d=t&u.F,p=t&u.G,m=t&u.P,y=t&u.B,v=p?r:t&u.S?r[e]||(r[e]={}):(r[e]||{}).prototype,g=p?i:i[e]||(i[e]={}),b=g.prototype||(g.prototype={});for(c in p&&(n=e),n)h=((l=!d&&v&&void 0!==v[c])?v:n)[c],f=y&&l?s(h,r):m&&"function"==typeof h?s(Function.call,h):h,v&&a(v,c,h,t&u.U),g[c]!=h&&o(g,c,f),m&&b[c]!=h&&(b[c]=h)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},ITiG:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("mrSG"),i=n("tct4"),o=n("67Y/"),a=n("t9fZ"),s=n("CcnG"),u=function(){function t(t){this.afs=t,this.userCollection=this.afs.collection("users"),this.users=this.userCollection.snapshotChanges().pipe(Object(o.a)(function(t){return t.map(function(t){var e=t.payload.doc.data();return r.a({id:t.payload.doc.id},e)})}))}return t.prototype.getUsers=function(){return this.users},t.prototype.getUser=function(t){return this.userCollection.doc(t).valueChanges().pipe(Object(a.a)(1),Object(o.a)(function(e){return e.id=t,e}))},t.prototype.addUser=function(t,e){return this.userCollection.doc(e).set(t)},t.prototype.updateUser=function(t){return this.userCollection.doc(t.id).update({firstname:t.firstname,lastname:t.lastname,points:t.points,email:t.email})},t.prototype.deleteUser=function(t){return this.userCollection.doc(t).delete()},t.ngInjectableDef=s.S({factory:function(){return new t(s.W(i.a))},token:t,providedIn:"root"}),t}()},IUTb:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("6blF"),i=n("pugT"),o=n("+tJ4");function a(t,e){return new r.a(e?function(n){var r=new i.a,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:Object(o.a)(t))}},IiNp:function(t,e,n){var r=n("Zp05");t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},Ip0R:function(t,e,n){"use strict";n.d(e,"r",function(){return v}),n.d(e,"j",function(){return b}),n.d(e,"k",function(){return g}),n.d(e,"s",function(){return w}),n.d(e,"b",function(){return k}),n.d(e,"h",function(){return E}),n.d(e,"i",function(){return T}),n.d(e,"c",function(){return A}),n.d(e,"q",function(){return O}),n.d(e,"o",function(){return D}),n.d(e,"p",function(){return N}),n.d(e,"n",function(){return R}),n.d(e,"m",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"a",function(){return u}),n.d(e,"d",function(){return h}),n.d(e,"l",function(){return f}),n.d(e,"f",function(){return c});var r=n("CcnG"),i=n("mrSG"),o=function(){return function(){}}(),a=new r.p("Location Initialized"),s=function(){return function(){}}(),u=new r.p("appBaseHref"),c=function(){function t(t){var n=this;this._subject=new r.m,this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(l(i)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,l(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function l(t){return t.replace(/\/index.html$/,"")}var h=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=c.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),f=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return Object(i.d)(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return c.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+c.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+c.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(s),d=void 0,p=["en",[["a","p"],["AM","PM"],d],[["AM","PM"],d,d],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],d,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],d,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",d,"{1} 'at' {0}",d],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],m={},y=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),v=new r.p("UseV4Plurals"),g=function(){return function(){}}(),b=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return Object(i.d)(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=m[e];if(n)return n;var r=e.split("-")[0];if(n=m[r])return n;if("en"===r)return p;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case y.Zero:return"zero";case y.One:return"one";case y.Two:return"two";case y.Few:return"few";case y.Many:return"many";default:return"other"}},e}(g);function w(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=Object(i.j)(t.split(";")),a=o.next();!a.done;a=o.next()){var s=a.value,u=s.indexOf("="),c=Object(i.h)(-1==u?[s,""]:[s.slice(0,u),s.slice(u+1)],2),l=c[1];if(c[0].trim()===e)return decodeURIComponent(l)}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}var S=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),E=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Object(r.X)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new S(null,e._ngForOf,-1,-1),i),a=new _(t,o);n.push(a)}else null==i?e._viewContainer.remove(r):(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new _(t,o),n.push(a))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),_=function(){return function(t,e){this.record=t,this.view=e}}(),T=function(){function t(t,e){this._viewContainer=t,this._context=new I,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){C("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){C("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),I=function(){return function(){this.$implicit=null,this.ngIf=null}}();function C(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Object(r.Cb)(e)+"'.")}var k=function(){return function(){}}(),A=new r.p("DocumentToken"),O="browser",x="server";function D(t){return t===O}function N(t){return t===x}var R=function(){function t(){}return t.ngInjectableDef=Object(r.S)({providedIn:"root",factory:function(){return new P(Object(r.W)(A),window)}}),t}(),P=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}()},"Iy4/":function(t,e,n){var r=n("g0Mr"),i=n("rSCU"),o=n("b/Kf")(!1),a=n("ifzb")("IE_PROTO");t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},JcRv:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("xTla"),i=function(t){return function(e){var n=t[r.a]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},Ji5e:function(t,e,n){},JiIP:function(t,e,n){"use strict";var r=n("xrBK"),i=n("xGvh"),o=n("A+3H"),a={};n("GYIZ")(a,n("jZgK")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=r(a,{next:i(1,n)}),o(t,e+" Iterator")}},JilW:function(t,e,n){n("KxBS"),t.exports=n("Autd").String.repeat},K9Ia:function(t,e,n){"use strict";var r=n("mrSG"),i=n("6blF"),o=n("FFOo"),a=n("pugT"),s=n("8g8A"),u=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.d(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(a.a),c=n("L/V9");n.d(e,"b",function(){return l}),n.d(e,"a",function(){return h});var l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.d(e,t),e}(o.a),h=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.d(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new f(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new s.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new s.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new s.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),a.a.EMPTY):this.isStopped?(t.complete(),a.a.EMPTY):(this.observers.push(t),new u(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new f(t,e)},e}(i.a),f=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.d(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):a.a.EMPTY},e}(h)},KBN1:function(t,e,n){"use strict";var r=n("I1rR"),i=n("c0bx"),o=n("flRy"),a="".startsWith;r(r.P+r.F*n("tLdg")("startsWith"),"String",{startsWith:function(t){var e=o(this,t,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,n):e.slice(n,n+r.length)===r}})},"KOl+":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return f}),n.d(e,"c",function(){return p}),n.d(e,"d",function(){return m});var r=n("6blF"),i=n("bne5"),o={error:"cordova_not_available"},a={error:"plugin_not_installed"};function s(t){if(window.angular){var e=window.angular.element(document.querySelector("[ng-app]")||document.body).injector();if(e)return e.get("$q")(function(e,n){t(e,n)});console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return function(){if(Promise)return new Promise(function(e,n){t(e,n)});console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}()}function u(t,e,n){var r,i,s;return"string"==typeof t?r=t:(r=t.constructor.getPluginRef(),n=t.constructor.getPluginName(),s=t.constructor.getPluginInstallName()),!(!(i=f(r))||e&&void 0===i[e])||(window.cordova?(function(t,n,r){e?console.warn("Native: tried calling "+t+"."+e+", but the "+t+" plugin is not installed."):console.warn("Native: tried accessing the "+t+" plugin but it's not installed."),n&&console.warn("Install the "+t+" plugin: 'ionic cordova plugin add "+n+"'")}(n,s),a):(function(t,n){e?console.warn("Native: tried calling "+t+"."+e+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator"):console.warn("Native: tried accessing the "+t+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}(n),o))}function c(t,e,n,r){if(void 0===e&&(e={}),e.sync)return t;if("reverse"===e.callbackOrder)t.unshift(r),t.unshift(n);else if("node"===e.callbackStyle)t.push(function(t,e){t?r(t):n(e)});else if("object"===e.callbackStyle&&e.successName&&e.errorName){var i={};i[e.successName]=n,i[e.errorName]=r,t.push(i)}else if(void 0!==e.successIndex||void 0!==e.errorIndex){var o=function(){e.successIndex>t.length?t[e.successIndex]=n:t.splice(e.successIndex,0,n)},a=function(){e.errorIndex>t.length?t[e.errorIndex]=r:t.splice(e.errorIndex,0,r)};e.successIndex>e.errorIndex?(a(),o()):(o(),a())}else t.push(n),t.push(r);return t}function l(t,e,n,r,i,o){void 0===r&&(r={}),n=c(n,r,i,o);var a=u(t,e);if(!0===a){var s=f(t.constructor.getPluginRef());return s[e].apply(s,n)}return a}function h(t,e,n,r,i,o){if(void 0===r&&(r={}),n=c(n,r,i,o),function(t,e){return t._objectInstance&&(!e||void 0!==t._objectInstance[e])}(t,e))return t._objectInstance[e].apply(t._objectInstance,n)}function f(t){return d(window,t)}function d(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}var p=function(t,e,n){return void 0===n&&(n={}),function(){for(var o,a,u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return n.sync?l(t,e,u,n):n.observable?function(t,e,n,i){return void 0===i&&(i={}),new r.a(function(r){var o;return(o=i.destruct?l(t,e,n,i,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):l(t,e,n,i,r.next.bind(r),r.error.bind(r)))&&o.error&&(r.error(o.error),r.complete()),function(){try{if(i.clearFunction)return i.clearWithArgs?l(t,i.clearFunction,n,i,r.next.bind(r),r.error.bind(r)):l(t,i.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}})}(t,e,u,n):n.eventObservable&&n.event?(o=n.event,a=(a=n.element)?d(window,a):window,Object(i.a)(a,o)):n.otherPromise?function(t,e,n,r){return void 0===r&&(r={}),s(function(i,o){var a=l(t,e,n,r);a?a.error?o(a.error):a.then&&a.then(i).catch(o):o({error:"unexpected_error"})})}(t,e,u,n):function(t,e,n,r){var i,o;void 0===r&&(r={});var a=s(function(a,s){i=r.destruct?l(t,e,n,r,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return a(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s(t)}):l(t,e,n,r,a,s),o=s});return i&&i.error&&(a.catch(function(){}),"function"==typeof o&&o(i.error)),a}(t,e,u,n)}};function m(t,e,n){return void 0===n&&(n={}),function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(n.sync)return h(t,e,i,n);if(n.observable)return new r.a(function(r){var o;return(o=n.destruct?h(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.error(t)}):h(t,e,i,n,r.next.bind(r),r.error.bind(r)))&&o.error&&r.error(o.error),function(){try{return n.clearWithArgs?h(t,n.clearFunction,i,n,r.next.bind(r),r.error.bind(r)):h(t,n.clearFunction,[])}catch(o){console.warn("Unable to clear the previous observable watch for",t.constructor.getPluginName(),e),console.warn(o)}}});if(n.otherPromise)return s(function(r,o){var a;(a=n.destruct?h(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):h(t,e,i,n,r,o))&&a.then?a.then(r,o):o()});var a,u,c=s(function(r,o){a=n.destruct?h(t,e,i,n,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}):h(t,e,i,n,r,o),u=o});return a&&a.error&&(c.catch(function(){}),"function"==typeof u&&u(a.error)),c}}},KxBS:function(t,e,n){var r=n("I1rR");r(r.P,"String",{repeat:n("gRXz")})},"L/V9":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},L97z:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"LLt/":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ZZ/e"),i=n("26FU"),o=(n("Oipj"),n("ITiG")),a=n("CcnG"),s=n("CB3U"),u=n("iw74"),c="auth-token",l=function(){function t(t,e,n,r){var o=this;this.fireAuth=t,this.platform=e,this.storage=n,this.userService=r,this.authenticationState=new i.a(!1),this.platform.ready().then(function(){o.checkToken()})}return t.prototype.checkToken=function(){var t=this;return this.storage.get(c).then(function(e){e&&(t.user=e,t.authenticationState.next(!0))})},t.prototype.isAuthenticated=function(){return this.authenticationState.value},t.prototype.signInWithEmail=function(t){var e=this;return this.fireAuth.auth.signInWithEmailAndPassword(t.email,t.password).then(function(t){e.user=t.user.uid,e.storage.set(c,t.user.uid).then(function(t){e.authenticationState.next(!0)})})},t.prototype.register=function(t){var e=this;return this.fireAuth.auth.createUserWithEmailAndPassword(t.email,t.password).then(function(n){e.user=n.user.uid,e.userService.addUser({id:n.user.uid,firstname:t.firstname,lastname:t.lastname,email:t.email,points:0},n.user.uid),e.storage.set(c,n.user.uid).then(function(t){e.authenticationState.next(!0)})})},t.prototype.logout=function(){var t=this;return this.storage.remove(c).then(function(){t.authenticationState.next(!1)}),this.fireAuth.auth.signOut()},t.ngInjectableDef=a.S({factory:function(){return new t(a.W(s.AngularFireAuth),a.W(r.Gb),a.W(u.b),a.W(o.a))},token:t,providedIn:"root"}),t}()},Lq6m:function(t,e,n){"use strict";var r=n("KOl+");n.d(e,"a",function(){return i});var i=function(){function t(){}return t.installed=function(){return!0===Object(r.a)(this.pluginRef)},t.getPlugin=function(){return function(t,e){for(var n=e.split("."),r=t,i=0;i<n.length;i++){if(!r)return null;r=r[n[i]]}return r}(window,this.pluginRef)},t.getPluginName=function(){return this.pluginName},t.getPluginRef=function(){return this.pluginRef},t.getPluginInstallName=function(){return this.plugin},t.getSupportedPlatforms=function(){return this.platforms||[]},t}()},M1gn:function(t,e,n){var r=n("Zp05"),i=n("oxOc"),o=n("jZgK")("species");t.exports=function(t){var e;return i(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!i(e.prototype)||(e=void 0),r(e)&&null===(e=e[o])&&(e=void 0)),void 0===e?Array:e}},MGBS:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.d(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n("FFOo").a)},McSo:function(t,e,n){"use strict";function r(t){return null!=t&&"object"==typeof t}n.d(e,"a",function(){return r})},NPZs:function(t,e,n){n("s6PA"),t.exports=n("Autd").Array.find},ORnb:function(t,e,n){"use strict";var r=n("CcnG"),i=n("Ip0R"),o=n("mrSG"),a=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return o.d(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return o.d(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return o.d(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n("pugT").a))),s=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),u=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.d(e,t),e}(function(t){function e(n,r){void 0===r&&(r=s.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return o.d(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(s)))(a),c=n("6blF"),l=(new r.p("angularfire2.realtimeDatabaseURL"),function(){function t(t,e){this.zone=t,this.platformId=e}return t.prototype.schedule=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.zone.runGuarded(function(){return u.schedule.apply(u,t)})},t.prototype.keepUnstableUntilFirst=function(t){return Object(i.p)(this.platformId)?new c.a(function(e){var n=function(){},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(function(t){"scheduled"===r.state&&r.invoke(),e.next(t)},function(t){"scheduled"===r.state&&r.invoke(),e.error(t)},function(){"scheduled"===r.state&&r.invoke(),e.complete()})}):t},t.prototype.runOutsideAngular=function(t){var e=this;return new c.a(function(n){return e.zone.runOutsideAngular(function(){return t.subscribe(function(t){return e.zone.run(function(){return n.next(t)})},function(t){return e.zone.run(function(){return n.error(t)})},function(){return e.zone.run(function(){return n.complete()})})})})},t}()),h=function(t){return function(e){return new c.a(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}},f=n("Wcq6"),d=n.n(f),p=new r.p("angularfire2.app.options"),m=new r.p("angularfire2.app.nameOrConfig"),y=function(){return function(){}}();function v(t,e){var n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",d.a.apps.filter(function(t){return t&&t.name===n.name})[0]||d.a.initializeApp(t,n)}new r.A;var g=function(){function t(){}var e;return e=t,t.initializeApp=function(t,n){return{ngModule:e,providers:[{provide:p,useValue:t},{provide:m,useValue:n}]}},t}();n.d(e,"e",function(){return l}),n.d(e,"g",function(){return h}),n.d(e,"d",function(){return p}),n.d(e,"c",function(){return m}),n.d(e,"b",function(){return y}),n.d(e,"f",function(){return v}),n.d(e,"a",function(){return g})},Oipj:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n("CB3U"))},OwPH:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},Oyqw:function(t,e,n){var r=n("U/+K")("meta"),i=n("Zp05"),o=n("g0Mr"),a=n("ytDL").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("61rj")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!o(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&u(t)&&!o(t,r)&&l(t),t}}},PU8L:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("6blF");function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}},PfMj:function(t,e,n){var r=n("Zp05"),i=n("gYfK"),o=n("jZgK")("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},QEVv:function(t,e,n){var r=n("gYfK"),i=n("jZgK")("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(n){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},"Qtk+":function(t,e){t.exports={}},"Rbo/":function(t,e,n){var r=n("ytDL"),i=n("UFGs"),o=n("9Aud");t.exports=n("lIov")?Object.defineProperties:function(t,e){i(t);for(var n,a=o(e),s=a.length,u=0;s>u;)r.f(t,n=a[u++],e[n]);return t}},"Rt+L":function(t,e,n){"use strict";n("KOl+")},S1nX:function(t,e,n){"use strict";var r=n("mrSG"),i=n("K9Ia"),o=n("6blF"),a=n("FFOo"),s=n("pugT");function u(){return function(t){return t.lift(new c(t))}}var c=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(a.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.d(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new s.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed?(this._connection=null,t=s.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return u()(this)},e}(o.a).prototype,f={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.d(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);function p(){return new i.a}function m(){return function(t){return u()((e=p,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}}n.d(e,"a",function(){return m})},S5XQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DKTb"),i=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.a),e}}},TDVo:function(t,e,n){var r=n("qtiw"),i=n("GYIZ"),o=n("g0Mr"),a=n("U/+K")("src"),s=Function.toString,u=(""+s).split("toString");n("Autd").inspectSource=function(t){return s.call(t)},(t.exports=function(t,e,n,s){var c="function"==typeof n;c&&(o(n,"name")||i(n,"name",e)),t[e]!==n&&(c&&(o(n,a)||i(n,a,t[e]?""+t[e]:u.join(String(e)))),t===r?t[e]=n:s?t[e]?t[e]=n:i(t,e,n):(delete t[e],i(t,e,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[a]||s.call(this)})},"TGP+":function(t,e,n){n("FTyF"),t.exports=n("Autd").Object.assign},"Td+X":function(t,e,n){"use strict";var r=n("8L4g"),i=n("I1rR"),o=n("TDVo"),a=n("GYIZ"),s=n("Qtk+"),u=n("JiIP"),c=n("A+3H"),l=n("a5Eg"),h=n("jZgK")("iterator"),f=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,n,p,m,y,v){u(n,e,p);var g,b,w,S=function(t){if(!f&&t in I)return I[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},E=e+" Iterator",_="values"==m,T=!1,I=t.prototype,C=I[h]||I["@@iterator"]||m&&I[m],k=C||S(m),A=m?_?S("entries"):k:void 0,O="Array"==e&&I.entries||C;if(O&&(w=l(O.call(new t)))!==Object.prototype&&w.next&&(c(w,E,!0),r||"function"==typeof w[h]||a(w,h,d)),_&&C&&"values"!==C.name&&(T=!0,k=function(){return C.call(this)}),r&&!v||!f&&!T&&I[h]||a(I,h,k),s[e]=k,s[E]=d,m)if(g={values:_?k:S("values"),keys:y?k:S("keys"),entries:A},v)for(b in g)b in I||o(I,b,g[b]);else i(i.P+i.F*(f||T),e,g);return g}},"U/+K":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},U8mZ:function(t,e,n){"use strict";var r=n("dNFx"),i=n("OwPH"),o=n("Qtk+"),a=n("rSCU");t.exports=n("Td+X")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,i(1)):i(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},UFGs:function(t,e,n){var r=n("Zp05");t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},UOZm:function(t,e){e.f={}.propertyIsEnumerable},Uv6z:function(t,e){!function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(t){return t&&DataView.prototype.isPrototypeOf(t)},i=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype.delete=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},m.call(y.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];g.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=y,t.Response=g,t.fetch=function(t,n){return new Promise(function(r,i){var o=new y(t,n),a=new XMLHttpRequest;a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL"),r(new g("response"in a?a.response:a.responseText,n))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!=typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&r(t))this._bodyArrayBuffer=p(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!i(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=p(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t,e,n,r=h(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=f(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t,e){var n,r,i=(e=e||{}).body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function g(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}}("undefined"!=typeof self?self:this)},VPEh:function(t,e,n){n("6d8W"),t.exports=n("Autd").Array.findIndex},"VnD/":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){return function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.thisArg))},t}(),s=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.d(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.a)},VqlW:function(t,e,n){var r=n("sQ1z"),i=n("8ouO");t.exports=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},"W+Pj":function(t,e,n){n("KBN1"),t.exports=n("Autd").String.startsWith},Wcq6:function(t,e,n){"use strict";n("lcbw");var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},ZYCi:function(t,e,n){"use strict";var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=n("F/XL"),s=n("0/uQ"),u=n("26FU"),c=n("6blF");function l(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}l.prototype=Object.create(Error.prototype);var h=l,f=n("nkY7"),d=n("isby"),p=n("MGBS"),m=n("zotm"),y=n("IUTb"),v={},g=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new b(t,this.resultSelector))},t}(),b=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.d(e,t),e.prototype._next=function(t){this.values.push(v),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(m.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===v?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(p.a),w=n("G5J1");function S(t){return new c.a(function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(s.a)(n):Object(w.b)()).subscribe(e)})}var E=n("K9Ia"),_=n("67Y/"),T=n("Zn8D");function I(){return Object(T.a)(1)}var C=n("VnD/"),k=n("FFOo"),A=n("b7mW");function O(t){return function(e){return 0===t?Object(w.b)():e.lift(new x(t))}}var x=function(){function t(t){if(this.total=t,this.total<0)throw new A.a}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.total))},t}(),D=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(k.a),N=n("+umK"),R=n("2Bdj");function P(t,e,n){return function(r){return r.lift(new j(t,e,n))}}var j=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.nextOrObserver,this.error,this.complete))},t}(),M=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=N.a,o._tapError=N.a,o._tapComplete=N.a,o._tapError=r||N.a,o._tapComplete=i||N.a,Object(R.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||N.a,o._tapError=n.error||N.a,o._tapComplete=n.complete||N.a),o}return r.d(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(k.a),L=function(t){return void 0===t&&(t=U),P({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function U(){return new h}function F(t){return void 0===t&&(t=null),function(e){return e.lift(new q(t))}}var q=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.defaultValue))},t}(),V=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.d(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(k.a),B=n("mChF");function z(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(C.a)(function(e,n){return t(e,n,r)}):B.a,O(1),n?F(e):L(function(){return new h}))}}var H=n("rPjj");function W(t){return function(e){var n=new K(t),r=e.lift(n);return n.caught=r}}var K=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new G(t,this.selector,this.caught))},t}(),G=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.d(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new H.a(this,void 0,void 0);this.add(r),Object(m.a)(this,n,void 0,void 0,r)}},e}(p.a),Q=n("t9fZ");function Y(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(C.a)(function(e,n){return t(e,n,r)}):B.a,Object(Q.a)(1),n?F(e):L(function(){return new h}))}}var X=n("psW0"),Z=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new J(t,this.predicate,this.thisArg,this.source))},t}(),J=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.d(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(k.a),$=n("15JJ"),tt=n("PU8L"),et=n("dC0D");function nt(t,e){return Object(X.a)(t,e,1)}var rt=n("y3By"),it=n("pugT"),ot=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.callback))},t}(),at=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new it.a(n)),r}return r.d(e,t),e}(k.a),st=n("ZYjt");n.d(e,"u",function(){return qn}),n.d(e,"B",function(){return Xn}),n.d(e,"w",function(){return Hn}),n.d(e,"C",function(){return Zn}),n.d(e,"D",function(){return Jn}),n.d(e,"y",function(){return Kn}),n.d(e,"x",function(){return Wn}),n.d(e,"A",function(){return Yn}),n.d(e,"v",function(){return Bn}),n.d(e,"z",function(){return Qn}),n.d(e,"E",function(){return Un}),n.d(e,"n",function(){return An}),n.d(e,"p",function(){return Nn}),n.d(e,"d",function(){return ct}),n.d(e,"l",function(){return gn}),n.d(e,"m",function(){return kn}),n.d(e,"k",function(){return wn}),n.d(e,"i",function(){return Fn}),n.d(e,"j",function(){return $n}),n.d(e,"o",function(){return zn}),n.d(e,"b",function(){return Dn}),n.d(e,"e",function(){return Mn}),n.d(e,"g",function(){return jn}),n.d(e,"h",function(){return Pn}),n.d(e,"q",function(){return Ln}),n.d(e,"a",function(){return ye}),n.d(e,"f",function(){return Ct}),n.d(e,"r",function(){return En}),n.d(e,"c",function(){return Yt}),n.d(e,"s",function(){return Qt}),n.d(e,"t",function(){return It});var ut=function(){return function(t,e){this.id=t,this.url=e}}(),ct=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(ut),lt=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(ut),ht=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(ut),ft=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return Object(r.d)(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(ut),dt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ut),pt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ut),mt=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return Object(r.d)(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(ut),yt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ut),vt=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return Object(r.d)(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(ut),gt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),bt=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),wt=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),St=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Et=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),_t=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Tt=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),It=function(){return function(){}}(),Ct="primary",kt=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function At(t){return new kt(t)}var Ot="ngNavigationCancelingError";function xt(t){var e=Error("NavigationCancelingError: "+t);return e[Ot]=!0,e}function Dt(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var Nt=function(){return function(t,e){this.routes=t,this.module=e}}();function Rt(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Pt(r,jt(e,r))}}function Pt(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Ct)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Rt(t.children,e)}function jt(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Mt(t){var e=t.children&&t.children.map(Mt),n=e?Object(r.a)({},t,{children:e}):Object(r.a)({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ct&&(n.component=It),n}function Lt(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(t[n=r[o]]!==e[n])return!1;return!0}function Ut(t){return Array.prototype.concat.apply([],t)}function Ft(t){return t.length>0?t[t.length-1]:null}function qt(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Vt(t){return Object(o.sb)(t)?t:Object(o.tb)(t)?Object(s.a)(Promise.resolve(t)):Object(a.a)(t)}function Bt(t,e,n){return n?function(t,e){return Lt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Kt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Kt(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Kt(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Kt(n.segments,a)&&!!n.children[Ct]&&e(n.children[Ct],r,s)}(e,n,n.segments)}(t.root,e.root)}var zt=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Xt.serialize(this)},t}(),Ht=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,qt(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Zt(this)},t}(),Wt=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=At(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return re(this)},t}();function Kt(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function Gt(t,e){var n=[];return qt(t.children,function(t,r){r===Ct&&(n=n.concat(e(t,r)))}),qt(t.children,function(t,r){r!==Ct&&(n=n.concat(e(t,r)))}),n}var Qt=function(){return function(){}}(),Yt=function(){function t(){}return t.prototype.parse=function(t){var e=new ue(t);return new zt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Zt(e);if(n){var r=e.children[Ct]?t(e.children[Ct],!1):"",i=[];return qt(e.children,function(e,n){n!==Ct&&i.push(n+":"+t(e,!1))}),i.length>0?r+"("+i.join("//")+")":r}var o=Gt(e,function(n,r){return r===Ct?[t(e.children[Ct],!1)]:[r+":"+t(n,!1)]});return Zt(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return $t(t)+"="+$t(e)}).join("&"):$t(t)+"="+$t(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),Xt=new Yt;function Zt(t){return t.segments.map(function(t){return re(t)}).join("/")}function Jt(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $t(t){return Jt(t).replace(/%3B/gi,";")}function te(t){return Jt(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ee(t){return decodeURIComponent(t)}function ne(t){return ee(t.replace(/\+/g,"%20"))}function re(t){return""+te(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+te(t)+"="+te(e[t])}).join(""));var e}var ie=/^[^\/()?;=#]+/;function oe(t){var e=t.match(ie);return e?e[0]:""}var ae=/^[^=?&#]+/,se=/^[^?&#]+/,ue=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Ct]=new Ht(t,e)),n},t.prototype.parseSegment=function(){var t=oe(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Wt(ee(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=oe(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=oe(this.remaining);r&&this.capture(n=r)}t[ee(e)]=ee(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(ae))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(se);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=ne(n),a=ne(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=oe(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ct);var o=this.parseChildren();e[i]=1===Object.keys(o).length?o[Ct]:new Ht([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),ce=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=le(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=le(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=he(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return he(t,this._root).map(function(t){return t.value})},t}();function le(t,e){var n,i;if(t===e.value)return e;try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=le(t,a.value);if(s)return s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return null}function he(t,e){var n,i;if(t===e.value)return[e];try{for(var o=Object(r.j)(e.children),a=o.next();!a.done;a=o.next()){var s=he(t,a.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return[]}var fe=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function de(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var pe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,we(r,e),r}return Object(r.d)(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(ce);function me(t,e){var n=function(t,e){var n=new ge([],{},{},"",{},Ct,e,null,t.root,-1,{});return new be("",new fe(n,[]))}(t,e),r=new u.a([new Wt("",{})]),i=new u.a({}),o=new u.a({}),a=new u.a({}),s=new u.a(""),c=new ye(r,i,a,s,o,Ct,e,n.root);return c.snapshot=n.root,new pe(new fe(c,[]),n)}var ye=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(_.a)(function(t){return At(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(_.a)(function(t){return At(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function ve(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var o=n[i],a=n[i-1];if(o.routeConfig&&""===o.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object(r.a)({},t.params,e.params),data:Object(r.a)({},t.data,e.data),resolve:Object(r.a)({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var ge=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=At(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=At(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),be=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,we(r,n),r}return Object(r.d)(e,t),e.prototype.toString=function(){return Se(this._root)},e}(ce);function we(t,e){e.value._routerState=t,e.children.forEach(function(e){return we(t,e)})}function Se(t){var e=t.children.length>0?" { "+t.children.map(Se).join(", ")+" } ":"";return""+t.value+e}function Ee(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Lt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Lt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Lt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Lt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function _e(t,e){var n,r;return Lt(t.params,e.params)&&Kt(n=t.url,r=e.url)&&n.every(function(t,e){return Lt(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||_e(t.parent,e.parent))}function Te(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ie(t,e,n,r,i){var o={};return r&&qt(r,function(t,e){o[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new zt(n.root===t?e:function t(e,n,r){var i={};return qt(e.children,function(e,o){i[o]=e===n?r:t(e,n,r)}),new Ht(e.segments,i)}(n.root,t,e),o,i)}var Ce=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Te(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Ft(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),ke=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Ae(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Ct]:""+t}function Oe(t,e,n){if(t||(t=new Ht([],{})),0===t.segments.length&&t.hasChildren())return xe(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Ae(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Pe(s,u,a))return o;r+=2}else{if(!Pe(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Ht(t.segments.slice(0,r.pathIndex),{});return o.children[Ct]=new Ht(t.segments.slice(r.pathIndex),t.children),xe(o,0,i)}return r.match&&0===i.length?new Ht(t.segments,{}):r.match&&!t.hasChildren()?De(t,e,n):r.match?xe(t,0,i):De(t,e,n)}function xe(t,e,n){if(0===n.length)return new Ht(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Ct]=t,e):void 0===t[0].outlets?((n={})[Ct]=t,n):t[0].outlets}(n),i={};return qt(r,function(n,r){null!==n&&(i[r]=Oe(t.children[r],e,n))}),qt(t.children,function(t,e){void 0===r[e]&&(i[e]=t)}),new Ht(t.segments,i)}function De(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Ne(n[i].outlets);return new Ht(r,o)}if(0===i&&Te(n[0]))r.push(new Wt(t.segments[e].path,n[0])),i++;else{var a=Ae(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Te(s)?(r.push(new Wt(a,Re(s))),i+=2):(r.push(new Wt(a,{})),i++)}}return new Ht(r,{})}function Ne(t){var e={};return qt(t,function(t,n){null!==t&&(e[n]=De(new Ht([],{}),0,t))}),e}function Re(t){var e={};return qt(t,function(t,n){return e[n]=""+t}),e}function Pe(t,e,n){return t==n.path&&Lt(e,n.parameters)}var je=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ee(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=de(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]}),qt(i,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=de(t),o=t.value.component?r.children:e;qt(i,function(t,e){return n.deactivateRouteAndItsChildren(t,o)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=de(e);t.children.forEach(function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new _t(t.value.snapshot))}),t.children.length&&this.forwardEvent(new St(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(Ee(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Me(a.route)}else{var s=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Me(t){Ee(t.value),t.children.forEach(Me)}function Le(t){return"function"==typeof t}function Ue(t){return t instanceof zt}var Fe=function(){return function(t){this.segmentGroup=t||null}}(),qe=function(){return function(t){this.urlTree=t}}();function Ve(t){return new c.a(function(e){return e.error(new Fe(t))})}function Be(t){return new c.a(function(e){return e.error(new qe(t))})}function ze(t){return new c.a(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var He=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(o.x)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Ct).pipe(Object(_.a)(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(W(function(e){if(e instanceof qe)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Fe)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ct).pipe(Object(_.a)(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(W(function(t){if(t instanceof Fe)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Ht([],((r={})[Ct]=t,r)):t;return new zt(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(_.a)(function(t){return new Ht([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(a.a)({});var o=[],s=[],u={};return qt(n,function(n,i){var a,c,l=(a=i,c=n,r.expandSegmentGroup(t,e,c,a)).pipe(Object(_.a)(function(t){return u[i]=t}));i===Ct?o.push(l):s.push(l)}),a.a.apply(null,o.concat(s)).pipe(I(),z(),Object(_.a)(function(){return u}))}(n.children)},t.prototype.expandSegment=function(t,e,n,i,o,s){var u=this;return a.a.apply(void 0,Object(r.i)(n)).pipe(Object(_.a)(function(r){return u.expandSegmentAgainstRoute(t,e,n,r,i,o,s).pipe(W(function(t){if(t instanceof Fe)return Object(a.a)(null);throw t}))}),I(),Y(function(t){return!!t}),W(function(t,n){if(t instanceof h||"EmptyError"===t.name){if(u.noLeftoversInUrl(e,i,o))return Object(a.a)(new Ht([],{}));throw new Fe(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Qe(r)!==o?Ve(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ve(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Be(o):this.lineralizeSegments(n,o).pipe(Object(X.a)(function(n){var o=new Ht(n,{});return i.expandSegment(t,o,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=We(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Ve(e);var h=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Be(h):this.lineralizeSegments(r,h).pipe(Object(X.a)(function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,i){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(_.a)(function(t){return n._loadedConfig=t,new Ht(i,{})})):Object(a.a)(new Ht(i,{}));var s=We(e,n,i),u=s.consumedSegments,c=s.lastChild;if(!s.matched)return Ve(e);var l=i.slice(c);return this.getChildConfig(t,n,i).pipe(Object(X.a)(function(t){var n=t.module,i=t.routes,s=function(t,e,n,i){return n.length>0&&function(t,e,n){return i.some(function(n){return Ge(t,e,n)&&Qe(n)!==Ct})}(t,n)?{segmentGroup:Ke(new Ht(e,function(t,e){var n,i,o={};o[Ct]=e;try{for(var a=Object(r.j)(t),s=a.next();!s.done;s=a.next()){var u=s.value;""===u.path&&Qe(u)!==Ct&&(o[Qe(u)]=new Ht([],{}))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}(i,new Ht(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return i.some(function(n){return Ge(t,e,n)})}(t,n)?{segmentGroup:Ke(new Ht(t.segments,function(t,e,n,i){var o,a,s={};try{for(var u=Object(r.j)(n),c=u.next();!c.done;c=u.next()){var l=c.value;Ge(t,e,l)&&!i[Qe(l)]&&(s[Qe(l)]=new Ht([],{}))}}catch(h){o={error:h}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return Object(r.a)({},i,s)}(t,n,i,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,l,i),c=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&c.hasChildren()?o.expandChildren(n,i,c).pipe(Object(_.a)(function(t){return new Ht(u,t)})):0===i.length&&0===h.length?Object(a.a)(new Ht(u,{})):o.expandSegment(n,c,i,h,Ct,!0).pipe(Object(_.a)(function(t){return new Ht(u.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Object(a.a)(new Nt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(a.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(s.a)(i).pipe(Object(_.a)(function(r){var i,o=t.get(r);if(function(t){return t&&Le(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Le(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Vt(i)})).pipe(I(),(r=function(t){return!0===t},function(t){return t.lift(new Z(r,void 0,t))})):Object(a.a)(!0)}(t.injector,e,n).pipe(Object(X.a)(function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(_.a)(function(t){return e._loadedConfig=t,t})):function(t){return new c.a(function(e){return e.error(xt("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Object(a.a)(new Nt([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(a.a)(n);if(r.numberOfChildren>1||!r.children[Ct])return ze(t.redirectTo);r=r.children[Ct]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new zt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return qt(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return qt(e.children,function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)}),new Ht(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,i,o=0;try{for(var a=Object(r.j)(e),s=a.next();!s.done;s=a.next()){var u=s.value;if(u.path===t.path)return e.splice(o),u;o++}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return t},t}();function We(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Dt)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ke(t){if(1===t.numberOfChildren&&t.children[Ct]){var e=t.children[Ct];return new Ht(t.segments.concat(e.segments),e.children)}return t}function Ge(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Qe(t){return t.outlet||Ct}var Ye=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),Xe=function(){return function(t,e){this.component=t,this.route=e}}();function Ze(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Je(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=de(e);return t.children.forEach(function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Kt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Kt(t.url,e.url)||!Lt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_e(t,e)||!Lt(t.queryParams,e.queryParams);case"paramsChange":default:return!_e(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ye(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Je(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new Xe(s&&s.outlet&&s.outlet.component||null,a))}else a&&$e(e,s,i),i.canActivateChecks.push(new Ye(r)),Je(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),qt(o,function(t,e){return $e(t,n.getContext(e),i)}),i}function $e(t,e,n){var r=de(t),i=t.value;qt(r,function(t,r){$e(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Xe(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var tn=Symbol("INITIAL_VALUE");function en(){return Object($.a)(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(f.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(d.a)(t[0])&&(t=t[0]),Object(y.a)(t,r).lift(new g(n))}).apply(void 0,Object(r.i)(t.map(function(t){return t.pipe(Object(Q.a)(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n=t[t.length-1];Object(f.a)(n)?t.pop():n=null;var r=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&Object(f.a)(t[1])?Object(s.a)(t[0]):I()(a.a.apply(void 0,t))}(1!==r||n?r>0?Object(y.a)(t,n):Object(w.b)(n):Object(tt.a)(t[0]),e)}}(tn))}))).pipe(Object(et.a)(function(t,e){var n=!1;return e.reduce(function(t,r,i){if(t!==tn)return t;if(r===tn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ue(r))return r}return t},t)},tn),Object(C.a)(function(t){return t!==tn}),Object(_.a)(function(t){return Ue(t)?t:!0===t}),Object(Q.a)(1))})}function nn(t,e){return null!==t&&e&&e(new Et(t)),Object(a.a)(!0)}function rn(t,e){return null!==t&&e&&e(new wt(t)),Object(a.a)(!0)}function on(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(a.a)(!0);var i=r.map(function(r){return S(function(){var i,o=Ze(r,e,n);if(function(t){return t&&Le(t.canActivate)}(o))i=Vt(o.canActivate(e,t));else{if(!Le(o))throw new Error("Invalid CanActivate guard");i=Vt(o(e,t))}return i.pipe(Y())})});return Object(a.a)(i).pipe(en())}function an(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return S(function(){var i=e.guards.map(function(i){var o,a=Ze(i,e.node,n);if(function(t){return t&&Le(t.canActivateChild)}(a))o=Vt(a.canActivateChild(r,t));else{if(!Le(a))throw new Error("Invalid CanActivateChild guard");o=Vt(a(r,t))}return o.pipe(Y())});return Object(a.a)(i).pipe(en())})});return Object(a.a)(i).pipe(en())}var sn=function(){return function(){}}(),un=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=hn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ct),n=new ge([],Object.freeze({}),Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ct,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new fe(n,e),o=new be(this.url,i);return this.inheritParamsAndData(o._root),Object(a.a)(o)}catch(s){return new c.a(function(t){return t.error(s)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=ve(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Gt(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},i.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Ct?-1:e.value.outlet===Ct?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,n,i){var o,a;try{for(var s=Object(r.j)(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,i)}catch(l){if(!(l instanceof sn))throw l}}}catch(h){o={error:h}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,i))return[];throw new sn},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,i){if(t.redirectTo)throw new sn;if((t.outlet||Ct)!==i)throw new sn;var o,a=[],s=[];if("**"===t.path){var u=n.length>0?Ft(n).parameters:{};o=new ge(n,u,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,pn(t),i,t.component,t,cn(e),ln(e)+n.length,mn(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new sn;return{consumedSegments:[],lastChild:0,parameters:{}}}var i=(e.matcher||Dt)(n,t,e);if(!i)throw new sn;var o={};qt(i.posParams,function(t,e){o[e]=t.path});var a=i.consumed.length>0?Object(r.a)({},o,i.consumed[i.consumed.length-1].parameters):o;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,s=n.slice(c.lastChild),o=new ge(a,c.parameters,Object.freeze(Object(r.a)({},this.urlTree.queryParams)),this.urlTree.fragment,pn(t),i,t.component,t,cn(e),ln(e)+a.length,mn(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=hn(e,a,s,l,this.relativeLinkResolution),f=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&f.hasChildren()){var p=this.processChildren(l,f);return[new fe(o,p)]}if(0===l.length&&0===d.length)return[new fe(o,[])];var m=this.processSegment(l,f,d,Ct);return[new fe(o,m)]},t}();function cn(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function ln(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function hn(t,e,n,i,o){if(n.length>0&&function(t,e,n){return i.some(function(n){return fn(t,e,n)&&dn(n)!==Ct})}(t,n)){var a=new Ht(e,function(t,e,n,i){var o,a,s={};s[Ct]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;try{for(var u=Object(r.j)(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l.path&&dn(l)!==Ct){var h=new Ht([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[dn(l)]=h}}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return s}(t,e,i,new Ht(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return i.some(function(n){return fn(t,e,n)})}(t,n)){var s=new Ht(t.segments,function(t,e,n,i,o,a){var s,u,c={};try{for(var l=Object(r.j)(i),h=l.next();!h.done;h=l.next()){var f=h.value;if(fn(t,n,f)&&!o[dn(f)]){var d=new Ht([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===a?t.segments.length:e.length,c[dn(f)]=d}}}catch(p){s={error:p}}finally{try{h&&!h.done&&(u=l.return)&&u.call(l)}finally{if(s)throw s.error}}return Object(r.a)({},o,c)}(t,e,n,i,t.children,o));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}var u=new Ht(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}function fn(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function dn(t){return t.outlet||Ct}function pn(t){return t.data||{}}function mn(t){return t.resolve||{}}function yn(t,e,n,r){var i=Ze(t,e,r);return Vt(i.resolve?i.resolve(e,n):i(e,n))}function vn(t){return function(e){return e.pipe(Object($.a)(function(e){var n=t(e);return n?Object(s.a)(n).pipe(Object(_.a)(function(){return e})):Object(s.a)([e])}))}}var gn=function(){return function(){}}(),bn=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),wn=new o.p("ROUTES"),Sn=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(_.a)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new Nt(Ut(i.injector.get(wn)).map(Mt),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?Object(s.a)(this.loader.load(t)):Vt(t()).pipe(Object(X.a)(function(t){return t instanceof o.v?Object(a.a)(t):Object(s.a)(e.compiler.compileModuleAsync(t))}))},t}(),En=function(){return function(){}}(),_n=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Tn(t){throw t}function In(t,e,n){return e.parse("/")}function Cn(t,e){return Object(a.a)(null)}var kn=function(){function t(t,e,n,r,i,a,s,c){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new E.a,this.errorHandler=Tn,this.malformedUriErrorHandler=In,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Cn,afterPreactivation:Cn},this.urlHandlingStrategy=new _n,this.routeReuseStrategy=new bn,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(o.x),this.console=i.get(o.cb);var h=i.get(o.z);this.isNgZoneEnabled=h instanceof o.z,this.resetConfig(c),this.currentUrlTree=new zt(new Ht([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sn(a,s,function(t){return l.triggerEvent(new gt(t))},function(t){return l.triggerEvent(new bt(t))}),this.routerState=me(this.currentUrlTree,this.rootComponentType),this.transitions=new u.a({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Object(C.a)(function(t){return 0!==t.id}),Object(_.a)(function(t){return Object(r.a)({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),P(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object(r.a)({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),Object($.a)(function(t){var i,o,c,l,h=!1,f=!1;return Object(a.a)(t).pipe(Object($.a)(function(t){var i,o,s,u,c=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||c)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(a.a)(t).pipe(Object($.a)(function(t){var r=e.transitions.getValue();return n.next(new ct(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?w.a:[t]}),Object($.a)(function(t){return Promise.resolve(t)}),(i=e.ngModule.injector,o=e.configLoader,s=e.urlSerializer,u=e.config,function(t){return t.pipe(Object($.a)(function(t){return function(e,n,r,i,o){return new He(e,n,r,t.extractedUrl,o).apply()}(i,o,s,0,u).pipe(Object(_.a)(function(e){return Object(r.a)({},t,{urlAfterRedirects:e})}))}))}),P(function(t){e.currentNavigation=Object(r.a)({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,n,i,o,a){return function(i){return i.pipe(Object(X.a)(function(i){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new un(t,e,n,r,i,o).recognize()}(t,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,e.serializeUrl(s)),o,a).pipe(Object(_.a)(function(t){return Object(r.a)({},i,{targetSnapshot:t})}));var s}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),P(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),P(function(t){var r=new dt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(c&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.extractedUrl,h=t.source,f=t.restoredState,d=t.extras,p=new ct(t.id,e.serializeUrl(l),h,f);n.next(p);var m=me(l,e.rootComponentType).snapshot;return Object(a.a)(Object(r.a)({},t,{targetSnapshot:m,urlAfterRedirects:l,extras:Object(r.a)({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),w.a}),vn(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),P(function(t){var n=new pt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),Object(_.a)(function(t){return Object(r.a)({},t,{guards:(n=t.targetSnapshot,i=t.currentSnapshot,o=e.rootContexts,a=n._root,Je(a,i?i._root:null,o,[a.value]))});var n,i,o,a}),function(t,e){return function(n){return n.pipe(Object(X.a)(function(n){var i=n.targetSnapshot,o=n.currentSnapshot,u=n.guards,c=u.canActivateChecks,l=u.canDeactivateChecks;return 0===l.length&&0===c.length?Object(a.a)(Object(r.a)({},n,{guardsResult:!0})):function(t,e,n,r){return Object(s.a)(t).pipe(Object(X.a)(function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(a.a)(!0);var s=o.map(function(o){var a,s=Ze(o,e,i);if(function(t){return t&&Le(t.canDeactivate)}(s))a=Vt(s.canDeactivate(t,e,n,r));else{if(!Le(s))throw new Error("Invalid CanDeactivate guard");a=Vt(s(t,e,n,r))}return a.pipe(Y())});return Object(a.a)(s).pipe(en())}(t.component,t.route,n,e,r)}),Y(function(t){return!0!==t},!0))}(l,i,o,t).pipe(Object(X.a)(function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(s.a)(e).pipe(nt(function(e){return Object(s.a)([rn(e.route.parent,r),nn(e.route,r),an(t,e.path,n),on(t,e.route,n)]).pipe(I(),Y(function(t){return!0!==t},!0))}),Y(function(t){return!0!==t},!0))}(i,c,t,e):Object(a.a)(n)}),Object(_.a)(function(t){return Object(r.a)({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),P(function(t){if(Ue(t.guardsResult)){var n=xt('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}}),P(function(t){var n=new mt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),Object(C.a)(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new ht(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),vn(function(t){if(t.guards.canActivateChecks.length)return Object(a.a)(t).pipe(P(function(t){var n=new yt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,i=e.ngModule.injector,function(t){return t.pipe(Object(X.a)(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?Object(s.a)(o).pipe(nt(function(t){return function(t,n,i,o){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(a.a)({});if(1===i.length){var o=i[0];return yn(t[o],e,n,r).pipe(Object(_.a)(function(t){var e;return(e={})[o]=t,e}))}var u={};return Object(s.a)(i).pipe(Object(X.a)(function(i){return yn(t[i],e,n,r).pipe(Object(_.a)(function(t){return u[i]=t,t}))})).pipe(z(),Object(_.a)(function(){return u}))}(t._resolve,t,e,o).pipe(Object(_.a)(function(e){return t._resolvedData=e,t.data=Object(r.a)({},t.data,ve(t,i).resolve),null}))}(t.route,0,n,i)}),function(t,e){return arguments.length>=2?function(e){return Object(rt.a)(Object(et.a)(t,void 0),O(1),F(void 0))(e)}:function(e){return Object(rt.a)(Object(et.a)(function(e,n,r){return t(e)}),O(1))(e)}}(function(t,e){return t}),Object(_.a)(function(e){return t})):Object(a.a)(t)}))}),P(function(t){var n=new vt(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,i}),vn(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),Object(_.a)(function(t){var n,i,o,a=(o=function t(e,n,i){if(i&&e.shouldReuseRoute(n.value,i.value.snapshot)){(l=i.value)._futureSnapshot=n.value;var o=function(e,n,i){return n.children.map(function(n){var o,a;try{for(var s=Object(r.j)(i.children),u=s.next();!u.done;u=s.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(l){o={error:l}}finally{try{u&&!u.done&&(a=s.return)&&a.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,i);return new fe(l,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var c,l=new ye(new u.a((c=n.value).url),new u.a(c.params),new u.a(c.queryParams),new u.a(c.fragment),new u.a(c.data),c.outlet,c.component,c);return o=n.children.map(function(n){return t(e,n)}),new fe(l,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(i=t.currentRouterState)?i._root:void 0),new pe(o,n));return Object(r.a)({},t,{targetRouterState:a})}),P(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(o=e.rootContexts,c=e.routeReuseStrategy,l=function(t){return e.triggerEvent(t)},Object(_.a)(function(t){return new je(c,t.targetRouterState,t.currentRouterState,l).activate(o),t})),P({next:function(){h=!0},complete:function(){h=!0}}),(i=function(){if(!h&&!f){e.resetUrlToCurrentUrlTree();var r=new ht(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new ot(i))}),W(function(r){if(f=!0,(s=r)&&s[Ot]){var i=Ue(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new ht(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1),i&&e.navigateByUrl(r.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ft(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return w.a}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(Object(r.a)({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Rt(t),this.config=t.map(Mt),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,i=e.queryParams,a=e.fragment,s=e.preserveQueryParams,u=e.queryParamsHandling,c=e.preserveFragment;Object(o.X)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,h=c?this.currentUrlTree.fragment:a,f=null;if(u)switch(u){case"merge":f=Object(r.a)({},this.currentUrlTree.queryParams,i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}else f=s?this.currentUrlTree.queryParams:i||null;return null!==f&&(f=this.removeEmptyProps(f)),function(t,e,n,i,o){if(0===n.length)return Ie(e.root,e.root,e,i,o);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Ce(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,o){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return qt(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),Object(r.i)(t,[{outlets:a}])}if(i.segmentPath)return Object(r.i)(t,[i.segmentPath])}return"string"!=typeof i?Object(r.i)(t,[i]):0===o?(i.split("/").forEach(function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):Object(r.i)(t,[i])},[]);return new Ce(n,e,i)}(n);if(a.toRoot())return Ie(e.root,new Ht([],{}),e,i,o);var s=function(t,n,r){if(t.isAbsolute)return new ke(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new ke(r.snapshot._urlSegment,!0,0);var i=Te(t.commands[0])?0:1;return function(e,n,o){for(var a=r.snapshot._urlSegment,s=r.snapshot._lastPathIndex+i,u=t.numberOfDoubleDots;u>s;){if(u-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new ke(a,!1,s-u)}()}(a,0,t),u=s.processChildren?xe(s.segmentGroup,s.index,a.commands):Oe(s.segmentGroup,s.index,a.commands);return Ie(s.segmentGroup,u,e,i,o)}(l,this.currentUrlTree,t,f,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Object(o.X)()&&this.isNgZoneEnabled&&!o.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Ue(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(Ue(t))return Bt(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Bt(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new lt(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var o=null,a=null,s=new Promise(function(t,e){o=t,a=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n,i){var o=this.urlSerializer.serialize(t);i=i||{},this.location.isCurrentPathEqualTo(o)||e?this.location.replaceState(o,"",Object(r.a)({},i,{navigationId:n})):this.location.go(o,"",Object(r.a)({},i,{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),An=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Object(o.X)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:On(this.skipLocationChange),replaceUrl:On(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:On(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:On(this.preserveFragment)})},enumerable:!0,configurable:!0}),t}();function On(t){return""===t||!!t}var xn=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Dn,this.attachRef=null}}(),Dn=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new xn,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Nn=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.m,this.deactivateEvents=new o.m,this.name=r||Ct,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Rn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Rn=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===ye?this.route:t===Dn?this.childContexts:this.parent.get(t,e)},t}(),Pn=function(){return function(){}}(),jn=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(W(function(){return Object(a.a)(null)}))},t}(),Mn=function(){function t(){}return t.prototype.preload=function(t,e){return Object(a.a)(null)},t}(),Ln=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Sn(e,n,function(e){return t.triggerEvent(new gt(e))},function(e){return t.triggerEvent(new bt(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Object(C.a)(function(t){return t instanceof lt}),nt(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(o.x);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,i,o=[];try{for(var a=Object(r.j)(e),u=a.next();!u.done;u=a.next()){var c=u.value;if(c.loadChildren&&!c.canLoad&&c._loadedConfig){var l=c._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children))}}catch(h){n={error:h}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return Object(s.a)(o).pipe(Object(T.a)(),Object(_.a)(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(Object(X.a)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Un=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof ct?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof lt&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Tt&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Tt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Fn=new o.p("ROUTER_CONFIGURATION"),qn=new o.p("ROUTER_FORROOT_GUARD"),Vn=[i.f,{provide:Qt,useClass:Yt},{provide:kn,useFactory:Qn,deps:[o.g,Qt,Dn,i.f,o.q,o.w,o.i,wn,Fn,[En,new o.A],[gn,new o.A]]},Dn,{provide:ye,useFactory:Yn,deps:[kn]},{provide:o.w,useClass:o.J},Ln,Mn,jn,{provide:Fn,useValue:{enableTracing:!1}}];function Bn(){return new o.y("Router",kn)}var zn=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[Vn,Gn(t),{provide:qn,useFactory:Kn,deps:[[kn,new o.A,new o.I]]},{provide:Fn,useValue:n||{}},{provide:i.g,useFactory:Wn,deps:[i.m,[new o.o(i.a),new o.A],Fn]},{provide:Un,useFactory:Hn,deps:[kn,i.n,Fn]},{provide:Pn,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Mn},{provide:o.y,multi:!0,useFactory:Bn},[Xn,{provide:o.d,multi:!0,useFactory:Zn,deps:[Xn]},{provide:$n,useFactory:Jn,deps:[Xn]},{provide:o.b,multi:!0,useExisting:$n}]]}},t.forChild=function(t){return{ngModule:e,providers:[Gn(t)]}},t}();function Hn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Un(t,e,n)}function Wn(t,e,n){return void 0===n&&(n={}),n.useHash?new i.d(t,e):new i.l(t,e)}function Kn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Gn(t){return[{provide:o.a,multi:!0,useValue:t},{provide:wn,multi:!0,useValue:t}]}function Qn(t,e,n,r,i,o,a,s,u,c,l){void 0===u&&(u={});var h=new kn(null,e,n,r,i,o,a,Ut(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=Object(st.r)();h.events.subscribe(function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Yn(t){return t.routerState.root}var Xn=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new E.a}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(i.e,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(kn),i=t.injector.get(Fn);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Object(a.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Fn),n=this.injector.get(Ln),r=this.injector.get(Un),i=this.injector.get(kn),a=this.injector.get(o.g);t===a.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function Zn(t){return t.appInitializer.bind(t)}function Jn(t){return t.bootstrapListener.bind(t)}var $n=new o.p("Router Initializer")},ZYjt:function(t,e,n){"use strict";n.d(e,"p",function(){return vt}),n.d(e,"q",function(){return C}),n.d(e,"a",function(){return gt}),n.d(e,"h",function(){return yt}),n.d(e,"c",function(){return k}),n.d(e,"d",function(){return A}),n.d(e,"e",function(){return tt}),n.d(e,"f",function(){return et}),n.d(e,"g",function(){return nt}),n.d(e,"b",function(){return st}),n.d(e,"r",function(){return s}),n.d(e,"j",function(){return U}),n.d(e,"i",function(){return J}),n.d(e,"m",function(){return rt}),n.d(e,"n",function(){return at}),n.d(e,"l",function(){return D}),n.d(e,"o",function(){return x}),n.d(e,"k",function(){return ut});var r=n("mrSG"),i=n("Ip0R"),o=n("CcnG"),a=null;function s(){return a}var u,c={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},l={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},h={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};o.qb.Node&&(u=o.qb.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var f,d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,a||(a=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var i;(i=t)[e].apply(i,Object(r.i)(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return c},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return u.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var i=n.item(r);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&h.hasOwnProperty(e)&&(e=h[e]))}return l[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=p||(p=document.querySelector("base"))?p.getAttribute("href"):null;return null==n?null:(e=n,f||(f=document.createElement("a")),f.setAttribute("href",e),"/"===f.pathname.charAt(0)?f.pathname:"/"+f.pathname)},e.prototype.resetBaseElement=function(){p=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Object(i.s)(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],i=0;i<r.length;i++)if(null!=e.getStyle(n,r[i]+"AnimationName")){e._animationPrefix="-"+r[i].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=o[t])})}catch(a){e._animationPrefix=null,e._transitionEnd=null}return e}return Object(r.d)(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),p=null,m=i.c;function y(){return!!window.history.pushState}var v=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return Object(r.d)(e,t),e.prototype._init=function(){this.location=s().getLocation(),this._history=s().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return s().getBaseHref(this._doc)},e.prototype.onPopState=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){y()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){y()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},Object(r.c)([Object(r.g)(0,Object(o.o)(m)),Object(r.f)("design:paramtypes",[Object])],e)}(i.m),g=new o.p("TRANSITION_ID"),b=[{provide:o.d,useFactory:function(t,e,n){return function(){n.get(o.e).donePromise.then(function(){var n=s();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[g,m,o.q],multi:!0}],w=function(){function t(){}return t.init=function(){Object(o.Z)(new t)},t.prototype.addToWindow=function(t){o.qb.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},o.qb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},o.qb.getAllAngularRootElements=function(){return t.getAllRootElements()},o.qb.frameworkStabilizers||(o.qb.frameworkStabilizers=[]),o.qb.frameworkStabilizers.push(function(t){var e=o.qb.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,s().getHost(e),!0):this.findTestabilityInTree(t,s().parentElement(e),!0):null},t}();function S(t,e){"undefined"!=typeof COMPILED&&COMPILED||((o.qb.ng=o.qb.ng||{})[t]=e)}var E={ApplicationRef:o.g,NgZone:o.z},_="probe",T="coreTokens";function I(t){return Object(o.V)(t)}function C(t){return S(_,I),S(T,Object(r.a)({},E,(t||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return I}}var k=new o.p("EventManagerPlugins"),A=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),O=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),x=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),D=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return Object(r.d)(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return s().remove(t)})},e}(x),N={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},R=/%COMP%/g,P="_nghost-%COMP%",j="_ngcontent-%COMP%";function M(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?M(t,i,n):(i=i.replace(R,t),n.push(i))}return n}function L(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var U=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new F(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case o.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new z(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case o.P.Native:case o.P.ShadowDom:return new H(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=M(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),F=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(N[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=N[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=N[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&o.F.DashCase?t.style.setProperty(e,n,r&o.F.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&o.F.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){V(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return V(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,L(n)):this.eventManager.addEventListener(t,e,L(n))},t}(),q="@".charCodeAt(0);function V(t,e){if(t.charCodeAt(0)===q)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var B,z=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.component=r;var o=M(r.id,r.styles,[]);return n.addStyles(o),i.contentAttr=j.replace(R,r.id),i.hostAttr=P.replace(R,r.id),i}return Object(r.d)(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(F),H=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;a.sharedStylesHost=n,a.hostEl=r,a.component=i,a.shadowRoot=i.encapsulation===o.P.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),a.sharedStylesHost.addHost(a.shadowRoot);for(var s=M(i.id,i.styles,[]),u=0;u<s.length;u++){var c=document.createElement("style");c.textContent=s[u],a.shadowRoot.appendChild(c)}return a}return Object(r.d)(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(F),W="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},K=W("addEventListener"),G=W("removeEventListener"),Q={},Y="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[W("BLACK_LISTED_EVENTS")]&&(B={});var X=function(t){return!!B&&B.hasOwnProperty(t)},Z=function(t){var e=Q[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r);for(var i=n.slice(),o=0;o<i.length&&!0!==t[Y];o++){var a;(a=i[o]).zone!==Zone.current?a.zone.run(a.handler,this,r):a.handler.apply(this,r)}}}},J=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&Object(i.p)(r)||o.patchEvent(),o}return Object(r.d)(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Y]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,i=n;if(!t[K]||o.z.isInAngularZone()&&!X(e))t.addEventListener(e,i,!1);else{var a=Q[e];a||(a=Q[e]=W("ANGULAR"+e+"FALSE"));var s=t[a],u=s&&s.length>0;s||(s=t[a]=[]);var c=X(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:c,handler:i});else{for(var l=!1,h=0;h<s.length;h++)if(s[h].handler===i){l=!0;break}l||s.push({zone:c,handler:i})}u||t[K](e,Z,!1)}return function(){return r.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,n){var r=t[G];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var i=Q[e],o=i&&t[i];if(!o)return t.removeEventListener.apply(t,[e,n,!1]);for(var a=!1,s=0;s<o.length;s++)if(o[s].handler===n){a=!0,o.splice(s,1);break}a?0===o.length&&r.apply(t,[e,Z,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(O),$={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},tt=new o.p("HammerGestureConfig"),et=new o.p("HammerLoader"),nt=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._config=n,o.console=r,o.loader=i,o}return Object(r.d)(e,t),e.prototype.supports=function(t){return!(!$.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var o=!1,a=function(){o=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(a=function(){});o||(a=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),a=function(){}}),function(){a()}}return i.runOutsideAngular(function(){var o=r._config.buildHammer(t),a=function(t){i.runGuarded(function(){n(t)})};return o.on(e,a),function(){o.off(e,a),"function"==typeof o.destroy&&o.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(O),it=["alt","control","meta","shift"],ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},at=function(t){function e(e){return t.call(this,e)||this}var n;return Object(r.d)(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return s().onAndCancel(t,i.domEventName,o)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(it.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=s().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),it.forEach(function(r){r!=n&&(0,ot[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(O),st=function(){return function(){}}(),ut=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return Object(r.d)(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case o.H.NONE:return e;case o.H.HTML:return e instanceof lt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),Object(o.db)(this._doc,String(e)));case o.H.STYLE:return e instanceof ht?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),Object(o.eb)(e));case o.H.SCRIPT:if(e instanceof ft)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case o.H.URL:return e instanceof pt||e instanceof dt?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Object(o.fb)(String(e)));case o.H.RESOURCE_URL:if(e instanceof pt)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof ct)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new lt(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new ht(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ft(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new dt(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new pt(t)},e}(st),ct=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(ct),ht=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Style"},e}(ct),ft=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"Script"},e}(ct),dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"URL"},e}(ct),pt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r.d)(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(ct),mt=[{provide:o.B,useValue:i.q},{provide:o.C,useValue:function(){d.makeCurrent(),w.init()},multi:!0},{provide:i.m,useClass:v,deps:[m]},{provide:m,useFactory:function(){return document},deps:[]}],yt=Object(o.R)(o.Y,"browser",mt);function vt(){return new o.l}var gt=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:o.c,useValue:t.appId},{provide:g,useExisting:o.c},b]}},t}();"undefined"!=typeof window&&window},"ZZ/e":function(t,e,n){"use strict";var r=n("mrSG"),i=n("CcnG"),o=n("Ip0R"),a=n("ZYCi"),s=n("K9Ia"),u=n("bne5"),c=n("cBjU"),l=[["ion-action-sheet",{ios:"1kttiagf",md:"x4ue4dpx"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionActionSheetWillDismiss","dispatchCancelHandler"]]],["ion-action-sheet-controller",{ios:"1kttiagf",md:"x4ue4dpx"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-alert",{ios:"5u5c8wcw",md:"sqd5wawk"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["el",64],["enterAnimation",1],["header",1,0,1,2],["inputs",2],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["subHeader",1,0,"sub-header",2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"],["ionAlertWillDismiss","dispatchCancelHandler"]]],["ion-alert-controller",{ios:"5u5c8wcw",md:"sqd5wawk"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-anchor",{ios:"0utrggve",md:"ycyyhg01"},1,[["color",1,0,1,2],["href",1,0,1,2],["routerDirection",1,0,"router-direction",2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-app",{ios:"9i747kfk",md:"ccuursht"},1,[["config",4,0,0,0,"config"],["el",64],["queue",4,0,0,0,"queue"],["win",4,0,0,0,"window"]]],["ion-avatar",{ios:"xgnma4yj",md:"oboc8zd4"},1,0,1],["ion-back-button",{ios:"0utrggve",md:"ycyyhg01"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["defaultHref",1,0,"default-href",2],["el",64],["icon",1,0,1,2],["mode",1,0,1,2],["text",1,0,1,2],["win",4,0,0,0,"window"]],2,[["click","onClick"]]],["ion-backdrop",{ios:"qvwswew4",md:"t547wlk7"},1,[["doc",4,0,0,0,"document"],["stopPropagation",1,0,"stop-propagation",4],["tappable",1,0,1,4],["visible",1,0,1,4]],1,[["touchstart","onTouchStart",0,0,1],["click","onMouseDown",0,0,1],["mousedown","onMouseDown",0,0,1]]],["ion-badge",{ios:"xgnma4yj",md:"oboc8zd4"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-button",{ios:"wsfvc8rr",md:"bzgyi6uy"},1,[["buttonType",2,0,"button-type",2],["color",1,0,1,2],["disabled",1,1,1,4],["el",64],["expand",1,1,1,2],["fill",2,1,1,2],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["shape",1,1,1,2],["size",1,1,1,2],["strong",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["click","onClick"]]],["ion-buttons",{ios:"9i747kfk",md:"ccuursht"},1,0,2],["ion-card",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],2],["ion-card-content",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["mode",1,0,1,2]]],["ion-card-header",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2],["translucent",1,0,1,4]],1],["ion-card-subtitle",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-card-title",{ios:"tylmm2yl",md:"jwqvpjte"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-checkbox",{ios:"hs4xwlox",md:"wajpsmly"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["indeterminate",2,0,1,4],["mode",1,0,1,2],["name",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-chip",{ios:"0owmtgfs",md:"xrxaow8a"},1,[["color",1,0,1,2],["mode",1,0,1,2],["outline",1,0,1,4]],1],["ion-col","ye5age0r",1,[["el",64],["offset",1,0,1,2],["offsetLg",1,0,"offset-lg",2],["offsetMd",1,0,"offset-md",2],["offsetSm",1,0,"offset-sm",2],["offsetXl",1,0,"offset-xl",2],["offsetXs",1,0,"offset-xs",2],["pull",1,0,1,2],["pullLg",1,0,"pull-lg",2],["pullMd",1,0,"pull-md",2],["pullSm",1,0,"pull-sm",2],["pullXl",1,0,"pull-xl",2],["pullXs",1,0,"pull-xs",2],["push",1,0,1,2],["pushLg",1,0,"push-lg",2],["pushMd",1,0,"push-md",2],["pushSm",1,0,"push-sm",2],["pushXl",1,0,"push-xl",2],["pushXs",1,0,"push-xs",2],["size",1,0,1,2],["sizeLg",1,0,"size-lg",2],["sizeMd",1,0,"size-md",2],["sizeSm",1,0,"size-sm",2],["sizeXl",1,0,"size-xl",2],["sizeXs",1,0,"size-xs",2],["win",4,0,0,0,"window"]],1,[["window:resize","onResize",0,1]]],["ion-content",{ios:"9i747kfk",md:"ccuursht"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["forceOverscroll",2,0,"force-overscroll",4],["fullscreen",1,0,1,4],["getScrollElement",32],["queue",4,0,0,0,"queue"],["scrollByPoint",32],["scrollEvents",1,0,"scroll-events",4],["scrollToBottom",32],["scrollToPoint",32],["scrollToTop",32],["scrollX",1,0,"scroll-x",4],["scrollY",1,0,"scroll-y",4],["win",4,0,0,0,"window"]],1,[["click","onClick",0,0,1]]],["ion-datetime",{ios:"od5ko9fd",md:"7lrb3ory"},1,[["cancelText",1,0,"cancel-text",2],["dayNames",1,0,"day-names",2],["dayShortNames",1,0,"day-short-names",2],["dayValues",1,0,"day-values",1],["disabled",1,0,1,4],["displayFormat",1,0,"display-format",2],["doneText",1,0,"done-text",2],["el",64],["hourValues",1,0,"hour-values",1],["isExpanded",16],["max",2,0,1,2],["min",2,0,1,2],["minuteValues",1,0,"minute-values",1],["mode",1,0,1,2],["monthNames",1,0,"month-names",2],["monthShortNames",1,0,"month-short-names",2],["monthValues",1,0,"month-values",1],["name",1,0,1,2],["open",32],["pickerCtrl",8,0,0,0,"ion-picker-controller"],["pickerFormat",1,0,"picker-format",2],["pickerOptions",1],["placeholder",1,0,1,2],["readonly",1,0,1,4],["value",2,0,1,2],["yearValues",1,0,"year-values",1]],1,[["click","onClick"]]],["ion-fab",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",2,0,1,4],["close",32],["edge",1,0,1,4],["el",64],["horizontal",1,0,1,2],["vertical",1,0,1,2]],1,[["click","onClick"]]],["ion-fab-button",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",1,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["mode",1,0,1,2],["routerDirection",1,0,"router-direction",2],["show",1,0,1,4],["size",1,0,1,2],["translucent",1,0,1,4],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-fab-list",{ios:"zdhyxh0f",md:"b9hbg5md"},1,[["activated",1,0,1,4],["el",64],["side",1,0,1,2]],1],["ion-footer",{ios:"9i747kfk",md:"ccuursht"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-grid","ye5age0r",1,[["fixed",1,0,1,4]],1],["ion-header",{ios:"9i747kfk",md:"ccuursht"},1,[["mode",1,0,1,2],["translucent",1,0,1,4]]],["ion-icon",{ios:"wsfvc8rr",md:"bzgyi6uy"},1,[["ariaLabel",2,1,"aria-label",2],["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["flipRtl",1,0,"flip-rtl",4],["icon",1,0,1,2],["ios",1,0,1,2],["isServer",4,0,0,0,"isServer"],["isVisible",16],["lazy",1,0,1,4],["md",1,0,1,2],["mode",1,0,1,2],["name",1,0,1,2],["resourcesUrl",4,0,0,0,"resourcesUrl"],["size",1,0,1,2],["src",1,0,1,2],["svgContent",16],["win",4,0,0,0,"window"]],1],["ion-img","vbsrxypz",1,[["alt",1,0,1,2],["el",64],["loadSrc",16],["src",1,0,1,2]],1],["ion-infinite-scroll",{ios:"fcbdrndu",md:"afjpklm4"},1,[["complete",32],["disabled",1,0,1,4],["el",64],["enableListener",4,0,0,0,"enableListener"],["isLoading",16],["position",1,0,1,2],["queue",4,0,0,0,"queue"],["threshold",1,0,1,2]],0,[["scroll","onScroll",1,1]]],["ion-infinite-scroll-content",{ios:"fcbdrndu",md:"afjpklm4"},1,[["config",4,0,0,0,"config"],["loadingSpinner",2,0,"loading-spinner",2],["loadingText",1,0,"loading-text",2]]],["ion-input",{ios:"xfbndl84",md:"zykaqnfi"},1,[["accept",1,0,1,2],["autocapitalize",1,0,1,2],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["autofocus",1,0,1,4],["clearInput",1,0,"clear-input",4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["inputmode",1,0,1,2],["max",1,0,1,2],["maxlength",1,0,1,8],["min",1,0,1,2],["minlength",1,0,1,8],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["pattern",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["setFocus",32],["size",1,0,1,8],["spellcheck",1,0,1,4],["step",1,0,1,2],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-item",{ios:"yz37im3e",md:"rri2tloh"},1,[["button",1,0,1,4],["color",1,0,1,2],["detail",1,0,1,4],["detailIcon",1,0,"detail-icon",2],["disabled",1,0,1,4],["el",64],["href",1,0,1,2],["lines",1,0,1,2],["mode",1,0,1,2],["multipleInputs",16],["routerDirection",1,0,"router-direction",2],["type",1,0,1,2],["win",4,0,0,0,"window"]],1,[["ionStyle","itemStyle"]]],["ion-item-divider",{ios:"yz37im3e",md:"rri2tloh"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["sticky",1,0,1,4]],1],["ion-item-group",{ios:"yz37im3e",md:"rri2tloh"},1],["ion-item-option",{ios:"mnim3usc",md:"bvwzwweh"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["expandable",1,0,1,4],["href",1,0,1,2],["mode",1,0,1,2]],1,[["click","onClick"]]],["ion-item-options",{ios:"mnim3usc",md:"bvwzwweh"},1,[["el",64],["fireSwipeEvent",32],["side",1,0,1,2],["win",4,0,0,0,"window"]]],["ion-item-sliding",{ios:"mnim3usc",md:"bvwzwweh"},1,[["close",32],["closeOpened",32],["disabled",1,0,1,4],["el",64],["getOpenAmount",32],["getSlidingRatio",32],["queue",4,0,0,0,"queue"],["state",16]]],["ion-label",{ios:"yz37im3e",md:"rri2tloh"},1,[["color",1,0,1,2],["el",64],["mode",1,0,1,2],["noAnimate",16],["position",1,0,1,2]],2],["ion-list",{ios:"yz37im3e",md:"rri2tloh"},1,[["closeSlidingItems",32],["el",64],["inset",1,0,1,4],["lines",1,0,1,2],["mode",1,0,1,2]]],["ion-list-header",{ios:"yz37im3e",md:"rri2tloh"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-loading",{ios:"mxzbuihf",md:"c3nbktys"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["spinner",2,0,1,2],["translucent",1,0,1,4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-loading-controller",{ios:"mxzbuihf",md:"c3nbktys"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-menu",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["close",32],["config",4,0,0,0,"config"],["contentId",1,0,"content-id",2],["disabled",2,0,1,4],["doc",4,0,0,0,"document"],["el",64],["enableListener",4,0,0,0,"enableListener"],["isActive",32],["isEndSide",16],["isOpen",32],["isPaneVisible",16],["isServer",4,0,0,0,"isServer"],["lazyMenuCtrl",8,0,0,0,"ion-menu-controller"],["maxEdgeStart",1,0,"max-edge-start",8],["menuId",1,0,"menu-id",2],["open",32],["queue",4,0,0,0,"queue"],["setOpen",32],["side",1,1,1,2],["swipeGesture",1,0,"swipe-gesture",4],["toggle",32],["type",2,0,1,2],["win",4,0,0,0,"window"]],1,[["body:ionSplitPaneVisible","onSplitPaneChanged"],["click","onBackdropClick",1,0,1]]],["ion-menu-button",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["autoHide",1,0,"auto-hide",4],["color",1,0,1,2],["config",4,0,0,0,"config"],["menu",1,0,1,2],["mode",1,0,1,2]],1],["ion-menu-controller",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["_getInstance",32],["close",32],["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["enable",32],["get",32],["getMenus",32],["getOpen",32],["isAnimating",32],["isEnabled",32],["isOpen",32],["open",32],["registerAnimation",32],["swipeGesture",32],["toggle",32]]],["ion-menu-toggle",{ios:"fokfxvfn",md:"n5wnzrch"},1,[["autoHide",1,0,"auto-hide",4],["doc",4,0,0,0,"document"],["menu",1,0,1,2],["visible",16]],1,[["click","onClick"],["body:ionMenuChange","updateVisibility"],["body:ionSplitPaneVisible","updateVisibility"]]],["ion-modal",{ios:"fazrg12f",md:"5qlzjcgv"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionModalDidPresent","lifecycle"],["ionModalWillPresent","lifecycle"],["ionModalWillDismiss","lifecycle"],["ionModalDidDismiss","lifecycle"]]],["ion-modal-controller",{ios:"fazrg12f",md:"5qlzjcgv"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-nav","mlczeont",1,[["animated",1,0,1,4],["animation",1],["canGoBack",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getActive",32],["getByIndex",32],["getPrevious",32],["getRouteId",32],["insert",32],["insertPages",32],["pop",32],["popTo",32],["popToRoot",32],["push",32],["queue",4,0,0,0,"queue"],["removeIndex",32],["root",1,0,1,2],["rootParams",1],["setPages",32],["setRoot",32],["setRouteId",32],["swipeGesture",2,0,"swipe-gesture",4],["win",4,0,0,0,"window"]],1],["ion-nav-pop","mlczeont",0,[["el",64]],0,[["child:click","pop"]]],["ion-nav-push","mlczeont",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-nav-set-root","mlczeont",0,[["component",1,0,1,2],["componentProps",1],["el",64]],0,[["child:click","push"]]],["ion-note",{ios:"yz37im3e",md:"rri2tloh"},1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-picker",{ios:"od5ko9fd",md:"7lrb3ory"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["buttons",1],["columns",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["getColumn",32],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["presented",16],["showBackdrop",1,0,"show-backdrop",4]],2,[["ionBackdropTap","onBackdropTap"]]],["ion-picker-column",{ios:"od5ko9fd",md:"7lrb3ory"},1,[["col",1],["el",64],["queue",4,0,0,0,"queue"]]],["ion-picker-controller",{ios:"od5ko9fd",md:"7lrb3ory"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-popover",{ios:"wdewkb4s",md:"fki3pb3x"},1,[["animated",1,0,1,4],["backdropDismiss",1,0,"backdrop-dismiss",4],["component",1,0,1,2],["componentProps",1],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["delegate",1],["dismiss",32],["el",64],["enterAnimation",1],["event",1,0,1,1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["present",32],["showBackdrop",1,0,"show-backdrop",4],["translucent",1,0,1,4]],2,[["ionDismiss","onDismiss"],["ionBackdropTap","onBackdropTap"],["ionPopoverDidPresent","lifecycle"],["ionPopoverWillPresent","lifecycle"],["ionPopoverWillDismiss","lifecycle"],["ionPopoverDidDismiss","lifecycle"]]],["ion-popover-controller",{ios:"wdewkb4s",md:"fki3pb3x"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-progress-bar",{ios:"c2kiol1t",md:"jtkjzkgg"},1,[["buffer",1,0,1,8],["color",1,0,1,2],["config",4,0,0,0,"config"],["mode",1,0,1,2],["reversed",1,0,1,4],["type",1,0,1,2],["value",1,0,1,8]],1],["ion-radio",{ios:"nr6wcehx",md:"ly8zbpmk"},1,[["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["value",2,0,1,1]],1,[["click","onClick"]]],["ion-radio-group",{ios:"nr6wcehx",md:"ly8zbpmk"},0,[["allowEmptySelection",1,0,"allow-empty-selection",4],["el",64],["name",1,0,1,2],["value",2,0,1,1]],0,[["ionRadioDidLoad","onRadioDidLoad"],["ionRadioDidUnload","onRadioDidUnload"],["ionSelect","onRadioSelect"],["ionDeselect","onRadioDeselect"]]],["ion-range",{ios:"gwiqb6zv",md:"2g1gy9f9"},1,[["color",1,0,1,2],["debounce",1,0,1,8],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["dualKnobs",1,0,"dual-knobs",4],["el",64],["max",1,0,1,8],["min",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["pin",1,0,1,4],["pressedKnob",16],["queue",4,0,0,0,"queue"],["ratioA",16],["ratioB",16],["snaps",1,0,1,4],["step",1,0,1,8],["value",2,0,1,8]],1,[["focusout","onBlur"],["focusin","onFocus"]]],["ion-refresher",{ios:"yurs1umq",md:"tab7npn8"},1,[["cancel",32],["closeDuration",1,0,"close-duration",2],["complete",32],["disabled",1,0,1,4],["el",64],["getProgress",32],["pullMax",1,0,"pull-max",8],["pullMin",1,0,"pull-min",8],["queue",4,0,0,0,"queue"],["snapbackDuration",1,0,"snapback-duration",2],["state",16]]],["ion-refresher-content",{ios:"yurs1umq",md:"tab7npn8"},0,[["config",4,0,0,0,"config"],["pullingIcon",2,0,"pulling-icon",2],["pullingText",1,0,"pulling-text",2],["refreshingSpinner",2,0,"refreshing-spinner",2],["refreshingText",1,0,"refreshing-text",2]]],["ion-reorder",{ios:"tpeqvzxx",md:"adaxrxoq"},1,0,1,[["click","onClick",0,0,1]]],["ion-reorder-group",{ios:"tpeqvzxx",md:"adaxrxoq"},1,[["complete",32],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["queue",4,0,0,0,"queue"],["state",16]]],["ion-ripple-effect","z9nt6ntd",1,[["addRipple",32],["el",64],["queue",4,0,0,0,"queue"],["type",1,0,1,2],["win",4,0,0,0,"window"]],1],["ion-route","tj5rszjq",0,[["component",1,0,1,2],["componentProps",1],["url",1,0,1,2]]],["ion-route-redirect","tj5rszjq",0,[["from",1,0,1,2],["to",1,0,1,2]]],["ion-router","tj5rszjq",0,[["back",32],["config",4,0,0,0,"config"],["el",64],["navChanged",32],["printDebug",32],["push",32],["queue",4,0,0,0,"queue"],["root",1,0,1,2],["useHash",1,0,"use-hash",4],["win",4,0,0,0,"window"]],0,[["window:popstate","onPopState"],["document:ionBackButton","onBackButton"]]],["ion-router-outlet","tj5rszjq",1,[["animated",1,0,1,4],["animation",1],["commit",32],["config",4,0,0,0,"config"],["delegate",1],["el",64],["getRouteId",32],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["setRouteId",32],["swipeHandler",1],["win",4,0,0,0,"window"]],1],["ion-row","ye5age0r",1,0,1],["ion-searchbar",{ios:"c3xilup3",md:"5ey3bs99"},1,[["animated",1,0,1,4],["autocomplete",1,0,1,2],["autocorrect",1,0,1,2],["cancelButtonIcon",1,0,"cancel-button-icon",2],["cancelButtonText",1,0,"cancel-button-text",2],["clearIcon",1,0,"clear-icon",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["debounce",1,0,1,8],["doc",4,0,0,0,"document"],["el",64],["focused",16],["getInputElement",32],["mode",1,0,1,2],["noAnimate",16],["placeholder",1,0,1,2],["searchIcon",1,0,"search-icon",2],["setFocus",32],["showCancelButton",1,0,"show-cancel-button",4],["spellcheck",1,0,1,4],["type",1,0,1,2],["value",2,0,1,2]],2],["ion-segment",{ios:"4m739wpj",md:"uegz8gm3"},1,[["color",1,0,1,2],["disabled",1,0,1,4],["el",64],["mode",1,0,1,2],["scrollable",1,0,1,4],["value",2,0,1,2]],2,[["ionSelect","segmentClick"]]],["ion-segment-button",{ios:"4m739wpj",md:"uegz8gm3"},1,[["checked",2,0,1,4],["disabled",1,0,1,4],["el",64],["layout",1,0,1,2],["mode",1,0,1,2],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-select",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["actionSheetCtrl",8,0,0,0,"ion-action-sheet-controller"],["alertCtrl",8,0,0,0,"ion-alert-controller"],["cancelText",1,0,"cancel-text",2],["compareWith",1,0,"compare-with",2],["disabled",1,0,1,4],["el",64],["interface",1,0,1,2],["interfaceOptions",1,0,"interface-options",1],["isExpanded",16],["mode",1,0,1,2],["multiple",1,0,1,4],["name",1,0,1,2],["okText",1,0,"ok-text",2],["open",32],["placeholder",1,0,1,2],["popoverCtrl",8,0,0,0,"ion-popover-controller"],["selectedText",1,0,"selected-text",2],["value",2,0,1,1]],1,[["ionSelectOptionDidLoad","selectOptionChanged"],["ionSelectOptionDidUnload","selectOptionChanged"],["click","onClick"]]],["ion-select-option",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["disabled",1,0,1,4],["el",64],["selected",1,0,1,4],["value",2,0,1,1]],1],["ion-select-popover",{ios:"ao2edhxl",md:"okpgrmbb"},1,[["header",1,0,1,2],["message",1,0,1,2],["options",1],["subHeader",1,0,"sub-header",2]],2,[["ionSelect","onSelect"]]],["ion-skeleton-text",{ios:"yz37im3e",md:"rri2tloh"},1,[["animated",1,0,1,4],["config",4,0,0,0,"config"],["el",64],["width",1,0,1,2]],1],["ion-slide",{ios:"bneiwm8s",md:"tqgphjq7"},1],["ion-slides",{ios:"bneiwm8s",md:"tqgphjq7"},1,[["el",64],["getActiveIndex",32],["getPreviousIndex",32],["isBeginning",32],["isEnd",32],["length",32],["lockSwipeToNext",32],["lockSwipeToPrev",32],["lockSwipes",32],["mode",1,0,1,2],["options",1,0,1,1],["pager",1,0,1,4],["scrollbar",1,0,1,4],["slideNext",32],["slidePrev",32],["slideTo",32],["startAutoplay",32],["stopAutoplay",32],["update",32],["updateAutoHeight",32]],0,[["ionSlideChanged","onSlideChanged"]]],["ion-spinner","jdcptvrs",1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["duration",1,0,1,8],["name",1,0,1,2],["paused",1,0,1,4]],1],["ion-split-pane",{ios:"o2g4txhh",md:"l1m0sgjq"},1,[["contentId",1,0,"content-id",2],["disabled",1,0,1,4],["el",64],["isServer",4,0,0,0,"isServer"],["visible",16],["when",1,0,1,1],["win",4,0,0,0,"window"]]],["ion-tab","jpkvsu5y",1,[["active",2,0,1,4],["component",1,0,1,2],["delegate",1],["el",64],["setActive",32],["tab",1,0,1,2]],1],["ion-tab-bar",{ios:"uetn90ud",md:"dznymaqz"},1,[["color",1,0,1,2],["doc",4,0,0,0,"document"],["el",64],["keyboardVisible",16],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selectedTab",1,0,"selected-tab",2],["translucent",1,0,1,4]],1,[["window:keyboardWillHide","onKeyboardWillHide"],["window:keyboardWillShow","onKeyboardWillShow"]]],["ion-tab-button",{ios:"uetn90ud",md:"dznymaqz"},1,[["config",4,0,0,0,"config"],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["href",1,0,1,2],["layout",2,0,1,2],["mode",1,0,1,2],["queue",4,0,0,0,"queue"],["selected",2,0,1,4],["tab",1,0,1,2]],1,[["parent:ionTabBarChanged","onTabBarChanged"],["click","onClick"]]],["ion-tabs","jpkvsu5y",1,[["config",4,0,0,0,"config"],["doc",4,0,0,0,"document"],["el",64],["getRouteId",32],["getSelected",32],["getTab",32],["select",32],["selectedTab",16],["setRouteId",32],["tabs",16],["useRouter",2,0,"use-router",4]],1,[["ionTabButtonClick","onTabClicked"]]],["ion-text","coytbtgb",1,[["color",1,0,1,2],["mode",1,0,1,2]],1],["ion-textarea",{ios:"8q1e6dus",md:"odqmlmdd"},1,[["autocapitalize",1,0,1,2],["autofocus",1,0,1,4],["clearOnEdit",2,0,"clear-on-edit",4],["color",1,0,1,2],["cols",1,0,1,8],["debounce",1,0,1,8],["disabled",1,0,1,4],["el",64],["getInputElement",32],["hasFocus",16],["maxlength",1,0,1,8],["minlength",1,0,1,8],["mode",1,0,1,2],["name",1,0,1,2],["placeholder",1,0,1,2],["readonly",1,0,1,4],["required",1,0,1,4],["rows",1,0,1,8],["setFocus",32],["spellcheck",1,0,1,4],["value",2,0,1,2],["wrap",1,0,1,2]],2],["ion-thumbnail",{ios:"xgnma4yj",md:"oboc8zd4"},1,0,1],["ion-title",{ios:"9i747kfk",md:"ccuursht"},1,[["color",1,0,1,2],["el",64]],1],["ion-toast",{ios:"soeaphrm",md:"6eqoprbr"},1,[["animated",1,0,1,4],["closeButtonText",1,0,"close-button-text",2],["color",1,0,1,2],["config",4,0,0,0,"config"],["cssClass",1,0,"css-class",2],["dismiss",32],["duration",1,0,1,8],["el",64],["enterAnimation",1],["keyboardClose",1,0,"keyboard-close",4],["leaveAnimation",1],["message",1,0,1,2],["mode",1,0,1,2],["onDidDismiss",32],["onWillDismiss",32],["overlayIndex",1,0,"overlay-index",8],["position",1,0,1,2],["present",32],["showCloseButton",1,0,"show-close-button",4],["translucent",1,0,1,4]],1],["ion-toast-controller",{ios:"soeaphrm",md:"6eqoprbr"},0,[["create",32],["dismiss",32],["doc",4,0,0,0,"document"],["getTop",32]]],["ion-toggle",{ios:"wvqczsjg",md:"av1nxhcg"},1,[["activated",16],["checked",2,0,1,4],["color",1,0,1,2],["disabled",1,0,1,4],["doc",4,0,0,0,"document"],["el",64],["mode",1,0,1,2],["name",1,0,1,2],["queue",4,0,0,0,"queue"],["value",1,0,1,2]],1,[["click","onClick"]]],["ion-toolbar",{ios:"9i747kfk",md:"ccuursht"},1,[["color",1,0,1,2],["config",4,0,0,0,"config"],["el",64],["mode",1,0,1,2]],1,[["ionStyle","childrenStyle"]]],["ion-virtual-scroll","ffukzwt6",1,[["approxFooterHeight",1,0,"approx-footer-height",8],["approxHeaderHeight",1,0,"approx-header-height",8],["approxItemHeight",1,0,"approx-item-height",8],["checkEnd",32],["checkRange",32],["domRender",1],["el",64],["enableListener",4,0,0,0,"enableListener"],["footerFn",1],["headerFn",1],["itemHeight",1],["items",1],["nodeRender",1],["positionForItem",32],["queue",4,0,0,0,"queue"],["renderFooter",1],["renderHeader",1],["renderItem",1],["totalHeight",16],["win",4,0,0,0,"window"]],0,[["scroll","onScroll",1],["window:resize","onResize",0,1]]]];n.d(e,"Fb",function(){return p}),n.d(e,"Jb",function(){return m}),n.d(e,"Kb",function(){return y}),n.d(e,"tb",function(){return Se}),n.d(e,"f",function(){return Ee}),n.d(e,"fb",function(){return be}),n.d(e,"Ib",function(){return _e}),n.d(e,"Ab",function(){return Te}),n.d(e,"a",function(){return oe}),n.d(e,"Db",function(){return ke}),n.d(e,"Gb",function(){return k}),n.d(e,"Hb",function(){return Ae}),n.d(e,"Lb",function(){return Oe}),n.d(e,"Eb",function(){return x}),n.d(e,"b",function(){return ee}),n.d(e,"Cb",function(){return xe}),n.d(e,"Bb",function(){return Pe}),n.d(e,"c",function(){return M}),n.d(e,"d",function(){return L}),n.d(e,"e",function(){return U}),n.d(e,"g",function(){return F}),n.d(e,"h",function(){return q}),n.d(e,"i",function(){return V}),n.d(e,"j",function(){return B}),n.d(e,"k",function(){return z}),n.d(e,"l",function(){return H}),n.d(e,"m",function(){return W}),n.d(e,"n",function(){return K}),n.d(e,"o",function(){return G}),n.d(e,"p",function(){return Q}),n.d(e,"q",function(){return Y}),n.d(e,"r",function(){return X}),n.d(e,"s",function(){return Z}),n.d(e,"t",function(){return J}),n.d(e,"u",function(){return $}),n.d(e,"v",function(){return tt}),n.d(e,"w",function(){return et}),n.d(e,"x",function(){return nt}),n.d(e,"y",function(){return rt}),n.d(e,"z",function(){return it}),n.d(e,"A",function(){return ot}),n.d(e,"B",function(){return at}),n.d(e,"C",function(){return st}),n.d(e,"D",function(){return ut}),n.d(e,"E",function(){return ct}),n.d(e,"F",function(){return lt}),n.d(e,"G",function(){return ht}),n.d(e,"H",function(){return ft}),n.d(e,"I",function(){return dt}),n.d(e,"J",function(){return pt}),n.d(e,"K",function(){return mt}),n.d(e,"L",function(){return yt}),n.d(e,"M",function(){return vt}),n.d(e,"N",function(){return gt}),n.d(e,"O",function(){return bt}),n.d(e,"P",function(){return wt}),n.d(e,"Q",function(){return St}),n.d(e,"R",function(){return Et}),n.d(e,"S",function(){return _t}),n.d(e,"T",function(){return Tt}),n.d(e,"U",function(){return It}),n.d(e,"V",function(){return Ct}),n.d(e,"W",function(){return kt}),n.d(e,"X",function(){return At}),n.d(e,"Y",function(){return Ot}),n.d(e,"Z",function(){return xt}),n.d(e,"ab",function(){return Dt}),n.d(e,"bb",function(){return Nt}),n.d(e,"cb",function(){return Rt}),n.d(e,"db",function(){return Pt}),n.d(e,"eb",function(){return jt}),n.d(e,"gb",function(){return Mt}),n.d(e,"hb",function(){return Lt}),n.d(e,"ib",function(){return Ut}),n.d(e,"jb",function(){return Ft}),n.d(e,"kb",function(){return qt}),n.d(e,"lb",function(){return Vt}),n.d(e,"mb",function(){return Bt}),n.d(e,"nb",function(){return zt}),n.d(e,"ob",function(){return Ht}),n.d(e,"pb",function(){return Wt}),n.d(e,"qb",function(){return Kt}),n.d(e,"rb",function(){return Gt}),n.d(e,"sb",function(){return Qt}),n.d(e,"ub",function(){return Yt}),n.d(e,"vb",function(){return Xt}),n.d(e,"wb",function(){return Zt}),n.d(e,"xb",function(){return Jt}),n.d(e,"yb",function(){return $t}),n.d(e,"zb",function(){return te}),n.d(e,"Nb",function(){return De}),n.d(e,"Mb",function(){return ne});var h=function(){function t(t){this.el=t,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this.el.nativeElement.value=this.lastValue=null==t?"":t,f(this.el)},t.prototype.handleChangeEvent=function(t){t!==this.lastValue&&(this.lastValue=t,this.onChange(t)),f(this.el)},t.prototype._handleBlurEvent=function(){this.onTouched(),f(this.el)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.el.nativeElement.disabled=t},t}();function f(t){requestAnimationFrame(function(){var e=t.nativeElement,n=function(t){for(var n=e.classList,r=[],i=0;i<n.length;i++){var o=n.item(i);null!==o&&"ng-"===o.substr(0,"ng-".length)&&r.push("ion-"+o.substr(3))}return r}();d(e,n);var r=e.closest("ion-item");r&&d(r,n)})}function d(t,e){var n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add.apply(n,e)}var p=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleIonChange=function(t){this.handleChangeEvent(t)},e.prototype.registerOnChange=function(e){t.prototype.registerOnChange.call(this,function(t){e(""===t?null:parseFloat(t))})},e}(h),m=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleChangeEvent=function(t){this.handleChangeEvent(t)},e}(h),y=function(t){function e(e){return t.call(this,e)||this}return Object(r.d)(e,t),e.prototype._handleInputEvent=function(t){this.handleChangeEvent(t)},e}(h),v=function(t){return g(t)},g=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=b(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},b=function(t){return Object.keys(C).filter(function(e){return C[e](t)})},w=function(t){return I(t,"(any-pointer:coarse)")},S=function(t){return E(t)||_(t)},E=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},_=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},T=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},I=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},C={ipad:function(t){return T(t,/iPad/i)},iphone:function(t){return T(t,/iPhone/i)},ios:function(t){return T(t,/iPad|iPhone|iPod/i)},android:function(t){return T(t,/android|sink/i)},phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>460&&r<820&&i>780&&i<1400},cordova:E,capacitor:_,electron:function(t){return T(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:w,mobileweb:function(t){return w(t)&&!S(t)},desktop:function(t){return!w(t)},hybrid:S},k=function(){function t(t){var e;this.doc=t,this.backButton=new s.a,this.pause=new s.a,this.resume=new s.a,this.resize=new s.a,this.win=t.defaultView,this.backButton.subscribeWithPriority=function(t,e){return this.subscribe(function(n){n.register(t,e)})},O(this.pause,t,"pause"),O(this.resume,t,"resume"),O(this.backButton,t,"ionBackButton"),O(this.resize,this.win,"resize"),this._readyPromise=new Promise(function(t){e=t}),this.win&&this.win.cordova?t.addEventListener("deviceready",function(){e("cordova")},{once:!0}):e("dom")}return t.prototype.is=function(t){return e=t,v(this.win).includes(e);var e},t.prototype.platforms=function(){return v(this.win)},t.prototype.ready=function(){return this._readyPromise},Object.defineProperty(t.prototype,"isRTL",{get:function(){return"rtl"===this.doc.dir},enumerable:!0,configurable:!0}),t.prototype.getQueryParam=function(t){return A(this.win.location.href,t)},t.prototype.isLandscape=function(){return!this.isPortrait()},t.prototype.isPortrait=function(){return this.win.matchMedia&&this.win.matchMedia("(orientation: portrait)").matches},t.prototype.testUserAgent=function(t){var e=this.win.navigator;return!!(e&&e.userAgent&&e.userAgent.indexOf(t)>=0)},t.prototype.url=function(){return this.win.location.href},t.prototype.width=function(){return this.win.innerWidth},t.prototype.height=function(){return this.win.innerHeight},t.ngInjectableDef=Object(i.S)({factory:function(){return new t(Object(i.W)(o.c))},token:t,providedIn:"root"}),t}(),A=function(t,e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return n?decodeURIComponent(n[1].replace(/\+/g," ")):null},O=function(t,e,n){e&&e.addEventListener(n,function(e){t.next(null!=e?e.detail:void 0)})},x=function(){function t(t,e,n){var r=this;this.location=e,this.router=n,this.direction=D,this.animated=N,this.guessDirection="forward",this.lastNavId=-1,n&&n.events.subscribe(function(t){if(t instanceof a.d){var e=t.restoredState?t.restoredState.navigationId:t.id;r.guessDirection=e<r.lastNavId?"back":"forward",r.guessAnimation=t.restoredState?void 0:r.guessDirection,r.lastNavId="forward"===r.guessDirection?t.id:e}}),t.backButton.subscribeWithPriority(0,function(){return r.pop()})}return t.prototype.navigateForward=function(t,e){return void 0===e&&(e={}),this.setDirection("forward",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateBack=function(t,e){return void 0===e&&(e={}),this.setDirection("back",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.navigateRoot=function(t,e){return void 0===e&&(e={}),this.setDirection("root",e.animated,e.animationDirection),this.navigate(t,e)},t.prototype.back=function(t){return void 0===t&&(t={animated:!0,animationDirection:"back"}),this.setDirection("back",t.animated,t.animationDirection),this.location.back()},t.prototype.pop=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.e)(this,function(e){switch(e.label){case 0:t=this.topOutlet,e.label=1;case 1:return t?[4,t.pop()]:[3,3];case 2:return e.sent()?[3,3]:(t=t.parentOutlet,[3,1]);case 3:return[2]}})})},t.prototype.setDirection=function(t,e,n){this.direction=t,this.animated=function(t,e,n){if(!1!==e)return void 0!==n?n:"forward"===t||"back"===t?t:"root"===t&&!0===e?"forward":void 0}(t,e,n)},t.prototype.setTopOutlet=function(t){this.topOutlet=t},t.prototype.consumeTransition=function(){var t,e="root";return"auto"===this.direction?(e=this.guessDirection,t=this.guessAnimation):(t=this.animated,e=this.direction),this.direction=D,this.animated=N,{direction:e,animation:t}},t.prototype.navigate=function(t,e){return Array.isArray(t)?this.router.navigate(t,e):this.router.navigateByUrl(t,e)},t.ngInjectableDef=Object(i.S)({factory:function(){return new t(Object(i.W)(k),Object(i.W)(o.f),Object(i.W)(a.m,8))},token:t,providedIn:"root"}),t}(),D="auto",N=void 0;function R(t,e){var n=t.prototype;e.forEach(function(t){Object.defineProperty(n,t,{get:function(){return this.el[t]},set:function(e){this.el[t]=e}})})}function P(t,e){var n=t.prototype;e.forEach(function(t){n[t]=function(){var e=arguments;return this.el.componentOnReady().then(function(n){return n[t].apply(n,e)})}})}function j(t,e,n){n.forEach(function(n){return t[n]=Object(u.a)(e,n)})}var M=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),L=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),U=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(U,["color","mode","defaultHref","icon","text"]);var F=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionBackdropTap"])}}();R(F,["visible","tappable","stopPropagation"]);var q=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(q,["color","mode"]);var V=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionFocus","ionBlur"])}}();R(V,["color","mode","buttonType","disabled","expand","fill","routerDirection","href","shape","size","strong","type"]);var B=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),z=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(z,["color","mode"]);var H=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(H,["mode"]);var W=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(W,["color","mode","translucent"]);var K=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(K,["color","mode"]);var G=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(G,["color","mode"]);var Q=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R(Q,["color","mode","name","checked","indeterminate","disabled","value"]);var Y=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Y,["color","mode","outline"]);var X=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(X,["offset","offsetXs","offsetSm","offsetMd","offsetLg","offsetXl","pull","pullXs","pullSm","pullMd","pullLg","pullXl","push","pushXs","pushSm","pushMd","pushLg","pushXl","size","sizeXs","sizeSm","sizeMd","sizeLg","sizeXl"]);var Z=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}}();P(Z,["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]),R(Z,["color","fullscreen","forceOverscroll","scrollX","scrollY","scrollEvents"]);var J=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}}();P(J,["open"]),R(J,["mode","name","disabled","readonly","min","max","displayFormat","pickerFormat","cancelText","doneText","yearValues","monthValues","dayValues","hourValues","minuteValues","monthNames","monthShortNames","dayNames","dayShortNames","pickerOptions","placeholder","value"]);var $=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();P($,["close"]),R($,["horizontal","vertical","edge","activated"]);var tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionFocus","ionBlur"])}}();R(tt,["mode","color","activated","disabled","href","routerDirection","show","translucent","type","size"]);var et=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(et,["activated","side"]);var nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(nt,["mode","translucent"]);var rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(rt,["fixed"]);var it=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(it,["mode","translucent"]);var ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ot,["ariaLabel","color","flipRtl","icon","ios","lazy","md","mode","name","size","src"]);var at=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionImgDidLoad"])}}();R(at,["alt","src"]);var st=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionInfinite"])}}();P(st,["complete"]),R(st,["threshold","disabled","position"]);var ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ut,["loadingSpinner","loadingText"]);var ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}}();P(ct,["setFocus","getInputElement"]),R(ct,["color","mode","accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","debounce","disabled","inputmode","max","maxlength","min","minlength","multiple","name","pattern","placeholder","readonly","required","spellcheck","step","size","type","value"]);var lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(lt,["color","mode","button","detail","detailIcon","disabled","href","lines","routerDirection","type"]);var ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(ht,["color","mode","sticky"]);var ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(dt,["color","mode","disabled","expandable","href"]);var pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionSwipe"])}}();R(pt,["side"]);var mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionDrag"])}}();P(mt,["getOpenAmount","getSlidingRatio","close","closeOpened"]),R(mt,["disabled"]);var yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(yt,["color","mode","position"]);var vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();P(vt,["closeSlidingItems"]),R(vt,["mode","lines","inset"]);var gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(gt,["mode","color"]);var bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}}();P(bt,["isOpen","isActive","open","close","toggle","setOpen"]),R(bt,["contentId","menuId","type","disabled","side","swipeGesture","maxEdgeStart"]);var wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(wt,["color","mode","menu","autoHide"]);var St=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(St,["menu","autoHide"]);var Et=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionNavWillChange","ionNavDidChange"])}}();P(Et,["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"]),R(Et,["swipeGesture","animated","animation","rootParams","root"]);var _t=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Tt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Tt,["component","componentProps"]);var It=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(It,["component","componentProps"]);var Ct=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Ct,["color","mode"]);var kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(kt,["mode","type","reversed","value","buffer","color"]);var At=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionSelect","ionFocus","ionBlur"])}}();R(At,["color","mode","name","disabled","checked","value"]);var Ot=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange"])}}();R(Ot,["allowEmptySelection","name","value"]);var xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R(xt,["color","mode","debounce","name","dualKnobs","min","max","pin","snaps","step","disabled","value"]);var Dt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionRefresh","ionPull","ionStart"])}}();P(Dt,["complete","cancel","getProgress"]),R(Dt,["pullMin","pullMax","closeDuration","snapbackDuration","disabled"]);var Nt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Nt,["pullingIcon","pullingText","refreshingSpinner","refreshingText"]);var Rt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Pt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionItemReorder"])}}();P(Pt,["complete"]),R(Pt,["disabled"]);var jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();P(jt,["addRipple"]),R(jt,["type"]);var Mt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Lt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionInput","ionChange","ionCancel","ionClear","ionBlur","ionFocus"])}}();P(Lt,["setFocus","getInputElement"]),R(Lt,["color","mode","animated","autocomplete","autocorrect","cancelButtonIcon","cancelButtonText","clearIcon","debounce","placeholder","searchIcon","showCancelButton","spellcheck","type","value"]);var Ut=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionStyle"])}}();R(Ut,["color","mode","disabled","scrollable","value"]);var Ft=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionSelect"])}}();R(Ft,["mode","checked","disabled","layout","value"]);var qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionCancel","ionFocus","ionBlur"])}}();P(qt,["open"]),R(qt,["mode","disabled","cancelText","okText","placeholder","name","selectedText","multiple","interface","interfaceOptions","compareWith","value"]);var Vt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Vt,["disabled","selected","value"]);var Bt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Bt,["animated","width"]);var zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Ht=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionSlidesDidLoad","ionSlideTap","ionSlideDoubleTap","ionSlideWillChange","ionSlideDidChange","ionSlideNextStart","ionSlidePrevStart","ionSlideNextEnd","ionSlidePrevEnd","ionSlideTransitionStart","ionSlideTransitionEnd","ionSlideDrag","ionSlideReachStart","ionSlideReachEnd","ionSlideTouchStart","ionSlideTouchEnd"])}}();P(Ht,["update","updateAutoHeight","slideTo","slideNext","slidePrev","getActiveIndex","getPreviousIndex","length","isEnd","isBeginning","startAutoplay","stopAutoplay","lockSwipeToNext","lockSwipeToPrev","lockSwipes"]),R(Ht,["mode","options","pager","scrollbar"]);var Wt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Wt,["color","duration","name","paused"]);var Kt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionSplitPaneVisible"])}}();R(Kt,["contentId","disabled","when"]);var Gt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Gt,["mode","color","selectedTab","translucent"]);var Qt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Qt,["selected","mode","layout","href","tab","disabled"]);var Yt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Yt,["color","mode"]);var Xt=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}}();P(Xt,["setFocus","getInputElement"]),R(Xt,["mode","color","autocapitalize","autofocus","clearOnEdit","debounce","disabled","maxlength","minlength","name","placeholder","readonly","required","spellcheck","cols","rows","wrap","value"]);var Zt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}(),Jt=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(Jt,["color"]);var $t=function(){return function(t,e){t.detach(),this.el=e.nativeElement,j(this,this.el,["ionChange","ionFocus","ionBlur"])}}();R($t,["mode","color","name","checked","disabled","value"]);var te=function(){return function(t,e){t.detach(),this.el=e.nativeElement}}();R(te,["color","mode"]);var ee=function(){function t(){}return t.prototype.get=function(t,e){var n=re();return n?n.get(t,e):null},t.prototype.getBoolean=function(t,e){var n=re();return!!n&&n.getBoolean(t,e)},t.prototype.getNumber=function(t,e){var n=re();return n?n.getNumber(t,e):0},t.prototype.set=function(t,e){var n=re();n&&n.set(t,e)},t.ngInjectableDef=Object(i.S)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),ne=new i.p("USERCONFIG");function re(){if("undefined"!=typeof window){var t=window.Ionic;if(t&&t.config)return t.config}return null}var ie=function(){function t(t){void 0===t&&(t={}),this.data=t}return t.prototype.get=function(t){return this.data[t]},t}(),oe=function(){function t(t,e){this.zone=t,this.appRef=e}return t.prototype.create=function(t,e,n){return new ae(t,e,n,this.appRef,this.zone)},t}(),ae=function(){function t(t,e,n,r,i){this.resolver=t,this.injector=e,this.location=n,this.appRef=r,this.zone=i,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}return t.prototype.attachViewToDom=function(t,e,n,r){var o=this;return new Promise(function(a){o.zone.run(function(){var s=function(t,e,n,r,a,s,u,c,l,h){var f=o.resolver.resolveComponentFactory(c),d=i.q.create({providers:le(l),parent:e}),p=n?n.createComponent(f,n.length,d):f.create(d),m=p.instance,y=p.location.nativeElement;if(l&&Object.assign(m,l),h)for(var v=0,g=h;v<g.length;v++)y.classList.add(g[v]);var b=ue(m,y);return u.appendChild(y),n||r.attachView(p.hostView),p.changeDetectorRef.reattach(),a.set(y,p),s.set(y,b),y}(0,o.injector,o.location,o.appRef,o.elRefMap,o.elEventsMap,t,e,n,r);a(s)})})},t.prototype.removeViewFromDom=function(t,e){var n=this;return new Promise(function(t){n.zone.run(function(){var r=n.elRefMap.get(e);if(r){r.destroy(),n.elRefMap.delete(e);var i=n.elEventsMap.get(e);i&&(i(),n.elEventsMap.delete(e))}t()})})},t}(),se=["ionViewWillEnter","ionViewDidEnter","ionViewWillLeave","ionViewDidLeave","ionViewWillUnload"];function ue(t,e){var n=se.map(function(n){var r=function(e){"function"==typeof t[n]&&t[n](e.detail)};return e.addEventListener(n,r),function(){e.removeEventListener(n,r)}});return function(){n.forEach(function(t){return t()})}}var ce=new i.p("NavParamsToken");function le(t){return[{provide:ce,useValue:t},{provide:ie,useFactory:he,deps:[ce]}]}function he(t){return new ie(t)}function fe(t,e){return(t=t.filter(function(t){return t.stackId!==e.stackId})).push(e),t}function de(t,e){var n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)}function pe(t,e){if(t)for(var n=me(e),r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}}function me(t){return t.split("/").map(function(t){return t.trim()}).filter(function(t){return""!==t})}function ye(t){t&&(t.ref.destroy(),t.unlistenEvents())}var ve=function(){function t(t,e,n,r,i){this.containerEl=e,this.router=n,this.navCtrl=r,this.zone=i,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==t?me(t):void 0}return t.prototype.createView=function(t,e){var n=de(this.router,e),r=t&&t.location&&t.location.nativeElement,i=ue(t.instance,r);return{id:this.nextId++,stackId:pe(this.tabsPrefix,n),unlistenEvents:i,element:r,ref:t,url:n}},t.prototype.getExistingView=function(t){var e=de(this.router,t),n=this.views.find(function(t){return t.url===e});return n&&n.ref.changeDetectorRef.reattach(),n},t.prototype.setActive=function(t){var e=this,n=this.navCtrl.consumeTransition(),i=n.direction,o=n.animation,a=this.activeView,s=function(t,e){return!e||t.stackId!==e.stackId}(t,a);s&&(i="back",o=void 0);var u=this.views.slice(),c=this.insertView(t,i);return this.wait(function(){return Object(r.b)(e,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return[4,this.transition(t,a,o,this.canGoBack(1),!1)];case 1:return e.sent(),[4,ge(t,c,u)];case 2:return e.sent(),[2,{enteringView:t,direction:i,animation:o,tabSwitch:s}]}})})})},t.prototype.canGoBack=function(t,e){return void 0===e&&(e=this.getActiveStackId()),this.getStack(e).length>t},t.prototype.pop=function(t,e){var n=this;return void 0===e&&(e=this.getActiveStackId()),this.zone.run(function(){var r=n.getStack(e);return r.length<=t?Promise.resolve(!1):n.navCtrl.navigateBack(r[r.length-t-1].url).then(function(){return!0})})},t.prototype.startBackTransition=function(){return Object(r.b)(this,void 0,void 0,function(){var t,e,n,i=this;return Object(r.e)(this,function(r){switch(r.label){case 0:return(t=this.activeView)?(e=this.getStack(t.stackId),(n=e[e.length-2]).ref.changeDetectorRef.reattach(),[4,this.wait(function(){return i.transition(n,t,"back",!0,!0)})]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.endBackTransition=function(t){t&&(this.skipTransition=!0,this.pop(1))},t.prototype.getLastUrl=function(t){var e=this.getStack(t);return e.length>0?e[e.length-1]:void 0},t.prototype.getActiveStackId=function(){return this.activeView?this.activeView.stackId:void 0},t.prototype.destroy=function(){this.containerEl=void 0,this.views.forEach(ye),this.activeView=void 0,this.views=[]},t.prototype.getStack=function(t){return this.views.filter(function(e){return e.stackId===t})},t.prototype.insertView=function(t,e){return this.activeView=t,this.views=function(t,e,n){return"root"===n?fe(t,e):"forward"===n?function(t,e){return t.indexOf(e)>=0?t=t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):t.push(e),t}(t,e):function(t,e){return t.indexOf(e)>=0?t.filter(function(t){return t.stackId!==e.stackId||t.id<=e.id}):fe(t,e)}(t,e)}(this.views,t,e),this.views.slice()},t.prototype.transition=function(t,e,n,i,o){return Object(r.b)(this,void 0,void 0,function(){var a,s,u;return Object(r.e)(this,function(r){switch(r.label){case 0:return this.skipTransition?(this.skipTransition=!1,[2]):(s=e?e.element:void 0,u=this.containerEl,(a=t?t.element:void 0)&&a!==s?(a.classList.add("ion-page","ion-page-invisible"),a.parentElement!==u&&u.appendChild(a),[4,u.componentOnReady()]):[3,3]);case 1:return r.sent(),[4,u.commit(a,s,{deepWait:!0,duration:void 0===n?0:void 0,direction:n,showGoBack:i,progressAnimation:o})];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.wait=function(t){return Object(r.b)(this,void 0,void 0,function(){return Object(r.e)(this,function(e){switch(e.label){case 0:return void 0===this.runningTask?[3,2]:[4,this.runningTask];case 1:e.sent(),this.runningTask=void 0,e.label=2;case 2:return[2,this.runningTask=t()]}})})},t}();function ge(t,e,n){return new Promise(function(r){requestAnimationFrame(function(){!function(t,e,n){n.filter(function(t){return!e.includes(t)}).forEach(ye),e.forEach(function(e){if(e!==t){var n=e.element;n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden"),e.ref.changeDetectorRef.detach()}})}(t,e,n),r()})})}var be=function(){function t(t,e,n,r,o,s,u,c,l,h,f,d,p){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.config=u,this.navCtrl=c,this.parentOutlet=p,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.stackEvents=new i.m,this.activateEvents=new i.m,this.deactivateEvents=new i.m,this.nativeEl=l.nativeElement,this.name=r||a.f,this.tabsPrefix="true"===o?de(h,d):void 0,this.stackCtrl=new ve(this.tabsPrefix,this.nativeEl,h,c,f),t.onChildOutletCreated(this.name,this)}return Object.defineProperty(t.prototype,"animated",{set:function(t){this.nativeEl.animated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"swipeGesture",{set:function(t){var e=this;this._swipeGesture=t,this.nativeEl.swipeHandler=t?{canStart:function(){return e.stackCtrl.canGoBack(1)},onStart:function(){return e.stackCtrl.startBackTransition()},onEnd:function(t){return e.stackCtrl.endBackTransition(t)}}:void 0},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.stackCtrl.destroy()},t.prototype.getContext=function(){return this.parentContexts.getContext(this.name)},t.prototype.ngOnInit=function(){var t=this;if(!this.activated){var e=this.getContext();e&&e.route&&this.activateWith(e.route,e.resolver||null)}this.nativeEl.componentOnReady&&this.nativeEl.componentOnReady().then(function(){void 0===t._swipeGesture&&(t.swipeGesture=t.config.getBoolean("swipeBackEnabled","ios"===t.nativeEl.mode))})},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){throw new Error("incompatible reuse strategy")},t.prototype.attach=function(t,e){throw new Error("incompatible reuse strategy")},t.prototype.deactivate=function(){if(this.activated){this.activatedView&&(this.activatedView.savedData=new Map(this.getContext().children.contexts));var t=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){var n,r=this;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var i=this.stackCtrl.getExistingView(t);if(i){n=this.activated=i.ref;var o=i.savedData;o&&(this.getContext().children.contexts=o)}else{var a=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),s=this.parentContexts.getOrCreateContext(this.name).children,u=new we(t,s,this.location.injector);n=this.activated=this.location.createComponent(a,this.location.length,u),i=this.stackCtrl.createView(this.activated,t),this.changeDetector.markForCheck()}this.activatedView=i,this.stackCtrl.setActive(i).then(function(t){r.navCtrl.setTopOutlet(r),r.activateEvents.emit(n.instance),r.stackEvents.emit(t)})},t.prototype.canGoBack=function(t,e){return void 0===t&&(t=1),this.stackCtrl.canGoBack(t,e)},t.prototype.pop=function(t,e){return void 0===t&&(t=1),this.stackCtrl.pop(t,e)},t.prototype.getLastUrl=function(t){var e=this.stackCtrl.getLastUrl(t);return e?e.url:void 0},t.prototype.getActiveStackId=function(){return this.stackCtrl.getActiveStackId()},t}(),we=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===a.a?this.route:t===a.b?this.childContexts:this.parent.get(t,e)},t}(),Se=function(){function t(t){this.navCtrl=t,this.ionTabsWillChange=new i.m,this.ionTabsDidChange=new i.m}return t.prototype.onPageSelected=function(t){var e=t.enteringView.stackId;t.tabSwitch&&void 0!==e&&(this.tabBar&&(this.tabBar.selectedTab=e),this.ionTabsWillChange.emit({tab:e}),this.ionTabsDidChange.emit({tab:e}))},t.prototype.select=function(t){var e=this.outlet.getActiveStackId()===t,n=this.outlet.tabsPrefix+"/"+t,r=e?n:this.outlet.getLastUrl(t)||n;return this.navCtrl.navigateRoot(r,{animated:!0,animationDirection:"back"})},t.prototype.getSelected=function(){return this.outlet.getActiveStackId()},t}(),Ee=function(){function t(t,e){this.routerOutlet=t,this.navCtrl=e}return t.prototype.onClick=function(t){this.routerOutlet&&this.routerOutlet.canGoBack()?(this.routerOutlet.pop(),t.preventDefault()):null!=this.defaultHref&&(this.navCtrl.navigateBack(this.defaultHref),t.preventDefault())},t}(),_e=function(){function t(t,e,n,r,i){this.locationStrategy=t,this.navCtrl=e,this.elementRef=n,this.router=r,this.routerLink=i,this.routerDirection="forward"}return t.prototype.ngOnInit=function(){this.updateTargetUrlAndHref()},t.prototype.ngOnChanges=function(){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.updateTargetUrlAndHref=function(){if(this.routerLink){var t=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=t}},t.prototype.onClick=function(t){this.navCtrl.setDirection(this.routerDirection),t.preventDefault()},t}(),Te=function(){function t(t,e,n){this.zone=t,this.iterableDiffers=e,this.refMap=new WeakMap,this.el=n.nativeElement,this.el.nodeRender=this.nodeRender.bind(this)}return t.prototype.ngOnChanges=function(t){if(this.trackBy&&"items"in t){var e=t.items.currentValue;if(void 0===this.differ&&null!=e)try{this.differ=this.iterableDiffers.find(e).create(this.trackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+e+"'. VirtualScroll only supports binding to Iterables such as Arrays.")}}},t.prototype.ngDoCheck=function(){null!==(void 0!==this.differ&&this.items?this.differ.diff(this.items):null)&&this.checkRange(0)},t.prototype.nodeRender=function(t,e,n){var r=this;return this.zone.run(function(){var i;if(t){var o=(i=r.refMap.get(t)).context;o.$implicit=e.value,o.index=e.index}else i=r.itmTmp.viewContainer.createEmbeddedView(r.getComponent(e.type),{$implicit:e.value,index:n},n),t=function(t){for(var e=i.rootNodes,n=0;n<e.length;n++)if(1===e[n].nodeType)return e[n];throw new Error("virtual element was not created")}(),r.refMap.set(t,i);return i.detectChanges(),t})},t.prototype.getComponent=function(t){switch(t){case"item":return this.itmTmp.templateRef;case"header":return this.hdrTmp.templateRef;case"footer":return this.ftrTmp.templateRef}throw new Error("template for virtual item was not provided")},t}();function Ie(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=function(t,e){var n=e.querySelector(t);return n||(n=e.createElement(t),e.body.appendChild(n)),n}(t,e);return o.componentOnReady().then(function(){return o[n].apply(o,r)})}R(Te,["approxItemHeight","approxHeaderHeight","approxFooterHeight","headerFn","footerFn","items","itemHeight"]),P(Te,["checkEnd","checkRange","positionForItem"]);var Ce=function(){function t(t,e){this.ctrl=t,this.doc=e}return t.prototype.create=function(t){return Ie(this.ctrl,this.doc,"create",t)},t.prototype.dismiss=function(t,e,n){return Ie(this.ctrl,this.doc,"dismiss",t,e,n)},t.prototype.getTop=function(){return Ie(this.ctrl,this.doc,"getTop")},t}(),ke=function(t){function e(e,n,r,i){var o=t.call(this,"ion-modal-controller",i)||this;return o.angularDelegate=e,o.resolver=n,o.injector=r,o}return Object(r.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(Ce),Ae=function(t){function e(e,n,r,i){var o=t.call(this,"ion-popover-controller",i)||this;return o.angularDelegate=e,o.resolver=n,o.injector=r,o}return Object(r.d)(e,t),e.prototype.create=function(e){return t.prototype.create.call(this,Object(r.a)({},e,{delegate:this.angularDelegate.create(this.resolver,this.injector)}))},e}(Ce),Oe=function(t){function e(e){return t.call(this,"ion-toast-controller",e)||this}return Object(r.d)(e,t),e.ngInjectableDef=Object(i.S)({factory:function(){return new e(Object(i.W)(o.c))},token:e,providedIn:"root"}),e}(Ce),xe=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.shouldAttach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){if(t.routeConfig!==e.routeConfig)return!1;if(t.component!==e.component)return!1;var n=t.params,r=e.params,i=Object.keys(n),o=Object.keys(r);if(i.length!==o.length)return!1;for(var a=0,s=i;a<s.length;a++){var u=s[a];if(r[u]!==n[u])return!1}return!0},t}();function De(t,e){return function(){var n=e.defaultView;if(n){var r=n.Ionic=n.Ionic||{};return r.config=t,r.asyncQueue=!1,r.ael=function(t,e,n,r){t.__zone_symbol__addEventListener&&Re(e)?t.__zone_symbol__addEventListener(e,n,r):t.addEventListener(e,n,r)},r.rel=function(t,e,n,r){t.__zone_symbol__removeEventListener&&Re(e)?t.__zone_symbol__removeEventListener(e,n,r):t.removeEventListener(e,n,r)},function(t,e){return Object(c.a)(t,l,{exclude:["ion-tabs","ion-tab"]})}(n)}}}var Ne=["scroll","resize","touchstart","touchmove","touchend","mousedown","mousemove","mouseup","ionStyle"];function Re(t){return Ne.indexOf(t)>=0}var Pe=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:ne,useValue:e},{provide:i.d,useFactory:De,multi:!0,deps:[ne,o.c]}]}},t}()},ZhmJ:function(t,e,n){n("u00B")("observable")},Zn8D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("psW0"),i=n("mChF");function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},Zp05:function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},a3Cf:function(t,e,n){"use strict";var r=n("HPGL"),i=n("Lq6m");n.d(e,"IonicNativePlugin",function(){return i.a}),n("KOl+");var o=n("xSm1");n.d(e,"cordova",function(){return o.a}),n("hKQe"),n("Rt+L");var a=n("pxS/");n.d(e,"cordovaPropertyGet",function(){return a.a}),n.d(e,"cordovaPropertySet",function(){return a.b}),n("Ji5e"),n("4pTB"),Object(r.a)()},a5Eg:function(t,e,n){var r=n("g0Mr"),i=n("j/6h"),o=n("ifzb")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),r(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"b/Kf":function(t,e,n){var r=n("rSCU"),i=n("c0bx"),o=n("jPdx");t.exports=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},b7mW:function(t,e,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return i}),r.prototype=Object.create(Error.prototype);var i=r},bKVB:function(t,e,n){var r=n("UOZm"),i=n("xGvh"),o=n("rSCU"),a=n("IiNp"),s=n("g0Mr"),u=n("q098"),c=Object.getOwnPropertyDescriptor;e.f=n("lIov")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return i(!r.f.call(t,e),t[e])}},bne5:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("6blF"),i=n("isby"),o=n("2Bdj"),a=n("67Y/");function s(t,e,n,u){return Object(o.a)(n)&&(u=n,n=void 0),u?s(t,e,n).pipe(Object(a.a)(function(t){return Object(i.a)(t)?u.apply(void 0,t):u(t)})):new r.a(function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}},c0bx:function(t,e,n){var r=n("sQ1z"),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},cBjU:function(t,e,n){"use strict";function r(t,e){return"sc-"+t.t+(e&&e!==s?"-"+e:"")}function i(t,e){return t+(e?"-h":"-s")}function o(t,e){for(var n,r,i=null,o=!1,a=!1,s=arguments.length;s-- >2;)T.push(arguments[s]);for(;T.length>0;){var u=T.pop();if(u&&void 0!==u.pop)for(s=u.length;s--;)T.push(u[s]);else"boolean"==typeof u&&(u=null),(a="function"!=typeof t)&&(null==u?u="":"number"==typeof u?u=String(u):"string"!=typeof u&&(a=!1)),a&&o?i[i.length-1].vtext+=u:null===i?i=[a?{vtext:u}:u]:i.push(a?{vtext:u}:u),o=a}if(null!=e){if(e.className&&(e.class=e.className),"object"==typeof e.class){for(s in e.class)e.class[s]&&T.push(s);e.class=T.join(" "),T.length=0}null!=e.key&&(n=e.key),null!=e.name&&(r=e.name)}return"function"==typeof t?t(e,i||[],I):{vtag:t,vchildren:i,vtext:void 0,vattrs:e,vkey:n,vname:r,i:void 0,o:!1}}function a(t,e,r){void 0===r&&(r={});var i=Array.isArray(e)?e:[e],o=t.document,a=r.hydratedCssClass||"hydrated",s=r.exclude;s&&(i=i.filter(function(t){return-1===s.indexOf(t[0])}));var u=i.map(function(t){return t[0]});if(u.length>0){var c=o.createElement("style");c.innerHTML=u.join()+"{visibility:hidden}."+a+"{visibility:inherit}",c.setAttribute("data-styles",""),o.head.insertBefore(c,o.head.firstChild)}var l=r.namespace||"Ionic";return B||(B=!0,function(t,e,n){(t["s-apps"]=t["s-apps"]||[]).push(e),n.componentOnReady||(n.componentOnReady=function(){function e(e){if(n.nodeName.indexOf("-")>0){for(var r=t["s-apps"],i=0,o=0;o<r.length;o++)if(t[r[o]].componentOnReady){if(t[r[o]].componentOnReady(n,e))return;i++}if(i<r.length)return void(t["s-cr"]=t["s-cr"]||[]).push([n,e])}e(null)}var n=this;return t.Promise?new t.Promise(e):{then:e}})}(t,l,t.HTMLElement.prototype)),function(t){t.k=function(){function e(){var t=setTimeout;return function(){return t(n,1)}}function n(){for(var t=0;t<g;t+=2)(0,A[t])(A[t+1]),A[t]=void 0,A[t+1]=void 0;g=0}function r(t,e){var n=this,r=new this.constructor(o);void 0===r[x]&&m(r);var i=n.A;if(i){var a=arguments[i-1];S(function(){return p(i,r,a,n.C)})}else f(n,r,t,e);return r}function i(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(o);return u(e,t),e}function o(){}function a(t){try{return t.then}catch(t){return P.error=t,P}}function s(t,e,n){e.constructor===t.constructor&&n===r&&e.constructor.resolve===i?function(t,e){e.A===N?l(t,e.C):e.A===R?h(t,e.C):f(e,void 0,function(e){return u(t,e)},function(e){return h(t,e)})}(t,e):n===P?(h(t,P.error),P.error=null):void 0===n?l(t,e):"function"==typeof n?function(t,e,n){S(function(t){var r=!1,i=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){r||(r=!0,e!==n?u(t,n):l(t,n))},function(e){r||(r=!0,h(t,e))});!r&&i&&(r=!0,h(t,i))},t)}(t,e,n):l(t,e)}function u(t,e){if(t===e)h(t,new TypeError("cannot resolve promise w/ itself"));else{var n=typeof e;null===e||"object"!==n&&"function"!==n?l(t,e):s(t,e,a(e))}}function c(t){t.S&&t.S(t.C),d(t)}function l(t,e){t.A===D&&(t.C=e,t.A=N,0!==t._.length&&S(d,t))}function h(t,e){t.A===D&&(t.A=R,t.C=e,S(c,t))}function f(t,e,n,r){var i=t._,o=i.length;t.S=null,i[o]=e,i[o+N]=n,i[o+R]=r,0===o&&t.A&&S(d,t)}function d(t){var e=t._,n=t.A;if(0!==e.length){for(var r,i,o=t.C,a=0;a<e.length;a+=3)i=e[a+n],(r=e[a])?p(n,r,i,o):i(o);t._.length=0}}function p(t,e,n,r){var i="function"==typeof n,o=void 0,a=void 0,s=void 0,c=void 0;if(i){try{o=n(r)}catch(t){P.error=t,o=P}if(o===P?(c=!0,a=o.error,o.error=null):s=!0,e===o)return void h(e,new TypeError("Cannot return same promise"))}else o=r,s=!0;e.A===D&&(i&&s?u(e,o):c?h(e,a):t===N?l(e,o):t===R&&h(e,o))}function m(t){t[x]=j++,t.A=void 0,t.C=void 0,t._=[]}var y,v=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},g=0,b=void 0,w=void 0,S=function(t,e){A[g]=t,A[g+1]=e,2===(g+=2)&&(w?w(n):O())},E=(y=void 0!==t?t:void 0)||{},_=E.MutationObserver||E.WebKitMutationObserver;E="undefined"==typeof self;var T,I,C,k="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,A=Array(1e3),O=void 0;O=_?(T=0,I=new _(n),C=document.createTextNode(""),I.observe(C,{characterData:!0}),function(){C.data=T=++T%2}):k?function(){var t=new MessageChannel;return t.port1.onmessage=n,function(){return t.port2.postMessage(0)}}():void 0===y?function(){try{var t=Function("return this")().P("vertx");return void 0!==(b=t.T||t.W)?function(){b(n)}:e()}catch(t){return e()}}():e();var x=Math.random().toString(36).substring(2),D=void 0,N=1,R=2,P={error:null},j=0,M=function(){function t(t,e){this.N=t,this.R=new t(o),this.R[x]||m(this.R),v(e)?(this.L=this.length=e.length,this.C=Array(this.length),0===this.length?l(this.R,this.C):(this.length=this.length||0,this.D(e),0===this.L&&l(this.R,this.C))):h(this.R,Error("Array Methods must be provided an Array"))}return t.prototype.D=function(t){for(var e=0;this.A===D&&e<t.length;e++)this.F(t[e],e)},t.prototype.F=function(t,e){var n=this.N,u=n.resolve;u===i?(u=a(t))===r&&t.A!==D?this.H(t.A,e,t.C):"function"!=typeof u?(this.L--,this.C[e]=t):n===L?(s(n=new n(o),t,u),this.q(n,e)):this.q(new n(function(e){return e(t)}),e):this.q(u(t),e)},t.prototype.H=function(t,e,n){var r=this.R;r.A===D&&(this.L--,t===R?h(r,n):this.C[e]=n),0===this.L&&l(r,this.C)},t.prototype.q=function(t,e){var n=this;f(t,void 0,function(t){return n.H(N,e,t)},function(t){return n.H(R,e,t)})},t}(),L=function(){function t(e){if(this[x]=j++,this.C=this.A=void 0,this._=[],o!==e){if("function"!=typeof e)throw new TypeError("Must pass a resolver fn as 1st arg");if(!(this instanceof t))throw new TypeError("Failed to construct 'Promise': Use the 'new' operator.");!function(t,e){try{e(function(e){u(t,e)},function(e){h(t,e)})}catch(e){h(t,e)}}(this,e)}}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){throw n})})},t}();return L.prototype.then=r,L.all=function(t){return new M(this,t).R},L.race=function(t){var e=this;return v(t)?new e(function(n,r){for(var i=t.length,o=0;o<i;o++)e.resolve(t[o]).then(n,r)}):new e(function(t,e){return e(new TypeError("Must pass array to race"))})},L.resolve=i,L.reject=function(t){var e=new this(o);return h(e,t),e},L.U=function(t){w=t},L.B=function(t){S=t},L.I=S,L.G=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw Error("polyfill failed")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=L},L.Promise=L,L.G(),L}();var e=[];return t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove)||e.push(n.e(185).then(n.bind(null,"POma"))),"function"==typeof Object.assign&&Object.entries||e.push(n.e(187).then(n.bind(null,"9iCY"))),Array.prototype.find&&Array.prototype.includes||e.push(n.e(183).then(n.bind(null,"CAJ8"))),String.prototype.startsWith&&String.prototype.endsWith||e.push(n.e(188).then(n.bind(null,"PBQ9"))),t.fetch||e.push(n.e(186).then(n.bind(null,"RxuH"))),"undefined"!=typeof WeakMap&&t.CSS&&t.CSS.supports&&t.CSS.supports("color","var(--c)")||e.push(n.e(184).then(n.bind(null,"KEMf"))),function(){try{var t=new URL("b","http://a");return t.pathname="c%20d","http://a/c%20d"===t.href&&t.searchParams}catch(t){return!1}}||e.push(n.e(189).then(n.bind(null,"YJhb"))),Promise.all(e).then(function(e){e.forEach(function(e){try{e.applyPolyfill(t,t.document)}catch(t){console.error(t)}})})}(t).then(function(){function e(){i.forEach(function(e){var r;!function(t){return/\{\s*\[native code\]\s*\}/.test(""+t)}(t.customElements.define)?(r=function(e){return t.HTMLElement.call(this,e)}).prototype=Object.create(t.HTMLElement.prototype,{constructor:{value:r,configurable:!0}}):r=new Function("w","return class extends w.HTMLElement{}")(t),V[l].u(function(t){var e=C(t),r=e.s,i=d(t[0]);return e.s=function(t){return function(t,e,r){return n("nFGs")("./"+t+(e?".sc":"")+".entry.js").then(function(t){return t[r]})}("string"==typeof r?r:r[t.mode],t.scoped,i)},e}(e),r)})}if(!V[l]){var s={},u=r.resourcesUrl||"./";(function(t,e){var n=function(t,e){return function(t){return r(t)}(t).includes(e)},r=function(t){t.Ionic=t.Ionic||{};var e=t.Ionic.platforms;return null==e&&(e=t.Ionic.platforms=i(t)).forEach(function(e){return t.document.documentElement.classList.add("plt-"+e)}),e},i=function(t){return Object.keys(h).filter(function(e){return h[e](t)})},o=function(t){return l(t,"(any-pointer:coarse)")},a=function(t){return s(t)||u(t)},s=function(t){return!!(t.cordova||t.phonegap||t.PhoneGap)},u=function(t){var e=t.Capacitor;return!(!e||!e.isNative)},c=function(t,e){return!(!t.navigator||!t.navigator.userAgent)&&e.test(t.navigator.userAgent)},l=function(t,e){return!!t.matchMedia&&t.matchMedia(e).matches},h={ipad:function(t){return c(t,/iPad/i)},iphone:function(t){return c(t,/iPhone/i)},ios:function(t){return c(t,/iPad|iPhone|iPod/i)},android:function(t){return c(t,/android|sink/i)},phablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},tablet:function(t){var e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>460&&r<820&&i>780&&i<1400},cordova:s,capacitor:u,electron:function(t){return c(t,/electron/)},pwa:function(t){return!!t.matchMedia&&(t.matchMedia("(display-mode: standalone)").matches||t.navigator.standalone)},mobile:o,mobileweb:function(t){return o(t)&&!a(t)},desktop:function(t){return!o(t)},hybrid:a},f=function(){function t(t){this.m=new Map(Object.entries(t))}return t.prototype.get=function(t,e){var n=this.m.get(t);return void 0!==n?n:e},t.prototype.getBoolean=function(t,e){void 0===e&&(e=!1);var n=this.m.get(t);return void 0===n?e:"string"==typeof n?"true"===n:!!n},t.prototype.getNumber=function(t,e){var n=parseFloat(this.m.get(t));return isNaN(n)?void 0!==e?e:NaN:n},t.prototype.set=function(t,e){this.m.set(t,e)},t}(),d="undefined"!=typeof window?window:{},p=d.Ionic=d.Ionic||{};Object.defineProperty(p,"queue",{get:function(){return t.queue}}),r(d),t.isPlatform=n;var m,y=Object.assign({},function(t){try{var e=t.sessionStorage.getItem("ionic-persist-config");return null!==e?JSON.parse(e):{}}catch(t){return{}}}(d),{persistConfig:!1},p.config,(m={},d.location.search.slice(1).split("&").map(function(t){return t.split("=")}).map(function(t){var e=t[1];return[decodeURIComponent(t[0]),decodeURIComponent(e)]}).filter(function(t){return function(t,e){return t.substr(0,e.length)===e}(t[0],"ionic:")}).map(function(t){var e=t[1];return[t[0].slice("ionic:".length),e]}).forEach(function(t){m[t[0]]=t[1]}),m)),v=p.config=t.config=new f(y);v.getBoolean("persistConfig")&&function(t,e){try{t.sessionStorage.setItem("ionic-persist-config",JSON.stringify(e))}catch(t){return}}(d,y);var g=d.document?d.document.documentElement:null,b=v.get("mode",g&&g.getAttribute("mode")||(n(d,"ios")?"ios":"md"));p.mode=t.mode=b,v.set("mode",b),g&&(g.setAttribute("mode",b),g.classList.add(b)),v.getBoolean("_testing")&&v.set("animated",!1)})(s),V[l]=q(l,s,t,o,u,a,i)}if(window.customStyleShim)return V[l].l=window.customStyleShim,V[l].l.initShim().then(e);e()})}n.d(e,"a",function(){return a}),n.d(e,"b",function(){return o});var s="$",u={},c={enter:13,escape:27,space:32,tab:9,left:37,up:38,right:39,down:40},l=function(t,e,n,i){var o=n.t+i.mode,a=n[o];if((2===n.Y||1===n.Y&&!t.J.Z)&&(i["s-sc"]=a?r(n,i.mode):r(n)),a||(a=n[o=n.t+s]),a){var u=e.K.head;if(e.Z)if(1===n.Y)u=i.shadowRoot;else{var c=i.getRootNode();c.host&&(u=c)}var l=t.V.get(u);if(l||t.V.set(u,l={}),!l[o]){var h=void 0;if(t.l?h=t.l.createHostStyle(i,o,a):((h=e.X("style")).innerHTML=a,l[o]=!0),h){var f=u.querySelectorAll("[data-styles]");e.nn(u,h,f.length&&f[f.length-1].nextSibling||u.firstChild)}}}},h=function(t){return null!=t},f=function(t){return t.toLowerCase()},d=function(t){return f(t).split("-").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join("")},p=function(){},m=function(t,e,n,r,i){void 0===r&&(r="boolean"==typeof n),i=e!==(e=e.replace(/^xlink\:?/,"")),null==n||r&&(!n||"false"===n)?i?t.removeAttributeNS(y,f(e)):t.removeAttribute(e):"function"!=typeof n&&(n=r?"":n.toString(),i?t.setAttributeNS(y,f(e),n):t.setAttribute(e,n))},y="http://www.w3.org/1999/xlink",v=function(t,e,n,r,i,o,a){if("class"!==n||o)if("style"===n){for(var s in r)i&&null!=i[s]||(/-/.test(s)?e.style.removeProperty(s):e.style[s]="");for(var s in i)r&&i[s]===r[s]||(/-/.test(s)?e.style.setProperty(s,i[s]):e.style[s]=i[s])}else if("o"!==n[0]||"n"!==n[1]||!/[A-Z]/.test(n[2])||n in e)if("list"!==n&&"type"!==n&&!o&&(n in e||-1!==["object","function"].indexOf(typeof i)&&null!==i)){var u=t.tn(e);u&&u.en&&u.en[n]?(b(e,n,i),a&&u.en[n].rn&&m(e,u.en[n].in,i,4===u.en[n].on)):"ref"!==n&&(b(e,n,null==i?"":i),null!=i&&!1!==i||t.J.un(e,n))}else null!=i&&"key"!==n?m(e,n,i):(o||t.J.fn(e,n)&&(null==i||!1===i))&&t.J.un(e,n);else n=f(n)in e?f(n.substring(2)):f(n[2])+n.substring(3),i?i!==r&&t.J.cn(e,n,i,0):t.J.an(e,n,0);else if(r!==i){var c=g(r),l=g(i),h=c.filter(function(t){return!l.includes(t)}),d=g(e.className).filter(function(t){return!h.includes(t)}),p=l.filter(function(t){return!c.includes(t)&&!d.includes(t)});d.push.apply(d,p),e.className=d.join(" ")}},g=function(t){return null==t||""===t?[]:t.trim().split(/\s+/)},b=function(t,e,n){try{t[e]=n}catch(t){}},w=function(t,e,n,r,i){var o=11===n.i.nodeType&&n.i.host?n.i.host:n.i,a=e&&e.vattrs||u,s=n.vattrs||u;for(i in a)s&&null!=s[i]||null==a[i]||v(t,o,i,a[i],void 0,r,n.o);for(i in s)i in a&&s[i]===("value"===i||"checked"===i?o[i]:a[i])||v(t,o,i,a[i],s[i],r,n.o)},S=!1,E=function(t,e){t&&(t.vattrs&&t.vattrs.ref&&t.vattrs.ref(e?null:t.i),t.vchildren&&t.vchildren.forEach(function(t){E(t,e)}))},_=function(t,e){var n=0,r=!1,i=function(){return e.performance.now()},o=!1!==t.asyncQueue,a=Promise.resolve(),s=[],u=[],c=[],l=[],h=function(e){return function(n){e.push(n),r||(r=!0,t.raf(p))}},f=function(t){for(var e=0;e<t.length;e++)try{t[e](i())}catch(t){console.error(t)}t.length=0},d=function(t,e){for(var n,r=0;r<t.length&&(n=i())<e;)try{t[r++](n)}catch(t){console.error(t)}r===t.length?t.length=0:0!==r&&t.splice(0,r)},p=function(){n++,f(u);var e=o?i()+7*Math.ceil(n*(1/22)):1/0;d(c,e),d(l,e),c.length>0&&(l.push.apply(l,c),c.length=0),(r=u.length+c.length+l.length>0)?t.raf(p):n=0};return t.raf||(t.raf=e.requestAnimationFrame.bind(e)),{tick:function(t){s.push(t),1===s.length&&a.then(function(){return f(s)})},read:h(u),write:h(c)}},T=[],I={forEach:function(t,e){return t.forEach(e)},map:function(t,e){return t.map(e)}},C=function(t,e,n){var r=t[0],i=t[1],o=t[3],a=t[4],s=t[5],u={color:{in:"color"}};if(o)for(e=0;e<o.length;e++)u[(n=o[e])[0]]={sn:n[1],rn:!!n[2],in:"string"==typeof n[3]?n[3]:n[3]?n[0]:0,on:n[4]};return{t:r,s:i,en:Object.assign({},u),Y:a,ln:s?s.map(k):void 0}},k=function(t){return{vn:t[0],pn:t[1],dn:!!t[2],hn:!!t[3],yn:!!t[4]}},A=function(t,e){return h(e)&&"object"!=typeof e&&"function"!=typeof e?t===Boolean||4===t?"false"!==e&&(""===e||!!e):t===Number||8===t?parseFloat(e):t===String||2===t?e.toString():e:e},O=function(t,e,n){t.bn.add(e),t.wn.has(e)||(t.wn.set(e,!0),t.mn?t.queue.write(function(){return x(t,e,n)}):t.queue.tick(function(){return x(t,e,n)}))},x=function(t,e,n,r,a,s){return function(t,e,n,r){return new(n||(n=Promise))(function(t,e){function i(t){try{a(r.next(t))}catch(t){e(t)}}function o(t){try{a(r.throw(t))}catch(t){e(t)}}function a(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(i,o)}a((r=r.apply(void 0,[])).next())})}(0,0,void 0,function(){var r,u;return function(t,e){function n(n){return function(a){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,i&&(o=2&n[0]?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,i=n[1],n=[0];continue;case 7:n=s.g.pop(),s.M.pop();continue;default:if(!(o=(o=s.M).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.g.push(n);break}o[2]&&s.g.pop(),s.M.pop();continue}n=e.call(t,s)}catch(t){n=[6,t],i=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}var r,i,o,a,s={label:0,j:function(){if(1&o[0])throw o[1];return o[1]},M:[],g:[]};return a={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a}(this,function(c){switch(c.label){case 0:if(t.wn.delete(e),t.gn.has(e))return[3,12];if(a=t.Mn.get(e))return[3,6];if((s=t.jn.get(e))&&!s["s-rn"])return(s["s-rc"]=s["s-rc"]||[]).push(function(){x(t,e,n)}),[2];if(!(a=j(t,e,t.kn.get(e),n)))return[3,5];c.label=1;case 1:return c.M.push([1,4,,5]),a.componentWillLoad?[4,a.componentWillLoad()]:[3,3];case 2:c.j(),c.label=3;case 3:return[3,5];case 4:return r=c.j(),t.$n(r,3,e),[3,5];case 5:return[3,11];case 6:if(!a)return[3,11];c.label=7;case 7:return c.M.push([7,10,,11]),a.componentWillUpdate?[4,a.componentWillUpdate()]:[3,9];case 8:c.j(),c.label=9;case 9:return[3,11];case 10:return u=c.j(),t.$n(u,5,e),[3,11];case 11:(function(t,e,n,r){try{var a,s=e.An.host,u=e.An.encapsulation,c="shadow"===u&&t.J.Z,l=n;if(a=function(t,e,n){return t&&Object.keys(t).forEach(function(r){t[r].reflectToAttr&&((n=n||{})[r]=e[r])}),n}(e.An.properties,r),c&&(l=n.shadowRoot),!n["s-rn"]){t.En(t,t.J,e,n);var h=n["s-sc"];h&&(t.J.Cn(n,i(h,!0)),"scoped"===u&&t.J.Cn(n,i(h)))}if(r.render||r.hostData||s||a){t.On=!0;var f=r.render&&r.render(),d=void 0;d=r.hostData&&r.hostData(),a&&(d=d?Object.assign(d,a):a),t.On=!1;var p=o(null,d,f),m=t.Sn.get(n)||{};m.i=l,p.o=!0,t.Sn.set(n,t.render(n,m,p,c,u))}t.l&&t.l.updateHost(n),n["s-rn"]=!0,n["s-rc"]&&(n["s-rc"].forEach(function(t){return t()}),n["s-rc"]=null)}catch(y){t.On=!1,t.$n(y,8,n,!0)}})(t,t.tn(e),e,a),e["s-init"](),c.label=12;case 12:return[2]}})})},D=function(t,e,n,r,i,o,a){(a=t._n.get(e))||t._n.set(e,a={});var s=a[n];if(r!==s&&(a[n]=r,o=t.Mn.get(e))){var u=a[P+n];if(u)for(var c=0;c<u.length;c++)try{o[u[c]].call(o,r,s,n)}catch(t){console.error(t)}!t.On&&e["s-rn"]&&O(t,e,i)}},N=function(t,e,n){Object.defineProperty(t,e,{configurable:!0,value:n})},R=function(t,e,n,r){Object.defineProperty(t,e,{configurable:!0,get:n,set:r})},P="wc-",j=function(t,e,n,r,i,o,a,s){try{i=new(o=t.tn(e).An),function(t,e,n,r,i,o){t.Pn.set(r,n),t._n.has(n)||t._n.set(n,{}),Object.entries(Object.assign({color:{type:String}},e.properties,{mode:{type:String}})).forEach(function(e){!function(t,e,n,r,i,o,a,s,u){if(e.type||e.state){var c=t._n.get(n);e.state||(!e.attr||void 0!==c[i]&&""!==c[i]||(s=o&&o.Tn)&&h(u=s[e.attr])&&(c[i]=A(e.type,u)),n.hasOwnProperty(i)&&(void 0===c[i]&&(c[i]=A(e.type,n[i])),"mode"!==i&&delete n[i])),r.hasOwnProperty(i)&&void 0===c[i]&&(c[i]=r[i]),e.watchCallbacks&&(c[P+i]=e.watchCallbacks.slice()),R(r,i,function(e){return(e=t._n.get(t.Pn.get(this)))&&e[i]},function(n,r){(r=t.Pn.get(this))&&(e.state||e.mutable)&&D(t,r,i,n,a)})}else if(e.elementRef)N(r,i,n);else if(e.method)N(n,i,r[i].bind(r));else if(e.context){var l=t.Wn(e.context);void 0!==l&&N(r,i,l.getContext&&l.getContext(n)||l)}else e.connect&&N(r,i,t.xn(e.connect))}(t,e[1],n,r,e[0],i,o)})}(t,o,e,i,n,r),function(t,e,n){if(e){var r=t.Pn.get(n);e.forEach(function(e){n[e.method]={emit:function(n){return t.Nn(r,e.name,{bubbles:e.bubbles,composed:e.composed,cancelable:e.cancelable,detail:n})}}})}}(t,o.events,i);try{if(a=t.Rn.get(e)){for(s=0;s<a.length;s+=2)i[a[s]](a[s+1]);t.Rn.delete(e)}}catch(n){t.$n(n,2,e)}}catch(n){i={},t.$n(n,7,e,!0)}return t.Mn.set(e,i),i},M=function(t,e){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1===r.nodeType){if(t.tn(r)&&!t.Ln.has(r))return!1;if(!M(t,r))return!1}}return!0},L=function(t,e,n,r,i,o){if(t.bn.delete(e),(i=t.jn.get(e))&&((r=i["s-ld"])&&((n=r.indexOf(e))>-1&&r.splice(n,1),r.length||i["s-init"]&&i["s-init"]()),t.jn.delete(e)),t.Dn.length&&!t.bn.size)for(;o=t.Dn.shift();)o()},U=function(t,e,n,r){return function(){var i=arguments;return F(t,e,n).then(function(t){return t[r].apply(t,i)})}},F=function(t,e,n,r,i){return r=e[n],(i=t.K.body)?(r||(r=i.querySelector(n)),r||(r=e[n]=t.X(n),t.Fn(i,r)),r.componentOnReady()):Promise.resolve()},q=function(t,e,n,r,i,a){var u=n.performance,d={html:{}},m={},y=n[t]=n[t]||{},v=function(t,e,n){var r=new WeakMap,i={K:n,Z:!!n.documentElement.attachShadow,Hn:!1,qn:function(t){return t.nodeType},X:function(t){return n.createElement(t)},Un:function(t,e){return n.createElementNS(t,e)},Bn:function(t){return n.createTextNode(t)},In:function(t){return n.createComment(t)},nn:function(t,e,n){return t.insertBefore(e,n)},Gn:function(t){return t.remove()},Fn:function(t,e){return t.appendChild(e)},Cn:function(t,e){if(t.classList)t.classList.add(e);else if("svg"===t.nodeName.toLowerCase()){var n=t.getAttribute("class")||"";n.split(" ").includes(e)||(n+=" "+e),t.setAttribute("class",n.trim())}},Qn:function(t){return t.childNodes},Yn:function(t){return t.parentNode},Zn:function(t){return t.nextSibling},zn:function(t){return t.previousSibling},Jn:function(t){return f(t.nodeName)},Kn:function(t){return t.textContent},Vn:function(t,e){return t.textContent=e},Xn:function(t,e){return t.getAttribute(e)},nt:function(t,e,n){return t.setAttribute(e,n)},un:function(t,e){return t.removeAttribute(e)},fn:function(t,e){return t.hasAttribute(e)},tt:function(e){return e.getAttribute("mode")||(t.Context||{}).mode},et:function(t,r){return"child"===r?t.firstElementChild:"parent"===r?i.rt(t):"body"===r?n.body:"document"===r?n:"window"===r?e:t},cn:function(e,n,o,a,s,u,l,h,f,d){var p=e,m=o,y=r.get(e);d=n+a,y&&y[d]&&y[d](),"string"==typeof l?p=i.et(e,l):"object"==typeof l?p=l:(f=n.split(":")).length>1&&(p=i.et(e,f[0]),n=f[1]),p&&((f=n.split(".")).length>1&&(n=f[0],m=function(t){t.keyCode===c[f[1]]&&o(t)}),t.ael(p,n,m,h=i.Hn?{capture:!!s,passive:!!u}:!!s),y||r.set(e,y={}),y[d]=function(){p&&t.rel(p,n,m,h),y[d]=null})},an:function(t,e,n,i){(i=r.get(t))&&(e?i[e+n]&&i[e+n]():Object.keys(i).forEach(function(t){i[t]&&i[t]()}))},it:function(t,n,r,i){return i=new e.CustomEvent(n,r),t&&t.dispatchEvent(i),i},rt:function(t,e){return(e=i.Yn(t))&&11===i.qn(e)?e.host:e},ot:function(t,e,n,r){return t.setAttributeNS(e,n,r)},ut:function(t,e){return t.attachShadow(e)}};"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(t,e,r){return e=e||{},(r=n.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r},e.CustomEvent.prototype=e.Event.prototype),t.ael||(t.ael=function(t,e,n,r){return t.addEventListener(e,n,r)},t.rel=function(t,e,n,r){return t.removeEventListener(e,n,r)});try{e.addEventListener("e",null,Object.defineProperty({},"passive",{get:function(){return i.Hn=!0}}))}catch(t){}return i}(y,n,r),g=v.K.documentElement,b=n["s-defined"]=n["s-defined"]||{},T={J:v,u:function(t,e){n.customElements.get(t.t)||(function(t,e,n,r,i){if(n.connectedCallback=function(){!function(t,e,n){t.ft.has(n)||(t.ft.set(n,!0),function(t,e){var n=t.tn(e);n.ln&&n.ln.forEach(function(n){n.dn||t.J.cn(e,n.vn,function(t,e,n,r){return function(i){(r=t.Mn.get(e))?r[n](i):((r=t.Rn.get(e)||[]).push(n,i),t.Rn.set(e,r))}}(t,e,n.pn),1,n.yn,n.hn)})}(t,n)),t.gn.delete(n),t.Ln.has(n)||(t.ct=!0,t.bn.add(n),t.Ln.set(n,!0),function(t,e,n){for(n=e;n=t.J.rt(n);)if(t.at(n)){t.st.has(e)||(t.jn.set(e,n),(n["s-ld"]=n["s-ld"]||[]).push(e));break}}(t,n),t.queue.tick(function(){t.kn.set(n,function(t,e,n,r,i){if(n.mode||(n.mode=t.tt(n)),n["s-cr"]||t.Xn(n,"ssrv")||t.Z&&1===e.Y||(n["s-cr"]=t.Bn(""),n["s-cr"]["s-cn"]=!0,t.nn(n,n["s-cr"],t.Qn(n)[0])),!t.Z&&1===e.Y)try{!window.HTMLElement||"shadowRoot"in window.HTMLElement.prototype||(n.shadowRoot=n)}catch(t){}return 1===e.Y&&t.Z&&!n.shadowRoot&&t.ut(n,{mode:"open"}),r={Tn:{}},e.en&&Object.keys(e.en).forEach(function(o){(i=e.en[o].in)&&(r.Tn[i]=t.Xn(n,i))}),r}(t.J,e,n)),t.lt(e,n)}))}(t,e,this)},n.disconnectedCallback=function(){!function(t,e){if(!t.vt&&function(t,e){for(;e;){if(!t.Yn(e))return 9!==t.qn(e);e=t.Yn(e)}}(t.J,e)){t.gn.set(e,!0),L(t,e),E(t.Sn.get(e),!0);var n=t.Mn.get(e);n&&n.componentDidUnload&&n.componentDidUnload(),t.J.an(e),t.ft.delete(e),t.l&&t.l.removeHost(e),[t.jn,t.pt,t.kn].forEach(function(t){return t.delete(e)})}}(t,this)},n["s-init"]=function(){!function(t,e,n,r,i,o,a){if(M(t,e)&&(i=t.Mn.get(e))&&!t.gn.has(e)&&(!e["s-ld"]||!e["s-ld"].length)){t.st.set(e,!0),(a=t.dt.has(e))||(t.dt.set(e,!0),e["s-ld"]=void 0,t.J.Cn(e,n));try{E(t.Sn.get(e)),(o=t.pt.get(e))&&(o.forEach(function(t){return t(e)}),t.pt.delete(e)),!a&&i.componentDidLoad?i.componentDidLoad():a&&i.componentDidUpdate&&i.componentDidUpdate()}catch(n){t.$n(n,4,e)}L(t,e)}}(t,this,r)},n.forceUpdate=function(){O(t,this,i)},e.en){var o=Object.entries(e.en),a={};o.forEach(function(t){var e=t[1].in;e&&(a[e]=t[0])}),a=Object.assign({},a),n.attributeChangedCallback=function(t,e,n){!function(t,e,n,r){var i=a[f(n)];i&&(e[i]=(null!==r||"boolean"!=typeof e[i])&&r)}(0,this,t,n)},function(t,e,n,r){o.forEach(function(e){var i=e[0],o=e[1],a=o.sn;3&a?R(n,i,function(){return(t._n.get(this)||{})[i]},function(e){D(t,this,i,A(o.on,e),r)}):32===a&&N(n,i,p)})}(t,0,n,i)}}(T,d[t.t]=t,e.prototype,a,u),e.observedAttributes=Object.values(t.en).map(function(t){return t.in}).filter(function(t){return!!t}),n.customElements.define(t.t,e))},tn:function(t){return d[v.Jn(t)]},Wn:function(t){return e[t]},isClient:!0,at:function(t){return!(!b[v.Jn(t)]&&!T.tn(t))},$n:function(t,e,n){return console.error(t,e,n&&n.tagName)},queue:e.queue=_(y,n),lt:function(t,e){t.s({mode:e.mode,scoped:!v.Z}).then(function(n){try{t.An=n,function(t,e,n,r,i){if(r){var o=e.t+(i||s);e[o]||(e[o]=r)}}(0,t,0,n.style,n.styleMode)}catch(e){console.error(e),t.An=function(){}}O(T,e,u)})},On:!1,mn:!1,vt:!1,En:l,jn:new WeakMap,V:new WeakMap,Ln:new WeakMap,ft:new WeakMap,dt:new WeakMap,st:new WeakMap,Pn:new WeakMap,kn:new WeakMap,Mn:new WeakMap,gn:new WeakMap,wn:new WeakMap,pt:new WeakMap,Rn:new WeakMap,Sn:new WeakMap,_n:new WeakMap,bn:new Set,Dn:[]};return e.isServer=e.isPrerender=!(e.isClient=!0),e.window=n,e.location=n.location,e.document=r,e.resourcesUrl=e.publicPath=i,e.enableListener=function(t,e,n,r,i){return function(t,e,n,r,i,o){if(e){var a=t.Pn.get(e),s=t.tn(a);if(s&&s.ln)if(r){var u=s.ln.find(function(t){return t.vn===n});u&&t.J.cn(a,n,function(t){return e[u.pn](t)},1,u.yn,void 0===o?u.hn:!!o,i)}else t.J.an(a,n,1)}}(T,t,e,n,r,i)},T.Nn=e.emit=function(t,n,r){return v.it(t,e.eventNameFn?e.eventNameFn(n):n,r)},T.xn=function(t){return function(t,e,n){return{create:U(t,e,n,"create"),componentOnReady:U(t,e,n,"componentOnReady")}}(v,m,t)},y.h=o,y.Context=e,y.onReady=function(){return new Promise(function(t){return T.queue.write(function(){return T.bn.size?T.Dn.push(t):t()})})},T.render=function(t,e){var n,r,i,o,a,s,u,c=function(i,f,d,p,m,y,v,g,b){if(g=f.vchildren[d],n||(o=!0,"slot"===g.vtag&&(r&&e.Cn(p,r+"-s"),g.vchildren?g.ht=!0:g.yt=!0)),h(g.vtext))g.i=e.Bn(g.vtext);else if(g.yt)g.i=e.Bn("");else{if(y=g.i=S||"svg"===g.vtag?e.Un("http://www.w3.org/2000/svg",g.vtag):e.X(g.ht?"slot-fb":g.vtag),t.at(y)&&t.st.delete(u),w(t,null,g,S="svg"===g.vtag||"foreignObject"!==g.vtag&&S),h(r)&&y["s-si"]!==r&&e.Cn(y,y["s-si"]=r),g.vchildren)for(m=0;m<g.vchildren.length;++m)(v=c(i,g,m,y))&&e.Fn(y,v);"svg"===g.vtag&&(S=!1)}return g.i["s-hn"]=s,(g.ht||g.yt)&&(g.i["s-sr"]=!0,g.i["s-cr"]=a,g.i["s-sn"]=g.vname||"",(b=i&&i.vchildren&&i.vchildren[d])&&b.vtag===g.vtag&&i.i&&l(i.i)),g.i},l=function(n,r,i,a){t.vt=!0;var u=e.Qn(n);for(i=u.length-1;i>=0;i--)(a=u[i])["s-hn"]!==s&&a["s-ol"]&&(e.Gn(a),e.nn(y(a),a,m(a)),e.Gn(a["s-ol"]),a["s-ol"]=null,o=!0),r&&l(a,r);t.vt=!1},f=function(t,n,r,i,o,a,u,l){var f=t["s-cr"];for((u=f&&e.Yn(f)||t).shadowRoot&&e.Jn(u)===s&&(u=u.shadowRoot);o<=a;++o)i[o]&&(l=h(i[o].vtext)?e.Bn(i[o].vtext):c(null,r,o,t))&&(i[o].i=l,e.nn(u,l,m(n)))},d=function(t,n,r,o){for(;n<=r;++n)h(t[n])&&(i=!0,(o=t[n].i)["s-ol"]?e.Gn(o["s-ol"]):l(o,!0),e.Gn(o))},p=function(t,e){return t.vtag===e.vtag&&t.vkey===e.vkey&&("slot"!==t.vtag||t.vname===e.vname)},m=function(t){return t&&t["s-ol"]?t["s-ol"]:t},y=function(t){return e.Yn(t["s-ol"]?t["s-ol"]:t)},v=function(n,r,i){var o=r.i=n.i,a=n.vchildren,s=r.vchildren;S=r.i&&h(e.rt(r.i))&&void 0!==r.i.ownerSVGElement,S="svg"===r.vtag||"foreignObject"!==r.vtag&&S,h(r.vtext)?(i=o["s-cr"])?e.Vn(e.Yn(i),r.vtext):n.vtext!==r.vtext&&e.Vn(o,r.vtext):("slot"!==r.vtag&&w(t,n,r,S),h(a)&&h(s)?function(t,n,r,i,o,a,s,u){for(var g=0,b=0,w=n.length-1,S=n[0],E=n[w],_=i.length-1,T=i[0],I=i[_];g<=w&&b<=_;)if(null==S)S=n[++g];else if(null==E)E=n[--w];else if(null==T)T=i[++b];else if(null==I)I=i[--_];else if(p(S,T))v(S,T),S=n[++g],T=i[++b];else if(p(E,I))v(E,I),E=n[--w],I=i[--_];else if(p(S,I))"slot"!==S.vtag&&"slot"!==I.vtag||l(e.Yn(S.i)),v(S,I),e.nn(t,S.i,e.Zn(E.i)),S=n[++g],I=i[--_];else if(p(E,T))"slot"!==S.vtag&&"slot"!==I.vtag||l(e.Yn(E.i)),v(E,T),e.nn(t,E.i,S.i),E=n[--w],T=i[++b];else{for(o=null,a=g;a<=w;++a)if(n[a]&&h(n[a].vkey)&&n[a].vkey===T.vkey){o=a;break}h(o)?((u=n[o]).vtag!==T.vtag?s=c(n&&n[b],r,o,t):(v(u,T),n[o]=void 0,s=u.i),T=i[++b]):(s=c(n&&n[b],r,b,t),T=i[++b]),s&&e.nn(y(S.i),s,m(S.i))}g>w?f(t,null==i[_+1]?null:i[_+1].i,r,i,b,_):b>_&&d(n,g,w)}(o,a,r,s):h(s)?(h(n.vtext)&&e.Vn(o,""),f(o,null,r,s,0,s.length-1)):h(a)&&d(a,0,a.length-1)),S&&"svg"===r.vtag&&(S=!1)},g=function(t,n,r,i,o,a,s,u){for(i=0,o=(r=e.Qn(t)).length;i<o;i++)if(1===e.qn(n=r[i])){if(n["s-sr"])for(s=n["s-sn"],n.hidden=!1,a=0;a<o;a++)if(r[a]["s-hn"]!==n["s-hn"])if(u=e.qn(r[a]),""!==s){if(1===u&&s===e.Xn(r[a],"slot")){n.hidden=!0;break}}else if(1===u||3===u&&""!==e.Kn(r[a]).trim()){n.hidden=!0;break}g(n)}},b=[],E=function(t,n,r,o,a,s,u,c,l,h){for(a=0,s=(n=e.Qn(t)).length;a<s;a++){if((r=n[a])["s-sr"]&&(o=r["s-cr"]))for(c=e.Qn(e.Yn(o)),l=r["s-sn"],u=c.length-1;u>=0;u--)(o=c[u])["s-cn"]||o["s-nr"]||o["s-hn"]===r["s-hn"]||((3===(h=e.qn(o))||8===h)&&""===l||1===h&&null===e.Xn(o,"slot")&&""===l||1===h&&e.Xn(o,"slot")===l)&&(b.some(function(t){return t.bt===o})||(i=!0,o["s-sn"]=l,b.push({wt:r,bt:o})));1===e.qn(r)&&E(r)}};return function(c,l,h,f,d,p,m,y,w,S,_,T){if(s=e.Jn(u=c),a=u["s-cr"],n=f,r=u["s-sc"],o=i=!1,v(l,h),o){for(E(h.i),m=0;m<b.length;m++)(y=b[m]).bt["s-ol"]||((w=e.Bn(""))["s-nr"]=y.bt,e.nn(e.Yn(y.bt),y.bt["s-ol"]=w,y.bt));for(t.vt=!0,m=0;m<b.length;m++){for(_=e.Yn((y=b[m]).wt),T=e.Zn(y.wt),w=y.bt["s-ol"];w=e.zn(w);)if((S=w["s-nr"])&&S&&S["s-sn"]===y.bt["s-sn"]&&_===e.Yn(S)&&(S=e.Zn(S))&&S&&!S["s-nr"]){T=S;break}(!T&&_!==e.Yn(y.bt)||e.Zn(y.bt)!==T)&&y.bt!==T&&(e.Gn(y.bt),e.nn(_,y.bt,T))}t.vt=!1}return i&&g(h.i),b.length=0,h}}(T,v),g["s-ld"]=[],g["s-rn"]=!0,g["s-init"]=function(){T.st.set(g,y.loaded=T.mn=!0),v.it(n,"appload",{detail:{namespace:t}})},function(t,e,n,r,i,o){if(e.componentOnReady=function(e,n){if(!e.nodeName.includes("-"))return n(null),!1;var r=t.tn(e);if(r)if(t.st.has(e))n(e);else{var i=t.pt.get(e)||[];i.push(n),t.pt.set(e,i)}return!!r},i){for(o=i.length-1;o>=0;o--)e.componentOnReady(i[o][0],i[o][1])&&i.splice(o,1);for(o=0;o<r.length;o++)if(!n[r[o]].componentOnReady)return;for(o=0;o<i.length;o++)i[o][1](null);i.length=0}}(T,y,n,n["s-apps"],n["s-cr"]),y.initialized=!0,T},V={},B=!1},crnd:function(t,e,n){var r={"../pages/activities/activities.module.ngfactory":["JGKV",1,0,15],"../pages/budget/budget.module.ngfactory":["aC1j",1,0,16],"../pages/destination/destination.module.ngfactory":["nq2K",1,0,17],"../pages/home/home.module.ngfactory":["l3lv",1,0,18],"../pages/login/login.module.ngfactory":["0BkO",1,0,19],"../pages/new-trip-results/new-trip-results.module.ngfactory":["LULI",1,0,20],"../pages/new-trip/new-trip.module.ngfactory":["neFW",1,0,21],"../pages/people/people.module.ngfactory":["MsyZ",1,0,22],"../pages/profile/profile.module.ngfactory":["o4iB",1,0,23],"../pages/register/register.module.ngfactory":["sO/z",1,0,24],"../pages/trip-dates/trip-dates.module.ngfactory":["3/5m",1,0,25],"../pages/trip/trip.module.ngfactory":["aJ3N",1,0,26]};function i(t){var e=r[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.id="crnd",t.exports=i},dC0D:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("mrSG"),i=n("FFOo");function o(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.accumulator,this.seed,this.hasSeed))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.d(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(i.a)},dNFx:function(t,e,n){var r=n("jZgK")("unscopables"),i=Array.prototype;null==i[r]&&n("GYIZ")(i,r,{}),t.exports=function(t){i[r][t]=!0}},eKN1:function(t,e,n){e.f=n("jZgK")},ezrC:function(t,e,n){var r=n("qtiw"),i=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},flRy:function(t,e,n){var r=n("PfMj"),i=n("8ouO");t.exports=function(t,e,n){if(r(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(t))}},g0Mr:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},gRXz:function(t,e,n){"use strict";var r=n("sQ1z"),i=n("8ouO");t.exports=function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},gYfK:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},hKQe:function(t,e,n){"use strict";n("6blF"),n("KOl+")},iLxQ:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},ifzb:function(t,e,n){var r=n("ezrC")("keys"),i=n("U/+K");t.exports=function(t){return r[t]||(r[t]=i(t))}},isby:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},iw74:function(t,e,n){"use strict";n.d(e,"c",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c}),n.d(e,"d",function(){return u});var r=n("CcnG"),i=n("oAJy"),o=n("uzCt"),a=function(){function t(t){var e=this;this._driver=null,this._dbPromise=new Promise(function(n,r){var a,s=Object.assign({name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]},t||{});Object(i.defineDriver)(o).then(function(){a=Object(i.createInstance)(s)}).then(function(){return a.setDriver(e._getDriverOrder(s.driverOrder))}).then(function(){e._driver=a.driver(),n(a)}).catch(function(t){return r(t)})})}return Object.defineProperty(t.prototype,"driver",{get:function(){return this._driver},enumerable:!0,configurable:!0}),t.prototype.ready=function(){return this._dbPromise},t.prototype._getDriverOrder=function(t){return t.map(function(t){switch(t){case"sqlite":return o._driver;case"indexeddb":return i.INDEXEDDB;case"websql":return i.WEBSQL;case"localstorage":return i.LOCALSTORAGE}})},t.prototype.get=function(t){return this._dbPromise.then(function(e){return e.getItem(t)})},t.prototype.set=function(t,e){return this._dbPromise.then(function(n){return n.setItem(t,e)})},t.prototype.remove=function(t){return this._dbPromise.then(function(e){return e.removeItem(t)})},t.prototype.clear=function(){return this._dbPromise.then(function(t){return t.clear()})},t.prototype.length=function(){return this._dbPromise.then(function(t){return t.length()})},t.prototype.keys=function(){return this._dbPromise.then(function(t){return t.keys()})},t.prototype.forEach=function(t){return this._dbPromise.then(function(e){return e.iterate(t)})},t}(),s=new r.p("STORAGE_CONFIG_TOKEN");function u(t){return new a(t||{name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:["sqlite","indexeddb","websql","localstorage"]})}var c=function(){function t(){}return t.forRoot=function(e){return void 0===e&&(e=null),{ngModule:t,providers:[{provide:s,useValue:e},{provide:a,useFactory:u,deps:[s]}]}},t}()},"j/6h":function(t,e,n){var r=n("8ouO");t.exports=function(t){return Object(r(t))}},jPdx:function(t,e,n){var r=n("sQ1z"),i=Math.max,o=Math.min;t.exports=function(t,e){return(t=r(t))<0?i(t+e,0):o(t,e)}},jZgK:function(t,e,n){var r=n("ezrC")("wks"),i=n("U/+K"),o=n("qtiw").Symbol,a="function"==typeof o;(t.exports=function(t){return r[t]||(r[t]=a&&o[t]||(a?o:i)("Symbol."+t))}).store=r},kSm0:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},lIov:function(t,e,n){t.exports=!n("61rj")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},lcbw:function(t,e,n){"use strict";n.r(e),n("Uv6z"),n("pZxE"),n("NPZs"),n("VPEh"),n("TGP+"),n("W+Pj"),n("JilW"),n("AR9Z"),n("tmUU")},"lv+R":function(t,e){e.f=Object.getOwnPropertySymbols},mChF:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},"mY8+":function(t,e,n){var r=n("6CFf"),i=n("H1Af"),o=n("j/6h"),a=n("c0bx"),s=n("sl9K");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var m,y,v=o(e),g=i(v),b=r(s,p,3),w=a(g.length),S=0,E=n?d(e,w):u?d(e,0):void 0;w>S;S++)if((f||S in g)&&(y=b(m=g[S],S,v),t))if(n)E[S]=y;else if(y)switch(t){case 3:return!0;case 5:return m;case 6:return S;case 2:E.push(m)}else if(l)return!1;return h?-1:c||l?l:E}}},mrSG:function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"f",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"j",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return d});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function s(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function l(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function h(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}},nFGs:function(t,e,n){var r={"./0owmtgfs.entry.js":["nUTf",0,27],"./0owmtgfs.sc.entry.js":["YaIg",0,28],"./0utrggve.entry.js":["YL3t",0,29],"./0utrggve.sc.entry.js":["cbo4",0,30],"./1kttiagf.entry.js":["4uGr",0,31],"./1kttiagf.sc.entry.js":["Btk/",0,32],"./2g1gy9f9.entry.js":["npqe",0,33],"./2g1gy9f9.sc.entry.js":["x3Fi",0,34],"./4m739wpj.entry.js":["u0PN",0,35],"./4m739wpj.sc.entry.js":["8CwE",0,36],"./5ey3bs99.entry.js":["q1CC",0,37],"./5ey3bs99.sc.entry.js":["5XKE",0,38],"./5qlzjcgv.entry.js":["ZxYn",0,39],"./5qlzjcgv.sc.entry.js":["XdDV",0,40],"./5u5c8wcw.entry.js":["Dbhp",0,41],"./5u5c8wcw.sc.entry.js":["vIPW",0,42],"./6eqoprbr.entry.js":["XdRY",0,43],"./6eqoprbr.sc.entry.js":["EzBG",0,44],"./7lrb3ory.entry.js":["Fc0Q",0,45],"./7lrb3ory.sc.entry.js":["s9cf",0,46],"./8q1e6dus.entry.js":["bAk6",0,47],"./8q1e6dus.sc.entry.js":["TxXI",0,48],"./9i747kfk.entry.js":["Q9ZH",0,49],"./9i747kfk.sc.entry.js":["oiNf",0,50],"./adaxrxoq.entry.js":["HT4U",0,51],"./adaxrxoq.sc.entry.js":["PV8M",0,52],"./afjpklm4.entry.js":["ddIl",0,53],"./afjpklm4.sc.entry.js":["6mkd",0,54],"./ao2edhxl.entry.js":["Nk0H",0,55],"./ao2edhxl.sc.entry.js":["6lKB",0,56],"./av1nxhcg.entry.js":["NaqX",0,57],"./av1nxhcg.sc.entry.js":["aqqT",0,58],"./b9hbg5md.entry.js":["QDpA",0,59],"./b9hbg5md.sc.entry.js":["kis3",0,60],"./bneiwm8s.entry.js":["T3wJ",0,61],"./bneiwm8s.sc.entry.js":["uEo8",0,62],"./bvwzwweh.entry.js":["DQ34",0,63],"./bvwzwweh.sc.entry.js":["aGFz",0,64],"./bzgyi6uy.entry.js":["0I09",0,65],"./bzgyi6uy.sc.entry.js":["uXfS",0,66],"./c2kiol1t.entry.js":["3NSG",0,67],"./c2kiol1t.sc.entry.js":["GSie",0,68],"./c3nbktys.entry.js":["DYCK",0,69],"./c3nbktys.sc.entry.js":["HVmm",0,70],"./c3xilup3.entry.js":["ZsQ6",0,71],"./c3xilup3.sc.entry.js":["42yg",0,72],"./ccuursht.entry.js":["xy5N",0,73],"./ccuursht.sc.entry.js":["1JS2",0,74],"./coytbtgb.entry.js":["hoK1",0,77],"./coytbtgb.sc.entry.js":["jQ3a",0,78],"./dznymaqz.entry.js":["NwQl",0,79],"./dznymaqz.sc.entry.js":["6vgi",0,80],"./fazrg12f.entry.js":["R0XR",0,81],"./fazrg12f.sc.entry.js":["h1/g",0,82],"./fcbdrndu.entry.js":["D7IP",0,83],"./fcbdrndu.sc.entry.js":["Z1A1",0,84],"./ffukzwt6.entry.js":["DU2L",0,85],"./ffukzwt6.sc.entry.js":["CwgE",0,86],"./fki3pb3x.entry.js":["vEbq",0,87],"./fki3pb3x.sc.entry.js":["i5Ce",0,88],"./fokfxvfn.entry.js":["bYCh",0,89],"./fokfxvfn.sc.entry.js":["PcDc",0,90],"./gwiqb6zv.entry.js":["ldP5",0,91],"./gwiqb6zv.sc.entry.js":["1esG",0,92],"./hs4xwlox.entry.js":["XJHt",0,93],"./hs4xwlox.sc.entry.js":["PJuV",0,94],"./jdcptvrs.entry.js":["VTC8",0,95],"./jdcptvrs.sc.entry.js":["1MZ3",0,96],"./jpkvsu5y.entry.js":["uZ1V",0,97],"./jpkvsu5y.sc.entry.js":["FGfT",0,98],"./jtkjzkgg.entry.js":["f/cw",0,99],"./jtkjzkgg.sc.entry.js":["wlsL",0,100],"./jwqvpjte.entry.js":["9TuC",0,101],"./jwqvpjte.sc.entry.js":["dfw2",0,102],"./l1m0sgjq.entry.js":["gl8U",0,103],"./l1m0sgjq.sc.entry.js":["vw2M",0,104],"./ly8zbpmk.entry.js":["z8lj",0,105],"./ly8zbpmk.sc.entry.js":["GD4O",0,106],"./mlczeont.entry.js":["aK3e",0,107],"./mlczeont.sc.entry.js":["igf3",0,108],"./mnim3usc.entry.js":["7vJg",0,109],"./mnim3usc.sc.entry.js":["138P",0,110],"./mxzbuihf.entry.js":["U87j",0,111],"./mxzbuihf.sc.entry.js":["/6Fx",0,112],"./n5wnzrch.entry.js":["sXzw",0,113],"./n5wnzrch.sc.entry.js":["LLCS",0,114],"./nr6wcehx.entry.js":["7gHB",0,115],"./nr6wcehx.sc.entry.js":["g3/z",0,116],"./o2g4txhh.entry.js":["gOx0",0,117],"./o2g4txhh.sc.entry.js":["SeEw",0,118],"./oboc8zd4.entry.js":["0j9i",0,119],"./oboc8zd4.sc.entry.js":["1Suo",0,120],"./od5ko9fd.entry.js":["C2rE",0,121],"./od5ko9fd.sc.entry.js":["/yWm",0,122],"./odqmlmdd.entry.js":["zbGQ",0,123],"./odqmlmdd.sc.entry.js":["+xu4",0,124],"./okpgrmbb.entry.js":["O4kd",0,125],"./okpgrmbb.sc.entry.js":["xA78",0,126],"./qvwswew4.entry.js":["/lC7",0,127],"./qvwswew4.sc.entry.js":["ngBA",0,128],"./rri2tloh.entry.js":["Fsj4",0,129],"./rri2tloh.sc.entry.js":["u1H/",0,130],"./soeaphrm.entry.js":["rvVz",0,131],"./soeaphrm.sc.entry.js":["/4iw",0,132],"./sqd5wawk.entry.js":["qw1Y",0,133],"./sqd5wawk.sc.entry.js":["6wEL",0,134],"./t547wlk7.entry.js":["+5OW",0,135],"./t547wlk7.sc.entry.js":["S0wL",0,136],"./tab7npn8.entry.js":["0Yrh",0,137],"./tab7npn8.sc.entry.js":["bmFa",0,138],"./tj5rszjq.entry.js":["1ozK",0,139],"./tj5rszjq.sc.entry.js":["MTqi",0,140],"./tpeqvzxx.entry.js":["wRVR",0,141],"./tpeqvzxx.sc.entry.js":["eY1e",0,142],"./tqgphjq7.entry.js":["Xys6",0,143],"./tqgphjq7.sc.entry.js":["bl6z",0,144],"./tylmm2yl.entry.js":["rTNj",0,145],"./tylmm2yl.sc.entry.js":["QzU4",0,146],"./uegz8gm3.entry.js":["ipY9",0,147],"./uegz8gm3.sc.entry.js":["0GgR",0,148],"./uetn90ud.entry.js":["eFQk",0,149],"./uetn90ud.sc.entry.js":["TUeb",0,150],"./vbsrxypz.entry.js":["RPh5",151],"./vbsrxypz.sc.entry.js":["AmAX",152],"./wajpsmly.entry.js":["jPCr",0,153],"./wajpsmly.sc.entry.js":["sGzQ",0,154],"./wdewkb4s.entry.js":["jgUi",0,155],"./wdewkb4s.sc.entry.js":["HY6f",0,156],"./wsfvc8rr.entry.js":["ScSn",0,157],"./wsfvc8rr.sc.entry.js":["Lzkg",0,158],"./wvqczsjg.entry.js":["QwD8",0,159],"./wvqczsjg.sc.entry.js":["Lt/F",0,160],"./x4ue4dpx.entry.js":["c9Lr",0,161],"./x4ue4dpx.sc.entry.js":["FS8U",0,162],"./xfbndl84.entry.js":["y15h",0,163],"./xfbndl84.sc.entry.js":["3Tkg",0,164],"./xgnma4yj.entry.js":["6yqi",0,165],"./xgnma4yj.sc.entry.js":["9edI",0,166],"./xrxaow8a.entry.js":["U0Ro",0,167],"./xrxaow8a.sc.entry.js":["gsNi",0,168],"./ycyyhg01.entry.js":["H/n8",0,169],"./ycyyhg01.sc.entry.js":["d4UZ",0,170],"./ye5age0r.entry.js":["rNE2",171],"./ye5age0r.sc.entry.js":["88Fd",172],"./yurs1umq.entry.js":["UUpi",0,173],"./yurs1umq.sc.entry.js":["wUnG",0,174],"./yz37im3e.entry.js":["ycIJ",0,175],"./yz37im3e.sc.entry.js":["uDUS",0,176],"./z9nt6ntd.entry.js":["lgyN",0,177],"./z9nt6ntd.sc.entry.js":["nTAs",0,178],"./zdhyxh0f.entry.js":["3Mn5",0,179],"./zdhyxh0f.sc.entry.js":["awSi",0,180],"./zykaqnfi.entry.js":["26u0",0,181],"./zykaqnfi.sc.entry.js":["okPY",0,182]};function i(t){var e=r[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}i.keys=function(){return Object.keys(r)},i.id="nFGs",t.exports=i},nkY7:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},oAJy:function(t,e,n){var r;t.exports=function t(e,n,i){function o(s,u){if(!n[s]){if(!e[s]){if(!u&&"function"==typeof r&&r)return r(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){return o(e[s][1][t]||t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){(function(t){"use strict";var n,r,i=t.MutationObserver||t.WebKitMutationObserver;if(i){var o=0,a=new i(l),s=t.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){l(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(l,0)};else{var u=new t.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;r=!0;for(var n=c.length;n;){for(e=c,c=[],t=-1;++t<n;)e[t]();n=c.length}r=!1}e.exports=function(t){1!==c.push(t)||r||n()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){"use strict";var r=t(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],u=["PENDING"];function c(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,t!==i&&d(this,t)}function l(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){r(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function d(t,e){var n=!1;function r(e){n||(n=!0,o.reject(t,e))}function i(e){n||(n=!0,o.resolve(t,e))}var a=p(function(){e(i,r)});"error"===a.status&&r(a.value)}function p(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=c,c.prototype.catch=function(t){return this.then(null,t)},c.prototype.then=function(t,e){if("function"!=typeof t&&this.state===s||"function"!=typeof e&&this.state===a)return this;var n=new this.constructor(i);return this.state!==u?h(n,this.state===s?t:e,this.outcome):this.queue.push(new l(n,t,e)),n},l.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},l.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},l.prototype.callRejected=function(t){o.reject(this.promise,t)},l.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=p(f,e);if("error"===n.status)return o.reject(t,n.value);var r=n.value;if(r)d(t,r);else{t.state=s,t.outcome=e;for(var i=-1,a=t.queue.length;++i<a;)t.queue[i].callFulfilled(e)}return t},o.reject=function(t,e){t.state=a,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},c.resolve=function(t){return t instanceof this?t:o.resolve(new this(i),t)},c.reject=function(t){var e=new this(i);return o.reject(e,t)},c.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,u=-1,c=new this(i);++u<n;)l(t[u],u);return c;function l(t,i){e.resolve(t).then(function(t){a[i]=t,++s!==n||r||(r=!0,o.resolve(c,a))},function(t){r||(r=!0,o.reject(c,t))})}},c.race=function(t){if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,n=!1;if(!e)return this.resolve([]);for(var r=-1,a=new this(i);++r<e;)this.resolve(t[r]).then(function(t){n||(n=!0,o.resolve(a,t))},function(t){n||(n=!0,o.reject(a,t))});return a}},{1:1}],3:[function(t,e,n){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){return}}();function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<t.length;r+=1)n.append(t[r]);return n.getBlob(e.type)}}"undefined"==typeof Promise&&t(3);var a=Promise;function s(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function u(t,e,n){"function"==typeof e&&t.then(e),"function"==typeof n&&t.catch(n)}function c(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString;function m(t){var e=d[t.name],n={};n.promise=new a(function(t,e){n.resolve=t,n.reject=e}),e.deferredOperations.push(n),e.dbReady=e.dbReady?e.dbReady.then(function(){return n.promise}):n.promise}function y(t){var e=d[t.name].deferredOperations.pop();if(e)return e.resolve(),e.promise}function v(t,e){var n=d[t.name].deferredOperations.pop();if(n)return n.reject(e),n.promise}function g(t,e){return new a(function(n,r){if(d[t.name]=d[t.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},t.db){if(!e)return n(t.db);m(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var a=i.open.apply(i,o);e&&(a.onupgradeneeded=function(e){var n=a.result;try{n.createObjectStore(t.storeName),e.oldVersion<=1&&n.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),r(a.error)},a.onsuccess=function(){n(a.result),y(t)}})}function b(t){return g(t,!1)}function w(t){return g(t,!0)}function S(t,e){if(!t.db)return!0;var n=!t.db.objectStoreNames.contains(t.storeName),r=t.version>t.db.version;if(t.version<t.db.version&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||n){if(n){var i=t.db.version+1;i>t.version&&(t.version=i)}return!0}return!1}function E(t){return o([function(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}(atob(t.data))],{type:t.type})}function _(t){return t&&t.__local_forage_encoded_blob}function T(t){var e=this,n=e._initReady().then(function(){var t=d[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return u(n,t,t),n}function I(t,e,n,r){void 0===r&&(r=1);try{var i=t.db.transaction(t.storeName,e);n(null,i)}catch(o){if(r>0&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return a.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),w(t)}).then(function(){return function(t){m(t);for(var e=d[t.name],n=e.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return t.db=null,b(t).then(function(e){return t.db=e,S(t)?w(t):e}).then(function(r){t.db=e.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(e){throw v(t,e),e})}(t).then(function(){I(t,e,n,r-1)})}).catch(n);n(o)}}var C={_driver:"asyncStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]=t[r];var i=d[n.name];i||(d[n.name]=i={forages:[],db:null,dbReady:null,deferredOperations:[]}),i.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=T);var o=[];function s(){return a.resolve()}for(var u=0;u<i.forages.length;u++){var c=i.forages[u];c!==e&&o.push(c._initReady().catch(s))}var l=i.forages.slice(0);return a.all(o).then(function(){return n.db=i.db,b(n)}).then(function(t){return n.db=t,S(n,e._defaultConfig.version)?w(n):t}).then(function(t){n.db=i.db=t,e._dbInfo=n;for(var r=0;r<l.length;r++){var o=l[r];o!==e&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})},_support:function(){try{if(!i)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(n){return!1}}(),iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){I(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;_(r)&&(r=E(r));var i=t(r,n.key,s++);void 0!==i?e(i):n.continue()}else e()},a.onerror=function(){r(a.error)}}catch(u){r(u)}})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new a(function(e,r){n.ready().then(function(){I(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(t);a.onsuccess=function(){var t=a.result;void 0===t&&(t=null),_(t)&&(t=E(t)),e(t)},a.onerror=function(){r(a.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=new a(function(n,i){var s;r.ready().then(function(){return s=r._dbInfo,"[object Blob]"===p.call(e)?(t=s.db,"boolean"==typeof f?a.resolve(f):function(t){return new a(function(e){var n=t.transaction(h,"readwrite"),r=o([""]);n.objectStore(h).put(r,"key"),n.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},n.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}(t).then(function(t){return f=t})).then(function(t){return t?e:(n=e,new a(function(t,e){var r=new FileReader;r.onerror=e,r.onloadend=function(e){var r=btoa(e.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)}));var n}):e;var t}).then(function(e){I(r._dbInfo,"readwrite",function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===e&&(e=void 0);var u=s.put(e,t);a.oncomplete=function(){void 0===e&&(e=null),n(e)},a.onabort=a.onerror=function(){i(u.error?u.error:u.transaction.error)}}catch(c){i(c)}})}).catch(i)});return s(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=new a(function(e,r){n.ready().then(function(){I(n._dbInfo,"readwrite",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){r(a.error)},o.onabort=function(){r(a.error?a.error:a.transaction.error)}}catch(s){r(s)}})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){I(e._dbInfo,"readwrite",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).clear();i.oncomplete=function(){t()},i.onabort=i.onerror=function(){n(o.error?o.error:o.transaction.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){I(e._dbInfo,"readonly",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){n(o.error)}}catch(a){n(a)}})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){t<0?e(null):n.ready().then(function(){I(n._dbInfo,"readonly",function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,u=a.openCursor();u.onsuccess=function(){var n=u.result;n?0===t?e(n.key):s?e(n.key):(s=!0,n.advance(t)):e(null)},u.onerror=function(){r(u.error)}}catch(c){r(c)}})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){I(e._dbInfo,"readonly",function(r,i){if(r)return n(r);try{var o=i.objectStore(e._dbInfo.storeName).openCursor(),a=[];o.onsuccess=function(){var e=o.result;e?(a.push(e.key),e.continue()):t(a)},o.onerror=function(){n(o.error)}}catch(s){n(s)}})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n,r=this.config();return(t="function"!=typeof t&&t||{}).name||(t.name=t.name||r.name,t.storeName=t.storeName||r.storeName),s(n=t.name?(t.name===r.name&&this._dbInfo.db?a.resolve(this._dbInfo.db):b(t).then(function(e){var n=d[t.name],r=n.forages;n.db=e;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=e;return e})).then(t.storeName?function(e){if(e.objectStoreNames.contains(t.storeName)){var n=e.version+1;m(t);var r=d[t.name],o=r.forages;e.close();for(var s=0;s<o.length;s++){var u=o[s];u._dbInfo.db=null,u._dbInfo.version=n}return new a(function(e,r){var o=i.open(t.name,n);o.onerror=function(t){o.result.close(),r(t)},o.onupgradeneeded=function(){o.result.deleteObjectStore(t.storeName)},o.onsuccess=function(){var t=o.result;t.close(),e(t)}}).then(function(t){r.db=t;for(var e=0;e<o.length;e++){var n=o[e];n._dbInfo.db=t,y(n._dbInfo)}}).catch(function(e){throw(v(t,e)||a.resolve()).catch(function(){}),e})}}:function(e){m(t);var n=d[t.name],r=n.forages;e.close();for(var o=0;o<r.length;o++)r[o]._dbInfo.db=null;return new a(function(e,n){var r=i.deleteDatabase(t.name);r.onerror=r.onblocked=function(t){var e=r.result;e&&e.close(),n(t)},r.onsuccess=function(){var t=r.result;t&&t.close(),e(t)}}).then(function(t){n.db=t;for(var e=0;e<r.length;e++)y(r[e]._dbInfo)}).catch(function(e){throw(v(t,e)||a.resolve()).catch(function(){}),e})}):a.reject("Invalid arguments"),e),n}},k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=/^~~local_forage_type~([^~]+)~/,O="__lfsc__:".length,x=O+"arbf".length,D=Object.prototype.toString;function N(t){var e,n,r,i,o,a=.75*t.length,s=t.length,u=0;"="===t[t.length-1]&&(a--,"="===t[t.length-2]&&a--);var c=new ArrayBuffer(a),l=new Uint8Array(c);for(e=0;e<s;e+=4)n=k.indexOf(t[e]),r=k.indexOf(t[e+1]),i=k.indexOf(t[e+2]),o=k.indexOf(t[e+3]),l[u++]=n<<2|r>>4,l[u++]=(15&r)<<4|i>>2,l[u++]=(3&i)<<6|63&o;return c}function R(t){var e,n=new Uint8Array(t),r="";for(e=0;e<n.length;e+=3)r+=k[n[e]>>2],r+=k[(3&n[e])<<4|n[e+1]>>4],r+=k[(15&n[e+1])<<2|n[e+2]>>6],r+=k[63&n[e+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var P={serialize:function(t,e){var n="";if(t&&(n=D.call(t)),t&&("[object ArrayBuffer]"===n||t.buffer&&"[object ArrayBuffer]"===D.call(t.buffer))){var r,i="__lfsc__:";t instanceof ArrayBuffer?(r=t,i+="arbf"):(r=t.buffer,"[object Int8Array]"===n?i+="si08":"[object Uint8Array]"===n?i+="ui08":"[object Uint8ClampedArray]"===n?i+="uic8":"[object Int16Array]"===n?i+="si16":"[object Uint16Array]"===n?i+="ur16":"[object Int32Array]"===n?i+="si32":"[object Uint32Array]"===n?i+="ui32":"[object Float32Array]"===n?i+="fl32":"[object Float64Array]"===n?i+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(i+R(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n="~~local_forage_type~"+t.type+"~"+R(this.result);e("__lfsc__:blob"+n)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(a){console.error("Couldn't convert value into a JSON string: ",t),e(null,a)}},deserialize:function(t){if("__lfsc__:"!==t.substring(0,O))return JSON.parse(t);var e,n=t.substring(x),r=t.substring(O,x);if("blob"===r&&A.test(n)){var i=n.match(A);e=i[1],n=n.substring(i[0].length)}var a=N(n);switch(r){case"arbf":return a;case"blob":return o([a],{type:e});case"si08":return new Int8Array(a);case"ui08":return new Uint8Array(a);case"uic8":return new Uint8ClampedArray(a);case"si16":return new Int16Array(a);case"ur16":return new Uint16Array(a);case"si32":return new Int32Array(a);case"ui32":return new Uint32Array(a);case"fl32":return new Float32Array(a);case"fl64":return new Float64Array(a);default:throw new Error("Unkown type: "+r)}},stringToBuffer:N,bufferToString:R};function j(t,e,n,r){t.executeSql("CREATE TABLE IF NOT EXISTS "+e.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function M(t,e,n,r,i,o){t.executeSql(n,r,i,function(t,a){a.code===a.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[name],function(t,s){s.rows.length?o(t,a):j(t,e,function(){t.executeSql(n,r,i,o)},o)},o):o(t,a)},o)}var L={_driver:"webSQLStorage",_initStorage:function(t){var e=this,n={db:null};if(t)for(var r in t)n[r]="string"!=typeof t[r]?t[r].toString():t[r];var i=new a(function(t,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(i){return r(i)}n.db.transaction(function(i){j(i,n,function(){e._dbInfo=n,t()},function(t,e){r(e)})},r)});return n.serializer=P,i},_support:"function"==typeof openDatabase,iterate:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){M(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var u=o.item(s),c=u.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=t(c,u.key,s+1)))return void e(c)}e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){M(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[t],function(t,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},setItem:function(t,e,n){return(function t(e,n,r,i){var o=this;e=c(e);var u=new a(function(a,s){o.ready().then(function(){void 0===n&&(n=null);var u=n,c=o._dbInfo;c.serializer.serialize(n,function(n,l){l?s(l):c.db.transaction(function(t){M(t,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,n],function(){a(u)},function(t,e){s(e)})},function(n){if(n.code===n.QUOTA_ERR){if(i>0)return void a(t.apply(o,[e,u,r,i-1]));s(n)}})})}).catch(s)});return s(u,r),u}).apply(this,[t,e,n,1])},removeItem:function(t,e){var n=this;t=c(t);var r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){M(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},clear:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){M(e,r,"DELETE FROM "+r.storeName,[],function(){t()},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},length:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){M(e,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(e,n){var r=n.rows.item(0).c;t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},key:function(t,e){var n=this,r=new a(function(e,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){M(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,n){var r=n.rows.length?n.rows.item(0).key:null;e(r)},function(t,e){r(e)})})}).catch(r)});return s(r,e),r},keys:function(t){var e=this,n=new a(function(t,n){e.ready().then(function(){var r=e._dbInfo;r.db.transaction(function(e){M(e,r,"SELECT key FROM "+r.storeName,[],function(e,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);t(r)},function(t,e){n(e)})})}).catch(n)});return s(n,t),n},dropInstance:function(t,e){e=l.apply(this,arguments);var n=this.config();(t="function"!=typeof t&&t||{}).name||(t.name=t.name||n.name,t.storeName=t.storeName||n.storeName);var r,i=this;return s(r=t.name?new a(function(e){var r;r=t.name===n.name?i._dbInfo.db:openDatabase(t.name,"","",0),e(t.storeName?{db:r,storeNames:[t.storeName]}:function(t){return new a(function(e,n){t.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);e({db:t,storeNames:i})},function(t,e){n(e)})},function(t){n(t)})})}(r))}).then(function(t){return new a(function(e,n){t.db.transaction(function(r){function i(t){return new a(function(e,n){r.executeSql("DROP TABLE IF EXISTS "+t,[],function(){e()},function(t,e){n(e)})})}for(var o=[],s=0,u=t.storeNames.length;s<u;s++)o.push(i(t.storeNames[s]));a.all(o).then(function(){e()}).catch(function(t){n(t)})},function(t){n(t)})})}):a.reject("Invalid arguments"),e),r}};function U(t,e){var n=t.name+"/";return t.storeName!==e.storeName&&(n+=t.storeName+"/"),n}var F={_driver:"localStorageWrapper",_initStorage:function(t){var e={};if(t)for(var n in t)e[n]=t[n];return e.keyPrefix=U(t,this._defaultConfig),!function(){try{return localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1}catch(t){return!0}}()||localStorage.length>0?(this._dbInfo=e,e.serializer=P,a.resolve()):a.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(t,e){var n=this,r=n.ready().then(function(){for(var e=n._dbInfo,r=e.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var u=localStorage.key(s);if(0===u.indexOf(r)){var c=localStorage.getItem(u);if(c&&(c=e.serializer.deserialize(c)),void 0!==(c=t(c,u.substring(i),a++)))return c}}});return s(r,e),r},getItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){var e=n._dbInfo,r=localStorage.getItem(e.keyPrefix+t);return r&&(r=e.serializer.deserialize(r)),r});return s(r,e),r},setItem:function(t,e,n){var r=this;t=c(t);var i=r.ready().then(function(){void 0===e&&(e=null);var n=e;return new a(function(i,o){var a=r._dbInfo;a.serializer.serialize(e,function(e,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+t,e),i(n)}catch(s){"QuotaExceededError"!==s.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==s.name||o(s),o(s)}})})});return s(i,n),i},removeItem:function(t,e){var n=this;t=c(t);var r=n.ready().then(function(){localStorage.removeItem(n._dbInfo.keyPrefix+t)});return s(r,e),r},clear:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(t)&&localStorage.removeItem(r)}});return s(n,t),n},length:function(t){var e=this.keys().then(function(t){return t.length});return s(e,t),e},key:function(t,e){var n=this,r=n.ready().then(function(){var e,r=n._dbInfo;try{e=localStorage.key(t)}catch(i){e=null}return e&&(e=e.substring(r.keyPrefix.length)),e});return s(r,e),r},keys:function(t){var e=this,n=e.ready().then(function(){for(var t=e._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(t.keyPrefix)&&r.push(o.substring(t.keyPrefix.length))}return r});return s(n,t),n},dropInstance:function(t,e){if(e=l.apply(this,arguments),!(t="function"!=typeof t&&t||{}).name){var n=this.config();t.name=t.name||n.name,t.storeName=t.storeName||n.storeName}var r,i=this;return s(r=t.name?new a(function(e){e(t.storeName?U(t,i._defaultConfig):t.name+"/")}).then(function(t){for(var e=localStorage.length-1;e>=0;e--){var n=localStorage.key(e);0===n.indexOf(t)&&localStorage.removeItem(n)}}):a.reject("Invalid arguments"),e),r}},q=function(t,e){for(var n=t.length,r=0;r<n;){if((i=t[r])===(o=e)||"number"==typeof i&&"number"==typeof o&&isNaN(i)&&isNaN(o))return!0;r++}var i,o;return!1},V=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},B={},z={},H={INDEXEDDB:C,WEBSQL:L,LOCALSTORAGE:F},W=[H.INDEXEDDB._driver,H.WEBSQL._driver,H.LOCALSTORAGE._driver],K=["dropInstance"],G=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(K),Q={description:"",driver:W.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Y(t,e){t[e]=function(){var n=arguments;return t.ready().then(function(){return t[e].apply(t,n)})}}function X(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var n in e)e.hasOwnProperty(n)&&(arguments[0][n]=V(e[n])?e[n].slice():e[n])}return arguments[0]}var Z=new(function(){function t(e){for(var n in function(e,n){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),H)if(H.hasOwnProperty(n)){var r=H[n],i=r._driver;this[n]=i,B[i]||this.defineDriver(r)}this._defaultConfig=X({},Q),this._config=X({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":r(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,n){var r=new a(function(e,n){try{var r=t._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!t._driver)return void n(i);for(var o=G.concat("_initStorage"),u=0,c=o.length;u<c;u++){var l=o[u];if((!q(K,l)||t[l])&&"function"!=typeof t[l])return void n(i)}!function(){for(var e=function(t){return function(){var e=new Error("Method "+t+" is not implemented by the current driver"),n=a.reject(e);return s(n,arguments[arguments.length-1]),n}},n=0,r=K.length;n<r;n++){var i=K[n];t[i]||(t[i]=e(i))}}();var h=function(n){B[r]&&console.info("Redefining LocalForage driver: "+r),B[r]=t,z[r]=n,e()};"_support"in t?t._support&&"function"==typeof t._support?t._support().then(h,n):h(!!t._support):h(!0)}catch(f){n(f)}});return u(r,e,n),r},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,n){var r=B[t]?a.resolve(B[t]):a.reject(new Error("Driver not found."));return u(r,e,n),r},t.prototype.getSerializer=function(t){var e=a.resolve(P);return u(e,t),e},t.prototype.ready=function(t){var e=this,n=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return u(n,t,t),n},t.prototype.setDriver=function(t,e,n){var r=this;V(t)||(t=[t]);var i=this._getSupportedDrivers(t);function o(){r._config.driver=r.driver()}function s(t){return r._extend(t),o(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch(function(){return a.resolve()}):a.resolve();return this._driverSet=c.then(function(){var t=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(t).then(function(t){r._driver=t._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(t){return function(){var e=0;return function n(){for(;e<t.length;){var i=t[e];return e++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(s).catch(n)}o();var u=new Error("No available storage method found.");return r._driverSet=a.reject(u),r._driverSet}()}}(i)})}).catch(function(){o();var t=new Error("No available storage method found.");return r._driverSet=a.reject(t),r._driverSet}),u(this._driverSet,e,n),this._driverSet},t.prototype.supports=function(t){return!!z[t]},t.prototype._extend=function(t){X(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];this.supports(i)&&e.push(i)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,e=G.length;t<e;t++)Y(this,G[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=Z},{3:3}]},{},[4])(4)},oBZk:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"w",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"x",function(){return s}),n.d(e,"c",function(){return u}),n.d(e,"y",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"z",function(){return h}),n.d(e,"e",function(){return f}),n.d(e,"A",function(){return d}),n.d(e,"f",function(){return p}),n.d(e,"B",function(){return m}),n.d(e,"g",function(){return y}),n.d(e,"C",function(){return v}),n.d(e,"h",function(){return g}),n.d(e,"D",function(){return b}),n.d(e,"i",function(){return w}),n.d(e,"E",function(){return S}),n.d(e,"j",function(){return E}),n.d(e,"F",function(){return _}),n.d(e,"k",function(){return T}),n.d(e,"G",function(){return I}),n.d(e,"l",function(){return C}),n.d(e,"H",function(){return k}),n.d(e,"m",function(){return A}),n.d(e,"J",function(){return O}),n.d(e,"n",function(){return x}),n.d(e,"I",function(){return D}),n.d(e,"o",function(){return N}),n.d(e,"K",function(){return R}),n.d(e,"p",function(){return P}),n.d(e,"L",function(){return j}),n.d(e,"q",function(){return M}),n.d(e,"M",function(){return L}),n.d(e,"r",function(){return U}),n.d(e,"N",function(){return F}),n.d(e,"s",function(){return q}),n.d(e,"O",function(){return V}),n.d(e,"t",function(){return B}),n.d(e,"P",function(){return z}),n.d(e,"u",function(){return H}),n.d(e,"Q",function(){return W}),n.d(e,"v",function(){return K}),n.d(e,"R",function(){return G});var r=n("CcnG");n("ZZ/e"),n("Ip0R"),n("ZYCi");var i=r.nb({encapsulation:2,styles:[],data:{}});function o(t){return r.Eb(2,[r.xb(null,0)],null,null)}var a=r.nb({encapsulation:2,styles:[],data:{}});function s(t){return r.Eb(2,[r.xb(null,0)],null,null)}var u=r.nb({encapsulation:2,styles:[],data:{}});function c(t){return r.Eb(2,[r.xb(null,0)],null,null)}var l=r.nb({encapsulation:2,styles:[],data:{}});function h(t){return r.Eb(2,[r.xb(null,0)],null,null)}var f=r.nb({encapsulation:2,styles:[],data:{}});function d(t){return r.Eb(2,[r.xb(null,0)],null,null)}var p=r.nb({encapsulation:2,styles:[],data:{}});function m(t){return r.Eb(2,[r.xb(null,0)],null,null)}var y=r.nb({encapsulation:2,styles:[],data:{}});function v(t){return r.Eb(2,[r.xb(null,0)],null,null)}var g=r.nb({encapsulation:2,styles:[],data:{}});function b(t){return r.Eb(2,[r.xb(null,0)],null,null)}var w=r.nb({encapsulation:2,styles:[],data:{}});function S(t){return r.Eb(2,[r.xb(null,0)],null,null)}var E=r.nb({encapsulation:2,styles:[],data:{}});function _(t){return r.Eb(2,[r.xb(null,0)],null,null)}var T=r.nb({encapsulation:2,styles:[],data:{}});function I(t){return r.Eb(2,[r.xb(null,0)],null,null)}var C=r.nb({encapsulation:2,styles:[],data:{}});function k(t){return r.Eb(2,[r.xb(null,0)],null,null)}var A=r.nb({encapsulation:2,styles:[],data:{}});function O(t){return r.Eb(2,[r.xb(null,0)],null,null)}var x=r.nb({encapsulation:2,styles:[],data:{}});function D(t){return r.Eb(2,[r.xb(null,0)],null,null)}var N=r.nb({encapsulation:2,styles:[],data:{}});function R(t){return r.Eb(2,[r.xb(null,0)],null,null)}var P=r.nb({encapsulation:2,styles:[],data:{}});function j(t){return r.Eb(2,[r.xb(null,0)],null,null)}var M=r.nb({encapsulation:2,styles:[],data:{}});function L(t){return r.Eb(2,[r.xb(null,0)],null,null)}var U=r.nb({encapsulation:2,styles:[],data:{}});function F(t){return r.Eb(2,[r.xb(null,0)],null,null)}var q=r.nb({encapsulation:2,styles:[],data:{}});function V(t){return r.Eb(2,[r.xb(null,0)],null,null)}var B=r.nb({encapsulation:2,styles:[],data:{}});function z(t){return r.Eb(2,[r.xb(null,0)],null,null)}var H=r.nb({encapsulation:2,styles:[],data:{}});function W(t){return r.Eb(2,[r.xb(null,0)],null,null)}var K=r.nb({encapsulation:2,styles:[],data:{}});function G(t){return r.Eb(2,[r.xb(null,0)],null,null)}},oQnE:function(t,e,n){"use strict";var r=n("VqlW")(!0);n("Td+X")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=r(e,n),this._i+=t.length,{value:t,done:!1})})},os0x:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return g}),n.d(e,"__asyncValues",function(){return b}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return S}),n.d(e,"__importDefault",function(){return E});var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||s(t,e)})})}function s(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(u,c):l(o[0][2],n)}catch(r){l(o[0][3],r)}var n}function u(t){s("next",t)}function c(t){s("throw",t)}function l(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function g(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){t[r]&&(e[r]=function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e})}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):d(t)}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function E(t){return t&&t.__esModule?t:{default:t}}},oxOc:function(t,e,n){var r=n("gYfK");t.exports=Array.isArray||function(t){return"Array"==r(t)}},pMnS:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("CcnG"),i=n("ZYCi"),o=r.nb({encapsulation:2,styles:[],data:{}});function a(t){return r.Eb(0,[(t()(),r.pb(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),r.ob(1,212992,null,0,i.p,[i.b,r.O,r.j,[8,null],r.h],null,null)],function(t,e){t(e,1,0)},null)}function s(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"ng-component",[],null,null,null,a,o)),r.ob(1,49152,null,0,i.t,[],null,null)],null,null)}var u=r.lb("ng-component",i.t,s,{},{},[])},pZxE:function(t,e,n){"use strict";var r=setTimeout;function i(){}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void u(e.promise,i)}s(e.promise,r)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void h((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(a){u(t,a)}var r,i}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(r){if(n)return;n=!0,u(e,r)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return a(this,new l(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){o(t,e)},n)}r[t]=a,0==--i&&e(r)}catch(u){n(u)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){r(t,0)},o._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var f=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();f.Promise||(f.Promise=o)},psW0:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("mrSG"),i=n("zotm"),o=n("MGBS"),a=n("rPjj"),s=n("67Y/"),u=n("0/uQ");function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c(function(n,r){return Object(u.a)(t(n,r)).pipe(Object(s.a)(function(t,i){return e(n,t,r,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.project,this.concurrent))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new a.a(this,void 0,void 0);this.destination.add(r),Object(i.a)(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},pugT:function(t,e,n){"use strict";var r,i=n("isby"),o=n("McSo"),a=n("2Bdj"),s={e:{}};function u(){try{return r.apply(this,arguments)}catch(t){return s.e=t,s}}function c(t){return r=t,u}function l(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}l.prototype=Object.create(Error.prototype);var h=l;n.d(e,"a",function(){return f});var f=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,u=this._unsubscribe,l=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var f=-1,p=r?r.length:0;n;)n.remove(this),n=++f<p&&r[f]||null;if(Object(a.a)(u)&&c(u).call(this)===s&&(e=!0,t=t||(s.e instanceof h?d(s.e.errors):[s.e])),Object(i.a)(l))for(f=-1,p=l.length;++f<p;){var m=l[f];if(Object(o.a)(m)&&c(m.unsubscribe).call(m)===s){e=!0,t=t||[];var y=s.e;y instanceof h?t=t.concat(d(y.errors)):t.push(y)}}if(e)throw new h(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function d(t){return t.reduce(function(t,e){return t.concat(e instanceof h?e.errors:e)},[])}},"pxS/":function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("KOl+");function i(t,e){return!0===Object(r.a)(t,e)?Object(r.b)(t.constructor.getPluginRef())[e]:null}function o(t,e,n){!0===Object(r.a)(t,e)&&(Object(r.b)(t.constructor.getPluginRef())[e]=n)}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return i});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},q098:function(t,e,n){t.exports=!n("lIov")&&!n("61rj")(function(){return 7!=Object.defineProperty(n("y6nS")("div"),"a",{get:function(){return 7}}).a})},qtiw:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},rPjj:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("mrSG"),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.d(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n("FFOo").a)},rSCU:function(t,e,n){var r=n("H1Af"),i=n("8ouO");t.exports=function(t){return r(i(t))}},s6PA:function(t,e,n){"use strict";var r=n("I1rR"),i=n("mY8+")(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),n("dNFx")("find")},sQ1z:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},sl9K:function(t,e,n){var r=n("M1gn");t.exports=function(t,e){return new(r(t))(e)}},t9fZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("mrSG"),i=n("FFOo"),o=n("b7mW"),a=n("G5J1");function s(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}var u=function(){function t(t){if(this.total=t,this.total<0)throw new o.a}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.total))},t}(),c=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.d(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(i.a)},tLdg:function(t,e,n){var r=n("jZgK")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,!"/./"[t](e)}catch(i){}}return!0}},tct4:function(t,e,n){"use strict";n("mrSG");var r=n("CcnG"),i=n("0/uQ"),o=n("F/XL"),a=n("6blF"),s=n("S1nX"),u=n("67Y/");function c(t){return function(t){return new a.a(function(e){return{unsubscribe:t.onSnapshot(e)}})}(t).pipe(Object(s.a)())}function l(t){return c(t).pipe(Object(u.a)(function(t){return{payload:t,type:"query"}}))}var h=n("VnD/"),f=n("dC0D");function d(t){return l(t).pipe(Object(u.a)(function(t){return t.payload.docChanges().map(function(t){return{type:t.type,payload:t}})}))}var p=n("ORnb"),m=function(){function t(t,e,n){this.ref=t,this.query=e,this.afs=n}return t.prototype.stateChanges=function(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(d(this.query))).pipe(Object(u.a)(function(e){return e.filter(function(e){return t.indexOf(e.type)>-1})}),Object(h.a)(function(t){return t.length>0})):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular(d(this.query)))},t.prototype.auditTrail=function(t){return this.stateChanges(t).pipe(Object(f.a)(function(t,e){return t.concat(e)},[]))},t.prototype.snapshotChanges=function(t){var e=function(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(t),n=function(t,e){return l(t).pipe(Object(u.a)(function(t){return t.payload.docChanges()}),Object(f.a)(function(t,n){return function(t,e,n){return e.forEach(function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.id==e.doc.id||t.splice(e.newIndex,0,e);break;case"modified":null!=t[e.oldIndex]&&t[e.oldIndex].doc.id!=e.doc.id||(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.id==e.doc.id&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e)},[]),Object(u.a)(function(t){return t.map(function(t){return{type:t.type,payload:t}})}))}(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)},t.prototype.valueChanges=function(){var t=l(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(Object(u.a)(function(t){return t.payload.docs.map(function(t){return t.data()})}))},t.prototype.get=function(t){return Object(i.a)(this.query.get(t)).pipe(Object(p.g)(this.afs.scheduler.zone))},t.prototype.add=function(t){return this.ref.add(t)},t.prototype.doc=function(t){return new y(this.ref.doc(t),this.afs)},t}(),y=function(){function t(t,e){this.ref=t,this.afs=e}return t.prototype.set=function(t,e){return this.ref.set(t,e)},t.prototype.update=function(t){return this.ref.update(t)},t.prototype.delete=function(){return this.ref.delete()},t.prototype.collection=function(t,e){var n=E(this.ref.collection(t),e);return new m(n.ref,n.query,this.afs)},t.prototype.snapshotChanges=function(){var t=c(this.ref).pipe(Object(u.a)(function(t){return{payload:t,type:"value"}})),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)},t.prototype.valueChanges=function(){return this.snapshotChanges().pipe(Object(u.a)(function(t){return t.payload.data()}))},t.prototype.get=function(t){return Object(i.a)(this.ref.get(t)).pipe(Object(p.g)(this.afs.scheduler.zone))},t}(),v=n("Ip0R"),g=new r.p("angularfire2.enableFirestorePersistence"),b=new r.p("angularfire2.firestore.persistenceSettings"),w=new r.p("angularfire2.firestore.settings"),S={timestampsInSnapshots:!0};function E(t,e){return void 0===e&&(e=function(t){return t}),{query:e(t),ref:t}}var _=function(){function t(t,e,n,r,a,s,u){var c=this;this.scheduler=new p.e(s,a),this.firestore=s.runOutsideAngular(function(){var n=Object(p.f)(t,e).firestore();return n.settings(r||S),n}),this.persistenceEnabled$=n&&Object(v.o)(a)?s.runOutsideAngular(function(){try{return Object(i.a)(c.firestore.enablePersistence(u||void 0).then(function(){return!0},function(){return!1}))}catch(t){return Object(o.a)(!1)}}):Object(o.a)(!1)}return t.prototype.collection=function(t,e){var n=E("string"==typeof t?this.firestore.collection(t):t,e);return new m(n.ref,n.query,this)},t.prototype.doc=function(t){var e;return e="string"==typeof t?this.firestore.doc(t):t,new y(e,this)},t.prototype.createId=function(){return this.firestore.collection("_").doc().id},t}(),T=(n("6Joi"),function(){function t(){}var e;return e=t,t.enablePersistence=function(t){return{ngModule:e,providers:[{provide:g,useValue:!0},{provide:b,useValue:t}]}},t}());n.d(e,"c",function(){return g}),n.d(e,"e",function(){return b}),n.d(e,"d",function(){return w}),n.d(e,"a",function(){return _}),n.d(e,"b",function(){return T})},tmUU:function(t,e,n){n("oQnE"),n("zGGa"),t.exports=n("eKN1").f("iterator")},u00B:function(t,e,n){var r=n("qtiw"),i=n("Autd"),o=n("8L4g"),a=n("eKN1"),s=n("ytDL").f;t.exports=function(t){var e=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},u67D:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("En8+"),i=function(t){return function(e){for(var n=t[r.a]();;){var i=n.next();if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},uzCt:function(t,e,n){t.exports=function(){"use strict";function t(e){return t.result?t.result:e&&"function"==typeof e.getSerializer?t.result=e.getSerializer():Promise.reject(new Error("localforage.getSerializer() was not available! localforage v1.4+ is required!"))}function e(t,n){return(e.result=e.result||{})[n]?e.result[n]:t&&"function"==typeof t.getDriver?e.result[n]=t.getDriver(n):Promise.reject(new Error("localforage.getDriver() was not available! localforage v1.4+ is required!"))}function n(t){return e(t,t.WEBSQL)}var r=new Promise(function(t,e){"undefined"!=typeof sqlitePlugin?t():"undefined"==typeof cordova?e(new Error("cordova is not defined.")):document.addEventListener("deviceready",function(){return t()},!1)}).catch(function(){return Promise.resolve()});function i(){return r.then(function(){if("undefined"!=typeof sqlitePlugin&&"function"==typeof sqlitePlugin.openDatabase)return sqlitePlugin.openDatabase;throw new Error("SQLite plugin is not present.")})}var o={_driver:"cordovaSQLiteDriver",_initStorage:function(e){var r=this,o={db:null};if(e)for(var a in e)o[a]="string"!=typeof e[a]?e[a].toString():e[a];var s=i().then(function(t){return new Promise(function(e,n){try{o.location=o.location||"default",o.db=t({name:o.name,version:String(o.version),description:o.description,size:o.size,key:o.dbKey,location:o.location})}catch(i){n(i)}o.db.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS "+o.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){r._dbInfo=o,e()},function(t,e){n(e)})})})}),u=t(r),c=n(r);return Promise.all([u,c,s]).then(function(t){return o.serializer=t[0],s})},_support:function(){return i().then(function(t){return!!t}).catch(function(){return!1})}};return function(t){var e=["clear","getItem","iterate","key","keys","length","removeItem","setItem"];function r(t,e){t[e]=function(){var t=this,r=arguments;return n(t).then(function(n){return n[e].apply(t,r)})}}for(var i=0,o=e.length;i<o;i++)r(t,e[i])}(o),o}()},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("zVF4"),i=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;r.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},t}();function u(t,e){throw c.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=!1;try{l="[object process]"===Object.prototype.toString.call(global.process)}catch(f){}l&&console.warn('\nWarning: This is a browser-targeted Firebase bundle but it appears it is being\nrun in a Node environment.  If running in a Node environment, make sure you\nare using the bundle specified by the "main" field in package.json.\n\nIf you are using Webpack, you can specify "main" as the first item in\n"resolve.mainFields":\nhttps://webpack.js.org/configuration/resolve/#resolvemainfields\n\nIf using Rollup, use the rollup-plugin-node-resolve plugin and set "module"\nto false and "main" to true:\nhttps://github.com/rollup/rollup-plugin-node-resolve\n');var h=function t(){var e={},n={},a={},c={__esModule:!0,initializeApp:function(t,n){void 0===n&&(n={}),("object"!=typeof n||null===n)&&(n={name:n});var r=n;void 0===r.name&&(r.name=o);var a=r.name;"string"==typeof a&&a||u("bad-app-name",{name:a+""}),i(e,a)&&u("duplicate-app",{name:a});var l=new s(t,r,c);return e[a]=l,f(l,"create"),l},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.8.6",INTERNAL:{registerService:function(t,e,i,o,f){n[t]&&u("duplicate-service",{name:t}),n[t]=e,o&&(a[t]=o,h().forEach(function(t){o("create",t)}));var d=function(e){return void 0===e&&(e=l()),"function"!=typeof e[t]&&u("invalid-app-argument",{name:t}),e[t]()};return void 0!==i&&r.deepExtend(d,i),c[t]=d,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,f?e:[])},d},createFirebaseNamespace:t,extendNamespace:function(t){r.deepExtend(c,t)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(t){f(e[t],"delete"),delete e[t]},factories:n,useAsService:d,Promise:Promise,deepExtend:r.deepExtend}};function l(t){return i(e,t=t||o)||u("no-app",{name:t}),e[t]}function h(){return Object.keys(e).map(function(t){return e[t]})}function f(t,e){Object.keys(n).forEach(function(n){var r=d(0,n);null!==r&&a[r]&&a[r](e,t)})}function d(t,e){return"serverAuth"===e?null:e}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();e.firebase=h,e.default=h},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"createWebChannelTransport",function(){return Ke}),n.d(e,"ErrorCode",function(){return Ge}),n.d(e,"EventType",function(){return Qe}),n.d(e,"WebChannel",function(){return Ye}),n.d(e,"XhrIo",function(){return Xe});var r,i="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(t){return"string"==typeof t}function u(t,e){t=t.split("."),e=e||a;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){return"array"==l(t)}function f(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function d(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var p="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return(g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function S(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.re=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function E(){this.i=this.i,this.j=this.j}E.prototype.i=!1,E.prototype.La=function(){!this.i&&(this.i=!0,this.G(),0)&&(this[p]||(this[p]=++m))},E.prototype.G=function(){if(this.j)for(;this.j.length;)this.j.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(s(t))return s(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=s(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function C(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function k(t){return/^[\s\xa0]*$/.test(t)}var A,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function x(t,e){return-1!=t.indexOf(e)}function D(t,e){return t<e?-1:t>e?1:0}t:{var N=a.navigator;if(N){var R=N.userAgent;if(R){A=R;break t}}A=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e,n={};for(e in t)n[e]=t[e];return n}var M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<M.length;o++)n=M[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function U(t){return U[" "](t),t}U[" "]=c;var F,q,V=x(A,"Opera"),B=x(A,"Trident")||x(A,"MSIE"),z=x(A,"Edge"),H=z||B,W=x(A,"Gecko")&&!(x(A.toLowerCase(),"webkit")&&!x(A,"Edge"))&&!(x(A,"Trident")||x(A,"MSIE"))&&!x(A,"Edge"),K=x(A.toLowerCase(),"webkit")&&!x(A,"Edge");function G(){var t=a.document;return t?t.documentMode:void 0}t:{var Q="",Y=(q=A,W?/rv:([^\);]+)(\)|;)/.exec(q):z?/Edge\/([\d\.]+)/.exec(q):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(q):K?/WebKit\/(\S+)/.exec(q):V?/(?:Version)[ \/]?(\S+)/.exec(q):void 0);if(Y&&(Q=Y?Y[1]:""),B){var X=G();if(null!=X&&X>parseFloat(Q)){F=String(X);break t}}F=Q}var Z,J={};function $(t){return function(t,e){var n=J;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=O(String(F)).split("."),r=O(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=D(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||D(0==a[2].length,0==s[2].length)||D(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var tt=a.document;Z=tt&&B?G()||("CSS1Compat"==tt.compatMode?parseInt(F,10):5):void 0;var et=!B||9<=Number(Z),nt=B&&!$("9"),rt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{a.addEventListener("test",c,e),a.removeEventListener("test",c,e)}catch(n){}return t}();function it(t,e){this.type=t,this.a=this.target=e,this.b=!1,this.hc=!0}function ot(t,e){it.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.f=null,t&&this.g(t,e)}it.prototype.c=function(){this.hc=!1},S(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.g=function(t,e){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(W){t:{try{U(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=s(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.f=t,t.defaultPrevented&&this.c()},ot.prototype.c=function(){ot.S.c.call(this);var t=this.f;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,nt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ya=i,this.key=++ut,this.ja=this.oa=!1}function lt(t){this.src=t,this.a={},this.b=0}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ja&&o.listener==e&&o.capture==!!n&&o.ya==r)return i}return-1}ct.prototype.a=function(){this.ja=!0,this.ya=this.src=this.proxy=this.listener=null},(r=lt.prototype).add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=ht(t,e,r,i);return-1<a?(e=t[a],n||(e.oa=!1)):((e=new ct(e,this.src,o,!!r,i)).oa=n,t.push(e)),e},r.Sc=function(t,e,n,r){if((t=t.toString())in this.a){var i=this.a[t];-1<(e=ht(i,e,n,r))&&(i[e].a(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.a[t],this.b--))}},r.fc=function(t){var e=t.type;if(e in this.a){var n,r=this.a[e],i=_(r,t);(n=0<=i)&&Array.prototype.splice.call(r,i,1),n&&(t.a(),0==this.a[e].length&&(delete this.a[e],this.b--))}},r.Tc=function(){var t;for(t in this.a){for(var e=this.a[t],n=0;n<e.length;n++)e[n].a();delete this.a[t],this.b--}},r.Rc=function(t,e,n,r){var i=-1;return(t=this.a[t.toString()])&&(i=ht(t,e,n,r)),-1<i?t[i]:null};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(h(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=St(r),e&&e[st]?e.Mb(n,r,d(i)?!!i.capture:!!i,o):mt(e,n,r,!0,i,o)}(t,e,n,r,i);if(h(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.Lb(e,n,d(r)?!!r.capture:!!r,i):mt(t,e,n,!1,r,i)}function mt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i;if(a&&!et)return null;var s=bt(t);if(s||(t[ft]=s=new lt(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=gt,e=et?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.ja){var e=t.src;if(e&&e[st])e.nc(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bt(e))?(n.fc(t),0==n.b&&(n.src=null,e[ft]=null)):t.a()}}}function vt(t){return t in dt?dt[t]:dt[t]="on"+t}function gt(t,e){return!!t.ja||function(t,e){var n=t.listener,r=t.ya||t.src;return t.oa&&yt(t),n.call(r,e)}(t,et?new ot(e,this):e=new ot(e||u("window.event"),this))}function bt(t){return(t=t[ft])instanceof lt?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function Et(){E.call(this),this.c=new lt(this),this.K=this,this.F=null}S(Et,E),Et.prototype[st]=!0,(r=Et.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=St(r),e&&e[st]?e.Qc(n,r,i,o):e&&(e=bt(e))&&(n=e.Rc(n,r,i,o))&&yt(n)}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.F;if(n)for(e=[];n;n=n.F)e.push(n);n=this.K;var r=t.type||t;if(s(t))t=new it(t,n);else if(t instanceof it)t.target=t.target||n;else{var i=t;L(t=new it(r,n),i)}if(i=!0,e)for(var o=e.length-1;!t.b&&0<=o;o--){var a=t.a=e[o];i=a.ua(r,!0,t)&&i}if(t.b||(i=(a=t.a=n).ua(r,!0,t)&&i,t.b||(i=a.ua(r,!1,t)&&i)),e)for(o=0;!t.b&&o<e.length;o++)i=(a=t.a=e[o]).ua(r,!1,t)&&i;return i},r.G=function(){Et.S.G.call(this),this.Id(),this.F=null},r.Lb=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Mb=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)},r.Qc=function(t,e,n,r){this.c.Sc(String(t),e,n,r)},r.nc=function(t){this.c.fc(t)},r.Id=function(){this.c&&this.c.Tc()},r.ua=function(t,e,n){if(!(t=this.c.a[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ja&&o.capture==e){var a=o.listener,s=o.ya||o.src;o.oa&&this.nc(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.hc};var _t=a.JSON.stringify;function Tt(t,e){this.g=100,this.c=t,this.h=e,this.b=0,this.a=null}function It(){this.b=this.a=null}Tt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t},Tt.prototype.f=function(t){this.h(t),this.b<this.g&&(this.b++,t.next=this.a,this.a=t)};var Ct,kt=new Tt(function(){return new At},function(t){t.reset()});function At(){this.next=this.b=this.a=null}function Ot(t){a.setTimeout(function(){throw t},0)}It.prototype.add=function(t,e){var n=this.c();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},It.prototype.f=function(){var t=null;return this.a&&(t=this.a,this.a=this.a.next,this.a||(this.b=null),t.next=null),t},It.prototype.g=function(t){kt.f(t)},It.prototype.c=function(){return kt.get()},At.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var xt=!1,Dt=new It;function Nt(){for(var t;t=Dt.f();){try{t.a.call(t.b)}catch(e){Ot(e)}Dt.g(t)}xt=!1}function Rt(t,e){Et.call(this),this.b=t||1,this.a=e||a,this.f=g(this.$d,this),this.g=w()}function Pt(t,e,n){if("function"==l(t))n&&(t=g(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:a.setTimeout(t,e||0)}function jt(t,e,n){E.call(this),this.f=null!=n?g(t,n):t,this.c=e,this.b=g(this.Cd,this),this.a=[]}function Mt(t){E.call(this),this.b=t,this.a={}}S(Rt,Et),(r=Rt.prototype).wa=!1,r.P=null,r.$d=function(){if(this.wa){var t=w()-this.g;0<t&&t<.8*this.b?this.P=this.a.setTimeout(this.f,this.b-t):(this.P&&(this.a.clearTimeout(this.P),this.P=null),this.Gc(),this.wa&&(this.Na(),this.start()))}},r.Gc=function(){this.dispatchEvent("tick")},r.start=function(){this.wa=!0,this.P||(this.P=this.a.setTimeout(this.f,this.b),this.g=w())},r.Na=function(){this.wa=!1,this.P&&(this.a.clearTimeout(this.P),this.P=null)},r.G=function(){Rt.S.G.call(this),this.Na(),delete this.a},S(jt,E),(r=jt.prototype).Ca=!1,r.ec=0,r.ba=null,r.Hc=function(t){this.a=arguments,this.ba||this.ec?this.Ca=!0:this.yb()},r.Pc=function(){this.ba&&(a.clearTimeout(this.ba),this.ba=null,this.Ca=!1,this.a=[])},r.G=function(){jt.S.G.call(this),this.Pc()},r.Cd=function(){this.ba=null,this.Ca&&!this.ec&&(this.Ca=!1,this.yb())},r.yb=function(){this.ba=Pt(this.b,this.c),this.f.apply(null,this.a)},S(Mt,E);var Lt=[];function Ut(){}(r=Mt.prototype).Jb=function(t,e,n){this.wd(t,e,n)},r.wd=function(t,e,n){h(e)||(e&&(Lt[0]=e.toString()),e=Lt);for(var r=0;r<e.length;r++){var i=pt(t,e[r],n||this.handleEvent,!1,this.b||this);if(!i)break;this.a[i.key]=i}},r.Kb=function(){P(this.a,function(t,e){this.a.hasOwnProperty(e)&&yt(t)},this),this.a={}},r.G=function(){Mt.S.G.call(this),this.Kb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ft=new Et;function qt(t){it.call(this,"serverreachability",t)}function Vt(t){Ft.dispatchEvent(new qt(Ft,t))}function Bt(t){it.call(this,"statevent",t)}function zt(t){Ft.dispatchEvent(new Bt(Ft,t))}function Ht(t){it.call(this,"timingevent",t)}function Wt(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){t()},e)}S(qt,it),S(Bt,it),S(Ht,it);var Kt={NO_ERROR:0,ae:1,he:2,ge:3,de:4,fe:5,ie:6,qc:7,TIMEOUT:8,le:9},Gt={ce:"complete",pe:"success",rc:"error",qc:"abort",ne:"ready",oe:"readystatechange",TIMEOUT:"timeout",je:"incrementaldata",me:"progress",ee:"downloadprogress",qe:"uploadprogress"};function Qt(){}function Yt(){}Qt.prototype.a=null,Qt.prototype.c=function(){return this.a||(this.a={})};var Xt,Zt={OPEN:"a",be:"b",rc:"c",ke:"d"};function Jt(){it.call(this,"d")}function $t(){it.call(this,"c")}function te(){}function ee(t,e,n){this.g=t,this.da=e,this.ca=n||1,this.I=new Mt(this),this.L=ne,this.T=new Rt(t=H?125:void 0),this.J=null,this.b=!1,this.i=this.C=this.f=this.F=this.u=this.U=this.h=null,this.j=[],this.a=null,this.A=0,this.c=this.v=null,this.o=-1,this.l=!1,this.K=0,this.B=null,this.s=this.Y=this.H=!1}S(Jt,it),S($t,it),S(te,Qt),te.prototype.b=function(){return new XMLHttpRequest},Xt=new te;var ne=45e3,re={},ie={};function oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||s(t))T(t,e,void 0);else{if(t.O&&"function"==typeof t.O)var n=t.O();else if(t.D&&"function"==typeof t.D)n=void 0;else if(f(t)||s(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.D&&"function"==typeof t.D)return t.D();if(s(t))return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.fd(t)}function se(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=ee.prototype).ha=function(t){this.J=t},r.setTimeout=function(t){this.L=t},r.Xc=function(t){this.K=t},r.Qd=function(t){this.j=t},r.cb=function(t,e){this.F=1,this.f=t.N().za(),this.i=e,this.H=!0,this.ic(null)},r.bb=function(t,e,n){this.F=1,this.f=t.N().za(),this.i=null,this.H=e,this.ic(n)},r.ic=function(t){this.u=w(),this.fa(),this.C=this.f.N(),this.C.Aa("t",this.ca),this.A=0,this.a=this.g.sa(this.g.Da()?t:null),0<this.K&&(this.B=new jt(g(this.oc,this,this.a),this.K)),this.I.Jb(this.a,"readystatechange",this.Hd),t=this.J?j(this.J):{},this.i?(this.v||(this.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.a.xa(this.C,this.v,this.i,t)):(this.v="GET",this.a.xa(this.C,this.v,null,t)),Vt(1)},r.Hd=function(t){t=t.target;var e=this.B;e&&3==t.W()?e.Hc():this.oc(t)},r.oc=function(t){try{t==this.a&&this.Ed()}catch(e){}},r.Ed=function(){var t=this.a.W(),e=this.a.Db(),n=this.a.aa();if(!(3>t||3==t&&!H&&!this.a.va()))if(this.l||4!=t||7==e||Vt(8==e||0>=n?3:2),this.pa(),this.o=n=this.a.aa(),e=this.a.va(),this.b=200==n){if(this.Td()){if(!(n=this.Kc()))return this.b=!1,this.c=3,zt(12),this.Z(),void this.ta();this.s=!0,this.Wa(n)}this.H?(this.vb(t,e),H&&this.b&&3==t&&this.Yd()):this.Wa(e),4==t&&this.Z(),this.b&&!this.l&&(4==t?this.g.Va(this):(this.b=!1,this.fa()))}else 400==n&&0<e.indexOf("Unknown SID")?(this.c=3,zt(12)):(this.c=0,zt(13)),this.Z(),this.ta()},r.Td=function(){return this.Y&&!this.s},r.Kc=function(){if(this.a){var t=this.a.ga("X-HTTP-Initial-Response");if(t&&!k(t))return t}return null},r.Md=function(){this.Y=!0},r.vb=function(t,e){for(var n=!0;!this.l&&this.A<e.length;){var r=this.Lc(e);if(r==ie){4==t&&(this.c=4,zt(14),n=!1);break}if(r==re){this.c=4,zt(15),n=!1;break}this.Wa(r)}4==t&&0==e.length&&(this.c=1,zt(16),n=!1),this.b=this.b&&n,n||(this.Z(),this.ta())},r.Gd=function(){if(this.a){var t=this.a.W(),e=this.a.va();this.A<e.length&&(this.pa(),this.vb(t,e),this.b&&4!=t&&this.fa())}},r.Yd=function(){this.I.Jb(this.T,"tick",this.Gd),this.T.start()},r.Lc=function(t){var e=this.A,n=t.indexOf("\n",e);return-1==n?ie:(e=Number(t.substring(e,n)),isNaN(e)?re:(n+=1)+e>t.length?ie:(t=t.substr(n,e),this.A=n+e,t))},r.Ld=function(t){this.F=2,this.f=t.N().za(),t=!1,a.navigator&&a.navigator.sendBeacon&&(t=a.navigator.sendBeacon(this.f.toString(),"")),!t&&a.Image&&((new Image).src=this.f,t=!0),t||(this.a=this.g.sa(null),this.a.xa(this.f)),this.u=w(),this.fa()},r.cancel=function(){this.l=!0,this.Z()},r.Kd=function(t){t&&this.setTimeout(t),this.h&&(this.pa(),this.fa())},r.fa=function(){this.U=w()+this.L,this.mc(this.L)},r.mc=function(t){if(null!=this.h)throw Error("WatchDog timer not null");this.h=Wt(g(this.Dd,this),t)},r.pa=function(){this.h&&(a.clearTimeout(this.h),this.h=null)},r.Dd=function(){this.h=null;var t=w();0<=t-this.U?this.md():this.mc(this.U-t)},r.md=function(){2!=this.F&&(Vt(3),zt(17)),this.Z(),this.c=2,this.ta()},r.ta=function(){this.g.Tb()||this.l||this.g.Va(this)},r.Z=function(){this.pa();var t=this.B;t&&"function"==typeof t.La&&t.La(),this.B=null,this.T.Na(),this.I.Kb(),this.a&&(t=this.a,this.a=null,t.abort(),t.La())},r.Wa=function(t){try{this.g.bc(this,t),Vt(4)}catch(e){}},(r=ae.prototype).D=function(){this.Ka();for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.O=function(){return this.Ka(),this.a.concat()},r.Ra=function(t){return se(this.b,t)},r.hd=function(){return 0==this.c},r.gd=function(){this.b={},this.c=this.a.length=0},r.Qb=function(t){se(this.b,t)&&(delete this.b[t],this.c--,this.a.length>2*this.c&&this.Ka())},r.Ka=function(){if(this.c!=this.a.length){for(var t=0,e=0;t<this.a.length;){var n=this.a[t];se(this.b,n)&&(this.a[e++]=n),t++}this.a.length=e}if(this.c!=this.a.length){var r={};for(e=t=0;t<this.a.length;)se(r,n=this.a[t])||(this.a[e++]=n,r[n]=1),t++;this.a.length=e}},r.get=function(t,e){return se(this.b,t)?this.b[t]:e},r.set=function(t,e){se(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.fd=function(t){if(t instanceof ae)for(var e=t.O(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},r.forEach=function(t,e){for(var n=this.O(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},r.Pb=function(){return new ae(this)};var ue=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ce(t,e){var n;this.c=this.i=this.b="",this.h=null,this.j=this.g="",this.f=this.l=!1,t instanceof ce?(this.f=void 0!==e?e:t.f,this.ma(t.b),this.$a(t.i),this.ka(t.c),this.la(t.h),this.Ba(t.g),this.Za(t.a.Gb()),this.Ya(t.j)):t&&(n=String(t).match(ue))?(this.f=!!e,this.ma(n[1]||"",!0),this.$a(n[2]||"",!0),this.ka(n[3]||"",!0),this.la(n[4]),this.Ba(n[5]||"",!0),this.Za(n[6]||"",!0),this.Ya(n[7]||"",!0)):(this.f=!!e,this.a=new ge(null,this.f))}function le(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function he(t,e,n){return s(t)?(t=encodeURI(t).replace(e,fe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function fe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(r=ce.prototype).toString=function(){var t=[],e=this.b;e&&t.push(he(e,de,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(he(e,de,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.Sa()&&"/"!=n.charAt(0)&&t.push("/"),t.push(he(n,"/"==n.charAt(0)?me:pe,!0))),(n=this.Ic())&&t.push("?",n),(n=this.j)&&t.push("#",he(n,ve)),t.join("")},r.resolve=function(t){var e=this.N(),n=t.qd();n?e.ma(t.b):n=t.rd(),n?e.$a(t.i):n=t.Sa(),n?e.ka(t.c):n=t.od();var r=t.g;if(n)e.la(t.h);else if(n=t.Sb()){if("/"!=r.charAt(0))if(this.Sa()&&!this.Sb())r="/"+r;else{var i=e.g.lastIndexOf("/");-1!=i&&(r=e.g.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(x(i,"./")||x(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.Ba(r):n=t.pd(),n?e.Za(t.a.Gb()):n=t.nd(),n&&e.Ya(t.j),e},r.N=function(){return new ce(this)},r.ma=function(t,e){this.M(),(this.b=e?le(t,!0):t)&&(this.b=this.b.replace(/:$/,""))},r.qd=function(){return!!this.b},r.$a=function(t,e){this.M(),this.i=e?le(t):t},r.rd=function(){return!!this.i},r.ka=function(t,e){this.M(),this.c=e?le(t,!0):t},r.Sa=function(){return!!this.c},r.la=function(t){if(this.M(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.h=t}else this.h=null},r.od=function(){return null!=this.h},r.Ba=function(t,e){this.M(),this.g=e?le(t,!0):t},r.Sb=function(){return!!this.g},r.pd=function(){return""!==this.a.toString()},r.Za=function(t,e){this.M(),t instanceof ge?(this.a=t,this.a.Oc(this.f)):(e||(t=he(t,ye)),this.a=new ge(t,this.f))},r.Ic=function(){return this.a.toString()},r.m=function(t,e){this.M(),this.a.set(t,e)},r.Aa=function(t,e){this.M(),h(e)||(e=[String(e)]),this.a.lc(t,e)},r.Ya=function(t,e){this.M(),this.j=e?le(t):t},r.nd=function(){return!!this.j},r.za=function(){return this.M(),this.m("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),this},r.M=function(){if(this.l)throw Error("Tried to modify a read-only Uri")};var de=/[#\/\?@]/g,pe=/[#\?:]/g,me=/[#\?]/g,ye=/[#\?@]/g,ve=/#/g;function ge(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function be(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function we(){this.a=this.b=null}function Se(){this.a=new ae}function Ee(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[p]||(t[p]=++m)):e.charAt(0)+t}function _e(t,e){this.a=t,this.b=e}function Te(t){this.g=t||Ie,t=a.PerformanceNavigationTiming?0<(t=a.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(a.Ja&&a.Ja.Vb&&a.Ja.Vb()&&a.Ja.Vb().te),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Se),this.b=null,this.c=[]}(r=ge.prototype).V=function(){if(!this.a&&(this.a=new ae,this.b=0,this.c)){var t=this;!function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},r.add=function(t,e){this.V(),this.ia(),t=this.$(t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.Ib=function(t){this.V(),t=this.$(t),this.a.Ra(t)&&(this.ia(),this.b-=this.a.get(t).length,this.a.Qb(t))},r.Hb=function(t){return this.V(),t=this.$(t),this.a.Ra(t)},r.forEach=function(t,e){this.V(),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.O=function(){this.V();for(var t=this.a.D(),e=this.a.O(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.D=function(t){this.V();var e=[];if(s(t))this.Hb(t)&&(e=I(e,this.a.get(this.$(t))));else{t=this.a.D();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return this.V(),this.ia(),t=this.$(t),this.Hb(t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.D(t)).length?String(t[0]):e},r.lc=function(t,e){this.Ib(t),0<e.length&&(this.ia(),this.a.set(this.$(t),C(e)),this.b+=e.length)},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.O(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.D(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")},r.ia=function(){this.c=null},r.Gb=function(){var t=new ge;return t.c=this.c,this.a&&(t.a=this.a.Pb(),t.b=this.b),t},r.$=function(t){return t=String(t),this.f&&(t=t.toLowerCase()),t},r.Oc=function(t){t&&!this.f&&(this.V(),this.ia(),this.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.Ib(e),this.lc(n,t))},this)),this.f=t},S(function(){},function(){}),(r=be.prototype).R=null,r.Wc=function(t){this.h=t},r.Vc=function(t){this.i=t,t=this.a.Cb(this.i),zt(3);var e=this.a.H.b;null!=e?(this.f=this.a.Oa(e[0]),this.R=1,this.rb()):(t.Aa("MODE","init"),!this.a.o&&this.a.j&&t.Aa("X-HTTP-Session-Id",this.a.j),this.b=new ee(this,void 0,void 0),this.b.ha(this.h),this.b.bb(t,!1,null),this.R=0)},r.rb=function(){var t=this.a.H.a;if(null!=t)zt(4),t?(zt(10),this.a.na(this,!1)):(zt(11),this.a.na(this,!0));else{this.b=new ee(this,void 0,void 0),this.b.ha(this.h),t=this.a.Bb(this.f,this.i),zt(4),t.Aa("TYPE","xmlhttp");var e=this.a.j,n=this.a.Fa;e&&n&&t.m(e,n),this.b.bb(t,!1,this.f)}},r.sa=function(t){return this.a.sa(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Tb=function(){return!1},r.bc=function(t,e){if(this.c=t.o,0==this.R)if(this.Uc(t),e){try{var n=this.a.U.a(e)}catch(r){return void this.a.ab(this)}this.f=this.a.Oa(n[0])}else this.a.ab(this);else 1==this.R&&(this.g?zt(6):"11111"==e?(zt(5),this.g=!0,this.Ac()&&(this.c=200,this.b.cancel(),zt(11),this.a.na(this,!0))):(zt(7),this.g=!1))},r.Va=function(){this.c=this.b.o,this.b.b?0==this.R?(this.R=1,this.rb()):1==this.R&&(this.g?(zt(11),this.a.na(this,!0)):(zt(10),this.a.na(this,!1))):(0==this.R?zt(8):1==this.R&&zt(9),this.a.ab(this))},r.Uc=function(t){if(!this.a.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");this.l=e||null,this.a.j&&(t=t.ga("X-HTTP-Session-Id"))&&this.a.kc(t)}},r.Da=function(){return this.a.Da()},r.Pa=function(){return this.a.Pa()},r.Ac=function(){return!B||10<=Number(Z)},(r=Se.prototype).add=function(t){this.a.set(Ee(t),t)},r.ed=function(t){this.a.Qb(Ee(t))},r.jd=function(){this.a.gd()},r.Rb=function(){return this.a.hd()},r.Ob=function(t){return this.a.Ra(Ee(t))},r.D=function(){return this.a.D()};var Ie=10;function Ce(){this.b=this.a=void 0}function ke(){this.f=new Ce}function Ae(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}(r=Te.prototype).kb=function(t){!this.a&&(x(t,"spdy")||x(t,"quic")||x(t,"h2"))&&(this.f=this.g,this.a=new Se,this.b&&(this.Ha(this.b),this.b=null))},r.Ub=function(){return!!this.b||!!this.a&&this.a.a.c>=this.f},r.Mc=function(){return this.b?1:this.a?this.a.a.c:0},r.Ta=function(t){return this.b?this.b==t:!!this.a&&this.a.Ob(t)},r.Ha=function(t){this.a?this.a.add(t):this.b=t},r.gc=function(t){this.b&&this.b==t?this.b=null:this.a&&this.a.Ob(t)&&this.a.ed(t)},r.cancel=function(){this.c=this.Xb(),this.b?(this.b.cancel(),this.b=null):this.a&&!this.a.Rb()&&(T(this.a.D(),function(t){t.cancel()}),this.a.jd())},r.Xb=function(){if(null!=this.b)return this.c.concat(this.b.j);if(null!=this.a&&!this.a.Rb()){var t=this.c;return T(this.a.D(),function(e){t=t.concat(e.j)}),t}return C(this.c)},r.wc=function(t){this.c=this.c.concat(t)},r.Bc=function(){this.c.length=0},Ce.prototype.stringify=function(t){return a.JSON.stringify(t,this.a)},Ce.prototype.parse=function(t){return a.JSON.parse(t,this.b)},ke.prototype.b=function(t,e,n){var r=n||"";try{oe(t,function(t,n){var i=t;d(t)&&(i=_t(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}},ke.prototype.c=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?i.push("ofs="+(r=t[0].a)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].a,u=t[a].b;if(0>(s-=r))r=Math.max(0,t[a].a-100),o=!1;else try{this.b(u,i,"req"+s+"_")}catch(c){n&&n(u)}}if(o)return i.join("&")}},ke.prototype.a=function(t){return this.f.parse(t)};var Oe=a.JSON.parse;function xe(t){Et.call(this),this.headers=new ae,this.l=t||null,this.b=!1,this.v=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.o=this.A=!1,this.u=0,this.s=null,this.J=De,this.H=this.L=this.I=!1}S(xe,Et);var De="",Ne=/^https?$/i,Re=["POST","PUT"];function Pe(t){return"content-type"==t.toLowerCase()}function je(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function Me(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return P(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),s(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.m(e,n),t}function Le(t){this.gb=22,this.g=[],this.H=new we,this.da=this.fb=this.C=this.Ea=this.a=this.Fa=this.j=this.ca=this.f=this.J=this.h=null,this.sc=!0,this.zc=this.L=0,this.uc=!!u("internalChannelParams.failFast",t),this.Ga=this.v=this.s=this.l=this.i=this.b=null,this.eb=!0,this.B=this.jb=this.K=-1,this.Y=this.u=this.A=0,this.tc=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Fc=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.pc=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.ib=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.xc=t&&t.ue||void 0,this.F=void 0,this.vc=0,this.T=t&&t.supportsCrossDomainXhr||!1,this.I="",this.c=new Te(t&&t.concurrentRequestLimit),this.U=new ke,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.hb=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.se&&(this.eb=!1)}function Ue(){}function Fe(){if(B&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function qe(t,e){Et.call(this),this.a=new Le(e),this.g=t,this.o=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.cd(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.tb&&(t?t["X-WebChannel-Client-Profile"]=e.tb:t={"X-WebChannel-Client-Profile":e.tb}),this.a.Pd(t),(t=e&&e.httpHeadersOverwriteParam)&&!k(t)&&this.a.Nd(t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!k(e)&&(this.a.Od(e),null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ze(this)}function Ve(t){Jt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.f=t)?(t=this.f,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Be(){$t.call(this),this.status=1}function ze(t){this.a=t}(r=xe.prototype).Sd=function(t){this.I=t},r.xa=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.Ec(),this.v=this.l?this.l.c():Xt.c(),this.a.onreadystatechange=g(this.ac,this),this.L&&"onprogress"in this.a&&(this.a.onprogress=g(function(t){this.Zb(t,!0)},this),this.a.upload&&(this.a.upload.onprogress=g(this.Zb,this)));try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void this.Ab(o)}t=n||"";var i=this.headers.Pb();r&&oe(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Pe,n=t.length,r=s(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:s(t)?t.charAt(e):t[e]}(i.O()),n=a.FormData&&t instanceof a.FormData,!(0<=_(Re,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.J&&(this.a.responseType=this.J),"withCredentials"in this.a&&this.a.withCredentials!==this.I&&(this.a.withCredentials=this.I);try{this.sb(),0<this.u&&((this.H=function(t){return B&&$(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.u,this.a.ontimeout=g(this.Nb,this)):this.s=Pt(this.Nb,this.u,this)),this.o=!0,this.a.send(t),this.o=!1}catch(o){this.Ab(o)}},r.Ec=function(){return this.l?this.l.b():Xt.b()},r.Nb=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.u+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.Ab=function(t){this.b=!1,this.a&&(this.g=!0,this.a.abort(),this.g=!1),this.f=t,this.h=5,this.xb(),this.qa()},r.xb=function(){this.A||(this.A=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.qa())},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),this.qa(!0)),xe.S.G.call(this)},r.ac=function(){this.i||(this.B||this.o||this.g?this.$b():this.Bd())},r.Bd=function(){this.$b()},r.$b=function(){if(this.b&&void 0!==o&&(!this.v[1]||4!=this.W()||2!=this.aa()))if(this.o&&4==this.W())Pt(this.ac,0,this);else if(this.dispatchEvent("readystatechange"),this.td()){this.b=!1;try{this.vd()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.h=6,this.f=this.Fb()+" ["+this.aa()+"]",this.xb())}finally{this.qa()}}},r.Zb=function(t,e){this.dispatchEvent(je(t,"progress")),this.dispatchEvent(je(t,e?"downloadprogress":"uploadprogress"))},r.qa=function(t){if(this.a){this.sb();var e=this.a,n=this.v[0]?c:null;this.v=this.a=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(r){}}},r.sb=function(){this.a&&this.H&&(this.a.ontimeout=null),this.s&&(a.clearTimeout(this.s),this.s=null)},r.td=function(){return 4==this.W()},r.vd=function(){var t=this.aa();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.ud()},r.ud=function(){var t=String(this.C).match(ue)[1]||null;return!t&&a.self&&a.self.location&&(t=(t=a.self.location.protocol).substr(0,t.length-1)),Ne.test(t?t.toLowerCase():"")},r.W=function(){return this.a?this.a.readyState:0},r.aa=function(){try{return 2<this.W()?this.a.status:-1}catch(q){return-1}},r.Fb=function(){try{return 2<this.W()?this.a.statusText:""}catch(q){return""}},r.va=function(){try{return this.a?this.a.responseText:""}catch(q){return""}},r.Nc=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Oe(e)}},r.ga=function(t){return this.a?this.a.getResponseHeader(t):null},r.Db=function(){return this.h},r.dd=function(){return s(this.f)?this.f:String(this.f)},(r=Le.prototype).qb=8,r.w=1,r.bd=function(t,e,n){zt(0),this.Ea=e,this.ca=n||{},this.o&&(this.H.b=[],this.H.a=!1),this.Dc(t)},r.Qa=function(){if(this.lb(),3==this.w){var t=this.L++,e=this.C.N();e.m("SID",this.I),e.m("RID",t),e.m("TYPE","terminate"),this.ea(e),new ee(this,t,void 0).Ld(e)}this.Yb()},r.Dc=function(t){this.v=new be(this),null===this.f&&this.v.Wc(this.h);var e=t;this.f&&this.h&&(e=Me(t,this.f,this.h)),this.v.Vc(e)},r.Cc=function(){this.C=this.Cb(this.Ea),this.Ma()},r.lb=function(){this.v&&(this.v.abort(),this.v=null),this.a&&(this.a.cancel(),this.a=null),this.l&&(a.clearTimeout(this.l),this.l=null),this.ra(),this.c.cancel(),this.i&&(a.clearTimeout(this.i),this.i=null)},r.cd=function(t){this.h=t},r.Pd=function(t){this.J=t},r.Nd=function(t){this.f=t},r.Od=function(t){this.j=t},r.kc=function(t){this.Fa=t},r.Rd=function(){this.T=!0},r.jc=function(t){this.b=t},r.sd=function(){return!this.Ga},r.Xa=function(t){this.g.push(new _e(this.zc++,t)),3==this.w&&this.Ma()},r.Jc=function(){return this.uc?0:this.pc},r.Tb=function(){return 0==this.w},r.Ma=function(){this.c.Ub()||this.i||(this.i=Wt(g(this.dc,this),0),this.A=0)},r.xd=function(t){return!(this.c.Mc()>=this.c.f-(this.i?1:0)||(this.i?(this.g=t.j.concat(this.g),0):1==this.w||2==this.w||this.A>=this.Jc()||(this.i=Wt(g(this.dc,this,t),this.Eb(this.A)),this.A++,0)))},r.dc=function(t){this.i=null,this.Xd(t)},r.Xd=function(t){1==this.w?t||(this.Fd(),this.w=2):3==this.w&&(t?this.Wb(t):0==this.g.length||this.c.Ub()||this.Wb())},r.Fd=function(){this.L=Math.floor(1e5*Math.random());var t=this.L++,e=new ee(this,t,void 0),n=this.h;this.J&&(n?L(n=j(n),this.J):n=this.J),null===this.f&&e.ha(n);var r=this.wb(e),i=this.C.N();i.m("RID",t),0<this.gb&&i.m("CVER",this.gb),this.o&&this.j&&i.m("X-HTTP-Session-Id",this.j),this.ea(i),this.f&&n&&Me(i,this.f,n),this.c.Ha(e),this.hb?(i.m("$req",r),i.m("SID","null"),e.Md(),e.cb(i,null)):e.cb(i,r)},r.Wb=function(t){var e;e=t?t.da:this.L++;var n=this.C.N();n.m("SID",this.I),n.m("RID",e),n.m("AID",this.K),this.ea(n),this.f&&this.h&&Me(n,this.f,this.h),e=new ee(this,e,this.A+1),null===this.f&&e.ha(this.h),t&&this.Jd(t),t=this.wb(e),e.setTimeout(Math.round(.5*this.ib)+Math.round(.5*this.ib*Math.random())),this.c.Ha(e),e.cb(n,t)},r.ea=function(t){this.b&&oe({},function(e,n){t.m(n,e)})},r.wb=function(t){var e=Math.min(this.g.length,1e3),n=this.b?g(this.b.yc,this.b,this):null;return n=this.U.c(this.g,e,n),t.Qd(this.g.splice(0,e)),n},r.Jd=function(t){this.g=t.j.concat(this.g)},r.zb=function(){if(!this.a&&!this.l){this.Y=1;var t=this.cc;Ct||function(){var t=a.Promise.resolve(void 0);Ct=function(){t.then(Nt)}}(),xt||(Ct(),xt=!0),Dt.add(t,this),this.u=0}},r.Ua=function(){return!(this.a||this.l||3<=this.u||(this.Y++,this.l=Wt(g(this.cc,this),this.Eb(this.u)),this.u++,0))},r.cc=function(){this.l=null,this.Vd()},r.Vd=function(){this.a=new ee(this,"rpc",this.Y),null===this.f&&this.a.ha(this.h),this.a.Xc(this.vc);var t=this.fb.N();t.m("RID","rpc"),t.m("SID",this.I),t.m("CI",this.Ga?"0":"1"),t.m("AID",this.K),this.ea(t),t.m("TYPE","xmlhttp"),this.f&&this.h&&Me(t,this.f,this.h),this.F&&this.a.setTimeout(this.F),this.a.bb(t,!0,this.da)},r.na=function(t,e){var n=t.l;n&&this.c.kb(n),this.Ga=this.eb&&e,this.B=t.c,this.Cc()},r.ab=function(t){this.B=t.c,this.X(2)},r.bc=function(t,e){if(0!=this.w&&(this.a==t||this.c.Ta(t)))if(this.B=t.o,!t.s&&this.c.Ta(t)&&3==this.w){try{var n=this.U.a(e)}catch(r){n=null}h(n)&&3==n.length?this.ld(n,t):this.X(11)}else(t.s||this.a==t)&&this.ra(),k(e)||(n=this.U.a(e),this.Ad(n,t))},r.ld=function(t,e){0==t[0]?this.kd(e):(this.jb=t[1],0<this.jb-this.K&&this.Ud(t[2])&&!this.s&&(this.s=Wt(g(this.yd,this),6e3)))},r.kd=function(t){if(!this.l){if(this.a){if(!(this.a.u+3e3<t.u))return;this.ra(),this.a.cancel(),this.a=null}this.Ua(),zt(18)}},r.Ud=function(t){return 37500>t&&!this.sd()&&0==this.u},r.Oa=function(t){return this.sc?this.b?this.b.$c(t):t:null},r.yd=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,this.Ua(),zt(19))},r.ra=function(){null!=this.s&&(a.clearTimeout(this.s),this.s=null)},r.Va=function(t){var e=null;if(this.a==t){this.ra(),this.a=null;var n=2}else{if(!this.c.Ta(t))return;e=t.j,this.c.gc(t),n=1}if(this.B=t.o,0!=this.w)if(t.b)1==n?(n=w()-t.u,Ft.dispatchEvent(new Ht(Ft,t.i?t.i.length:0,n,this.A)),this.Ma()):this.zb();else{var r=t.c;if(3==r||0==r&&0<this.B||!(1==n&&this.xd(t)||2==n&&this.Ua()))switch(e&&0<e.length&&this.c.wc(e),r){case 1:this.X(5);break;case 4:this.X(10);break;case 3:this.X(6);break;default:this.X(2)}}},r.Eb=function(t){var e=this.tc+Math.floor(Math.random()*this.Fc);return this.Pa()||(e*=2),e*t},r.ad=function(t){if(this.o&&(t=t.a)){var e=t.ga("X-Client-Wire-Protocol");e&&this.c.kb(e),this.j&&(t=t.ga("X-HTTP-Session-Id"))&&(this.kc(t),this.C.m(this.j,t))}},r.Ad=function(t,e){for(var n=this.b&&this.b.Ia?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.K=i[0],i=i[1],2==this.w)if("c"==i[0]){this.I=i[1],this.da=this.Oa(i[2]);var o=i[3];null!=o&&(this.qb=o),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.F=1.5*i),this.ad(e),this.w=3,this.b&&this.b.pb(),this.Wd(e)}else"stop"!=i[0]&&"close"!=i[0]||this.X(7);else 3==this.w&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.b.Ia(this,n),n.length=0),"stop"==i[0]?this.X(7):this.Qa()):"noop"!=i[0]&&(n?n.push(i):this.b&&this.b.ob(i)),this.u=0)}n&&0!=n.length&&this.b.Ia(this,n)},r.Wd=function(t){this.fb=this.Bb(this.da,this.Ea),t.s?(this.c.gc(t),t.Kd(this.F),this.a=t):this.zb()},r.X=function(t){if(2==t){var e=null;this.b&&(e=null);var n=g(this.Zd,this);e||(e=new ce("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||e.ma("https"),e.za()),function(t,e){var n=new Ut,r=new Image;r.onload=b(Ae,n,r,"TestLoadImage: loaded",!0,e),r.onerror=b(Ae,n,r,"TestLoadImage: error",!1,e),r.onabort=b(Ae,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=b(Ae,n,r,"TestLoadImage: timeout",!1,e),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}(e.toString(),n)}else zt(2);this.zd(t)},r.Zd=function(t){zt(t?2:1)},r.zd=function(t){this.w=0,this.b&&this.b.nb(t),this.Yb(),this.lb()},r.Yb=function(){this.w=0,this.B=-1,this.b&&(0==this.c.Xb().length&&0==this.g.length||(this.c.Bc(),C(this.g),this.g.length=0),this.b.mb())},r.Cb=function(t){return this.ub(null,t)},r.Bb=function(t,e){return this.ub(this.Da()?t:null,e)},r.ub=function(t,e){var n=function(t){return t instanceof ce?t.N():new ce(t,void 0)}(e);if(""!=n.c)t&&n.ka(t+"."+n.c),n.la(n.h);else{var r=a.location;n=function(t,e,n,r){var i=new ce(null,void 0);return t&&i.ma(t),e&&i.ka(e),n&&i.la(n),r&&i.Ba(r),i}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.ca&&P(this.ca,function(t,e){n.m(e,t)}),e=this.Fa,(t=this.j)&&e&&n.m(t,e),n.m("VER",this.qb),this.ea(n),n},r.sa=function(t){if(t&&!this.T)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new xe(this.xc)).Sd(this.T),t},r.Pa=function(){return!!this.b&&!0},r.Da=function(){return this.T},(r=Ue.prototype).Ia=null,r.pb=function(){},r.ob=function(){},r.nb=function(){},r.mb=function(){},r.yc=function(){},r.$c=function(t){return t},Fe.prototype.a=function(t,e){return new qe(t,e)},S(qe,Et),(r=qe.prototype).addEventListener=function(t,e,n,r){qe.S.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){qe.S.removeEventListener.call(this,t,e,n,r)},r.Yc=function(){this.a.jc(this.f),this.l&&this.a.Rd(),this.a.bd(this.o,this.g,this.b||void 0)},r.close=function(){this.a.Qa()},r.Zc=function(t){if(s(t)){var e={};e.__data__=t,this.a.Xa(e)}else this.h?((e={}).__data__=_t(t),this.a.Xa(e)):this.a.Xa(t)},r.G=function(){this.a.jc(null),delete this.f,this.a.Qa(),delete this.a,qe.S.G.call(this)},S(Ve,Jt),S(Be,$t),S(ze,Ue),ze.prototype.pb=function(){this.a.dispatchEvent("a")},ze.prototype.ob=function(t){this.a.dispatchEvent(new Ve(t))},ze.prototype.nb=function(t){this.a.dispatchEvent(new Be(t))},ze.prototype.mb=function(){this.a.dispatchEvent("b")};var He=b(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Fe);Fe.prototype.createWebChannel=Fe.prototype.a,qe.prototype.send=qe.prototype.Zc,qe.prototype.open=qe.prototype.Yc,qe.prototype.close=qe.prototype.close,Kt.NO_ERROR=0,Kt.TIMEOUT=8,Kt.HTTP_ERROR=6,Gt.COMPLETE="complete",Yt.EventType=Zt,Zt.OPEN="a",Zt.CLOSE="b",Zt.ERROR="c",Zt.MESSAGE="d",Et.prototype.listen=Et.prototype.Lb,xe.prototype.listenOnce=xe.prototype.Mb,xe.prototype.getLastError=xe.prototype.dd,xe.prototype.getLastErrorCode=xe.prototype.Db,xe.prototype.getStatus=xe.prototype.aa,xe.prototype.getStatusText=xe.prototype.Fb,xe.prototype.getResponseJson=xe.prototype.Nc,xe.prototype.getResponseText=xe.prototype.va,xe.prototype.send=xe.prototype.xa;var We={createWebChannelTransport:He,ErrorCode:Kt,EventType:Gt,WebChannel:Yt,XhrIo:xe},Ke=We.createWebChannelTransport,Ge=We.ErrorCode,Qe=We.EventType,Ye=We.WebChannel,Xe=We.XhrIo;e.default=We},xGvh:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},xSm1:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("KOl+");function i(t,e,n,i){return Object(r.c)(t,e,n).apply(this,i)}},xTla:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},xrBK:function(t,e,n){var r=n("UFGs"),i=n("Rbo/"),o=n("kSm0"),a=n("ifzb")("IE_PROTO"),s=function(){},u=function(){var t,e=n("y6nS")("iframe"),r=o.length;for(e.style.display="none",n("yI25").appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;r--;)delete u.prototype[o[r]];return u()};t.exports=Object.create||function(t,e){var n;return null!==t?(s.prototype=r(t),n=new s,s.prototype=null,n[a]=t):n=u(),void 0===e?n:i(n,e)}},y3By:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("+umK");function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:r.a}},y6nS:function(t,e,n){var r=n("Zp05"),i=n("qtiw").document,o=r(i)&&r(i.createElement);t.exports=function(t){return o?i.createElement(t):{}}},yI25:function(t,e,n){var r=n("qtiw").document;t.exports=r&&r.documentElement},yLjp:function(t,e,n){n("u00B")("asyncIterator")},ytDL:function(t,e,n){var r=n("UFGs"),i=n("q098"),o=n("IiNp"),a=Object.defineProperty;e.f=n("lIov")?Object.defineProperty:function(t,e,n){if(r(t),e=o(e,!0),r(n),i)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},zGGa:function(t,e,n){for(var r=n("U8mZ"),i=n("9Aud"),o=n("TDVo"),a=n("qtiw"),s=n("GYIZ"),u=n("Qtk+"),c=n("jZgK"),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=i(d),m=0;m<p.length;m++){var y,v=p[m],g=d[v],b=a[v],w=b&&b.prototype;if(w&&(w[l]||s(w,l,f),w[h]||s(w,h,v),u[v]=f,g))for(y in r)w[y]||o(w,y,r[y],!0)}},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("CcnG"),i={},o=function(){return function(){}}(),a=n("ZZ/e"),s=n("mrSG"),u=n("a3Cf"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.d)(e,t),e.prototype.show=function(){return Object(u.cordova)(this,"show",{sync:!0},arguments)},e.prototype.hide=function(){return Object(u.cordova)(this,"hide",{sync:!0},arguments)},e.pluginName="SplashScreen",e.plugin="cordova-plugin-splashscreen",e.pluginRef="navigator.splashscreen",e.repo="https://github.com/apache/cordova-plugin-splashscreen",e.platforms=["Amazon Fire OS","Android","iOS","Windows"],e}(u.IonicNativePlugin),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(s.d)(e,t),e.prototype.overlaysWebView=function(t){return Object(u.cordova)(this,"overlaysWebView",{sync:!0},arguments)},e.prototype.styleDefault=function(){return Object(u.cordova)(this,"styleDefault",{sync:!0},arguments)},e.prototype.styleLightContent=function(){return Object(u.cordova)(this,"styleLightContent",{sync:!0},arguments)},e.prototype.styleBlackTranslucent=function(){return Object(u.cordova)(this,"styleBlackTranslucent",{sync:!0},arguments)},e.prototype.styleBlackOpaque=function(){return Object(u.cordova)(this,"styleBlackOpaque",{sync:!0},arguments)},e.prototype.backgroundColorByName=function(t){return Object(u.cordova)(this,"backgroundColorByName",{sync:!0},arguments)},e.prototype.backgroundColorByHexString=function(t){return Object(u.cordova)(this,"backgroundColorByHexString",{sync:!0},arguments)},e.prototype.hide=function(){return Object(u.cordova)(this,"hide",{sync:!0},arguments)},e.prototype.show=function(){return Object(u.cordova)(this,"show",{sync:!0},arguments)},Object.defineProperty(e.prototype,"isVisible",{get:function(){return Object(u.cordovaPropertyGet)(this,"isVisible")},set:function(t){Object(u.cordovaPropertySet)(this,"isVisible",t)},enumerable:!0,configurable:!0}),e.pluginName="StatusBar",e.plugin="cordova-plugin-statusbar",e.pluginRef="StatusBar",e.repo="https://github.com/apache/cordova-plugin-statusbar",e.platforms=["Android","iOS","Windows"],e}(u.IonicNativePlugin),h=n("LLt/"),f=function(){function t(t,e,n,r,i){this.platform=t,this.splashScreen=e,this.statusBar=n,this.auth=r,this.router=i,this.initializeApp()}return t.prototype.initializeApp=function(){var t=this;this.platform.ready().then(function(){t.statusBar.styleDefault(),t.splashScreen.hide(),t.auth.authenticationState.subscribe(function(e){console.log("Auth Changed: ",e),t.router.navigate(e?["home"]:["login"])})})},t}(),d=n("pMnS"),p=n("oBZk"),m=n("ZYCi"),y=r.nb({encapsulation:2,styles:[],data:{}});function v(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,3,"ion-app",[],null,null,null,p.w,p.a)),r.ob(1,49152,null,0,a.c,[r.h,r.k],null,null),(t()(),r.pb(2,16777216,null,0,1,"ion-router-outlet",[],null,null,null,null,null)),r.ob(3,212992,null,0,a.fb,[m.b,r.O,r.j,[8,null],[8,null],r.h,a.b,a.Eb,r.k,m.m,r.z,m.a,[3,a.fb]],null,null)],function(t,e){t(e,3,0)},null)}function g(t){return r.Eb(0,[(t()(),r.pb(0,0,null,null,1,"app-root",[],null,null,null,v,y)),r.ob(1,49152,null,0,f,[a.Gb,c,l,h.a,m.m],null,null)],null,null)}var b=r.lb("app-root",f,g,{},{},[]),w=n("Ip0R"),S=n("ZYjt"),E=n("ORnb"),_=n("tct4"),T=n("iw74"),I=n("CB3U"),C=n("ITiG"),k=function(){function t(t){this.auth=t}return t.prototype.canActivate=function(){return this.auth.isAuthenticated()},t.ngInjectableDef=r.S({factory:function(){return new t(r.W(h.a))},token:t,providedIn:"root"}),t}(),A=function(){return function(){}}(),O=r.mb(o,[f],function(t){return r.vb([r.wb(512,r.j,r.bb,[[8,[d.a,b]],[3,r.j],r.x]),r.wb(5120,r.u,r.kb,[[3,r.u]]),r.wb(4608,w.k,w.j,[r.u,[2,w.r]]),r.wb(5120,r.c,r.hb,[]),r.wb(5120,r.s,r.ib,[]),r.wb(5120,r.t,r.jb,[]),r.wb(4608,S.b,S.k,[w.c]),r.wb(6144,r.G,null,[S.b]),r.wb(4608,S.e,S.g,[]),r.wb(5120,S.c,function(t,e,n,r,i,o,a,s){return[new S.i(t,e,n),new S.n(r),new S.m(i,o,a,s)]},[w.c,r.z,r.B,w.c,w.c,S.e,r.cb,[2,S.f]]),r.wb(4608,S.d,S.d,[S.c,r.z]),r.wb(135680,S.l,S.l,[w.c]),r.wb(4608,S.j,S.j,[S.d,S.l]),r.wb(6144,r.E,null,[S.j]),r.wb(6144,S.o,null,[S.l]),r.wb(4608,r.M,r.M,[r.z]),r.wb(4608,a.a,a.a,[r.z,r.g]),r.wb(4608,a.Db,a.Db,[a.a,r.j,r.q,w.c]),r.wb(4608,a.Hb,a.Hb,[a.a,r.j,r.q,w.c]),r.wb(5120,m.a,m.A,[m.m]),r.wb(4608,m.e,m.e,[]),r.wb(6144,m.h,null,[m.e]),r.wb(135680,m.q,m.q,[m.m,r.w,r.i,r.q,m.h]),r.wb(4608,m.g,m.g,[]),r.wb(5120,m.E,m.w,[m.m,w.n,m.i]),r.wb(5120,m.j,m.D,[m.B]),r.wb(5120,r.b,function(t){return[t]},[m.j]),r.wb(5120,E.b,E.f,[E.d,[2,E.c]]),r.wb(4608,_.a,_.a,[E.d,[2,E.c],[2,_.c],[2,_.d],r.B,r.z,[2,_.e]]),r.wb(5120,T.b,T.d,[T.c]),r.wb(4608,l,l,[]),r.wb(4608,c,c,[]),r.wb(4608,I.AngularFireAuth,I.AngularFireAuth,[E.d,[2,E.c],r.B,r.z]),r.wb(4608,h.a,h.a,[I.AngularFireAuth,a.Gb,T.b,C.a]),r.wb(1073742336,w.b,w.b,[]),r.wb(1024,r.l,S.p,[]),r.wb(1024,r.y,function(){return[m.v()]},[]),r.wb(512,m.B,m.B,[r.q]),r.wb(256,a.Mb,void 0,[]),r.wb(1024,r.d,function(t,e,n,r){return[S.q(t),m.C(e),a.Nb(n,r)]},[[2,r.y],m.B,a.Mb,w.c]),r.wb(512,r.e,r.e,[[2,r.d]]),r.wb(131584,r.g,r.g,[r.z,r.cb,r.q,r.l,r.j,r.e]),r.wb(1073742336,r.f,r.f,[r.g]),r.wb(1073742336,S.a,S.a,[[3,S.a]]),r.wb(1073742336,a.Bb,a.Bb,[]),r.wb(1073742336,T.a,T.a,[]),r.wb(1024,m.u,m.y,[[3,m.m]]),r.wb(512,m.s,m.c,[]),r.wb(512,m.b,m.b,[]),r.wb(256,m.i,{},[]),r.wb(1024,w.g,m.x,[w.m,[2,w.a],m.i]),r.wb(512,w.f,w.f,[w.g]),r.wb(512,r.i,r.i,[]),r.wb(512,r.w,r.J,[r.i,[2,r.K]]),r.wb(1024,m.k,function(){return[[{path:"",redirectTo:"login",pathMatch:"full"},{path:"home",loadChildren:"../pages/home/home.module#HomePageModule"},{path:"login",loadChildren:"../pages/login/login.module#LoginPageModule"},{path:"register",loadChildren:"../pages/register/register.module#RegisterPageModule"},{path:"home",canActivate:[k],loadChildren:"../pages/home/home.module#HomePageModule"},{path:"profile",canActivate:[k],loadChildren:"../pages/profile/profile.module#ProfilePageModule"},{path:"trip",loadChildren:"../pages/trip/trip.module#TripPageModule"},{path:"trip/:id",loadChildren:"../pages/trip/trip.module#TripPageModule"},{path:"new-trip",loadChildren:"../pages/new-trip/new-trip.module#NewTripPageModule"},{path:"trip-dates",loadChildren:"../pages/trip-dates/trip-dates.module#TripDatesPageModule"},{path:"destination",loadChildren:"../pages/destination/destination.module#DestinationPageModule"},{path:"people",loadChildren:"../pages/people/people.module#PeoplePageModule"},{path:"activities",loadChildren:"../pages/activities/activities.module#ActivitiesPageModule"},{path:"budget",loadChildren:"../pages/budget/budget.module#BudgetPageModule"},{path:"new-trip-results",loadChildren:"../pages/new-trip-results/new-trip-results.module#NewTripResultsPageModule"}]]},[]),r.wb(512,m.l,a.Cb,[]),r.wb(1024,m.m,m.z,[r.g,m.s,m.b,w.f,r.q,r.w,r.i,m.k,m.i,[2,m.r],[2,m.l]]),r.wb(1073742336,m.o,m.o,[[2,m.u],[2,m.m]]),r.wb(1073742336,A,A,[]),r.wb(1073742336,E.a,E.a,[]),r.wb(1073742336,_.b,_.b,[]),r.wb(1073742336,o,o,[]),r.wb(256,r.ab,!0,[]),r.wb(256,E.d,{apiKey:"AIzaSyAoCY-6Uyv-anLvldO3bIW3TgEprwxuZGs",authDomain:"travlr-app.firebaseapp.com",databaseURL:"https://travlr-app.firebaseio.com",projectId:"travlr-app",storageBucket:"travlr-app.appspot.com",messagingSenderId:"1044542374096"},[]),r.wb(256,E.c,void 0,[]),r.wb(256,_.d,i,[]),r.wb(256,T.c,null,[])])});Object(r.T)(),S.h().bootstrapModuleFactory(O).catch(function(t){return console.log(t)})},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("+7AZ"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!=s&&(r.push(a<<4&240|s>>2),64!=u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},d=Error.captureStackTrace,p=function(){return function(t,e){if(this.code=t,this.message=e,d)d(this,m.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name="FirebaseError",Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}}();p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="FirebaseError";var m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"});var o=new p(i,n=this.serviceName+": "+n+" ("+i+").");for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function y(t){return JSON.parse(t)}var v=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:e,claims:n,data:r,signature:i}},g=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},b=function(t,e){return g(e,function(e,n){t[e]=n}),t},w=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},S=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return r.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,a=this.chain_[0],s=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^s&(u^c),o=1518500249):(i=s^u^c,o=1859775393):r<60?(i=s&u|c&(s|u),o=2400959708):(i=s^u^c,o=3395469782);var h=(a<<5|a>>>27)+i+l+o+n[r]&4294967295;l=c,c=u,u=4294967295&(s<<30|s>>>2),s=a,a=h}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(function(){return function(){this.blockSize=-1}}()),E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=_),void 0===r.error&&(r.error=_),void 0===r.complete&&(r.complete=_);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function _(){}function T(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.assert=o,e.assertionError=a,e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=s(t);return u.encodeByteArray(e,!0)},e.CONSTANTS=i,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.patchProperty=function(t,e,n){t[e]=n},e.Deferred=h,e.getUA=f,e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.ErrorFactory=m,e.FirebaseError=p,e.patchCapture=function(t){var e=d;return d=t,e},e.jsonEval=y,e.stringify=function(t){return JSON.stringify(t)},e.decode=v,e.isAdmin=function(t){var e=v(t).claims;return"object"==typeof e&&!0===e.admin},e.issuedAtTime=function(t){var e=v(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.isValidFormat=function(t){var e=v(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e,n,r=v(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},e.clone=function(t){return b({},t)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.every=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},e.extend=b,e.findKey=w,e.findValue=function(t,e,n){var r=w(t,e,n);return r&&t[r]},e.forEach=g,e.getAnyKey=function(t){for(var e in t)return e},e.getCount=function(t){var e=0;for(var n in t)e++;return e},e.getValues=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},e.isEmpty=function(t){for(var e in t)return!1;return!0},e.isNonNullObject=function(t){return"object"==typeof t&&null!==t},e.map=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},e.safeGet=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},e.querystring=function(t){var e=[];return g(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.Sha1=S,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.createSubscribe=function(t,e){var n=new E(t,e);return n.subscribe.bind(n)},e.errorPrefix=T,e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(T(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(T(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(T(t,e,r)+"must be a valid firebase namespace.")},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}},zotm:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("rPjj"),i=n("Fxb1");function o(t,e,n,o,a){if(void 0===a&&(a=new r.a(t,n,o)),!a.closed)return Object(i.a)(e)(a)}}},[[0,3]]]);